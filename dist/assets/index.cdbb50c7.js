var mh=Object.defineProperty;var vh=(e,t,r)=>t in e?mh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hr=(e,t,r)=>(vh(e,typeof t!="symbol"?t+"":t,r),r),Ml=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var Nn=(e,t,r)=>(Ml(e,t,"read from private field"),r?r.call(e):t.get(e)),ei=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},bi=(e,t,r,_e)=>(Ml(e,t,"write to private field"),_e?_e.call(e,r):t.set(e,r),r),Ol=(e,t,r,_e)=>({set _(Ae){bi(e,t,Ae,r)},get _(){return Nn(e,t,_e)}}),ii=(e,t,r)=>(Ml(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const Ae of document.querySelectorAll('link[rel="modulepreload"]'))_e(Ae);new MutationObserver(Ae=>{for(const Se of Ae)if(Se.type==="childList")for(const Ee of Se.addedNodes)Ee.tagName==="LINK"&&Ee.rel==="modulepreload"&&_e(Ee)}).observe(document,{childList:!0,subtree:!0});function r(Ae){const Se={};return Ae.integrity&&(Se.integrity=Ae.integrity),Ae.referrerpolicy&&(Se.referrerPolicy=Ae.referrerpolicy),Ae.crossorigin==="use-credentials"?Se.credentials="include":Ae.crossorigin==="anonymous"?Se.credentials="omit":Se.credentials="same-origin",Se}function _e(Ae){if(Ae.ep)return;Ae.ep=!0;const Se=r(Ae);fetch(Ae.href,Se)}})();function makeMap(e,t){const r=Object.create(null),_e=e.split(",");for(let Ae=0;Ae<_e.length;Ae++)r[_e[Ae]]=!0;return t?Ae=>!!r[Ae.toLowerCase()]:Ae=>!!r[Ae]}function normalizeStyle(e){if(isArray$1(e)){const t={};for(let r=0;r<e.length;r++){const _e=e[r],Ae=isString(_e)?parseStringStyle(_e):normalizeStyle(_e);if(Ae)for(const Se in Ae)t[Se]=Ae[Se]}return t}else{if(isString(e))return e;if(isObject(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const _e=r.split(propertyDelimiterRE);_e.length>1&&(t[_e[0].trim()]=_e[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray$1(e))for(let r=0;r<e.length;r++){const _e=normalizeClass(e[r]);_e&&(t+=_e+" ")}else if(isObject(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const toDisplayString=e=>isString(e)?e:e==null?"":isArray$1(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[_e,Ae])=>(r[`${_e} =>`]=Ae,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject(t)&&!isArray$1(t)&&!isPlainObject(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>isObject(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},def=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},toNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(t){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this.active){let r,_e;for(r=0,_e=this.effects.length;r<_e;r++)this.effects[r].stop();for(r=0,_e=this.cleanups.length;r<_e;r++)this.cleanups[r]();if(this.scopes)for(r=0,_e=this.scopes.length;r<_e;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const Ae=this.parent.scopes.pop();Ae&&Ae!==this&&(this.parent.scopes[this.index]=Ae,Ae.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let r=0;for(let _e=0;_e<t.length;_e++){const Ae=t[_e];wasTracked(Ae)&&!newTracked(Ae)?Ae.delete(e):t[r++]=Ae,Ae.w&=~trackOpBit,Ae.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,r=null,_e){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,_e)}run(){if(!this.active)return this.fn();let t=activeEffect,r=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,r){if(shouldTrack&&activeEffect){let _e=targetMap.get(e);_e||targetMap.set(e,_e=new Map);let Ae=_e.get(r);Ae||_e.set(r,Ae=createDep()),trackEffects(Ae)}}function trackEffects(e,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,r=!wasTracked(e)):r=!e.has(activeEffect),r&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,r,_e,Ae,Se){const Ee=targetMap.get(e);if(!Ee)return;let xe=[];if(t==="clear")xe=[...Ee.values()];else if(r==="length"&&isArray$1(e)){const Te=toNumber(_e);Ee.forEach((Ce,Re)=>{(Re==="length"||Re>=Te)&&xe.push(Ce)})}else switch(r!==void 0&&xe.push(Ee.get(r)),t){case"add":isArray$1(e)?isIntegerKey(r)&&xe.push(Ee.get("length")):(xe.push(Ee.get(ITERATE_KEY)),isMap(e)&&xe.push(Ee.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(e)||(xe.push(Ee.get(ITERATE_KEY)),isMap(e)&&xe.push(Ee.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&xe.push(Ee.get(ITERATE_KEY));break}if(xe.length===1)xe[0]&&triggerEffects(xe[0]);else{const Te=[];for(const Ce of xe)Ce&&Te.push(...Ce);triggerEffects(createDep(Te))}}function triggerEffects(e,t){const r=isArray$1(e)?e:[...e];for(const _e of r)_e.computed&&triggerEffect(_e);for(const _e of r)_e.computed||triggerEffect(_e)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const _e=toRaw(this);for(let Se=0,Ee=this.length;Se<Ee;Se++)track(_e,"get",Se+"");const Ae=_e[t](...r);return Ae===-1||Ae===!1?_e[t](...r.map(toRaw)):Ae}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking();const _e=toRaw(this)[t].apply(this,r);return resetTracking(),_e}}),e}function createGetter(e=!1,t=!1){return function(_e,Ae,Se){if(Ae==="__v_isReactive")return!e;if(Ae==="__v_isReadonly")return e;if(Ae==="__v_isShallow")return t;if(Ae==="__v_raw"&&Se===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(_e))return _e;const Ee=isArray$1(_e);if(!e&&Ee&&hasOwn(arrayInstrumentations,Ae))return Reflect.get(arrayInstrumentations,Ae,Se);const xe=Reflect.get(_e,Ae,Se);return(isSymbol(Ae)?builtInSymbols.has(Ae):isNonTrackableKeys(Ae))||(e||track(_e,"get",Ae),t)?xe:isRef(xe)?Ee&&isIntegerKey(Ae)?xe:xe.value:isObject(xe)?e?readonly(xe):reactive(xe):xe}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(r,_e,Ae,Se){let Ee=r[_e];if(isReadonly(Ee)&&isRef(Ee)&&!isRef(Ae))return!1;if(!e&&(!isShallow(Ae)&&!isReadonly(Ae)&&(Ee=toRaw(Ee),Ae=toRaw(Ae)),!isArray$1(r)&&isRef(Ee)&&!isRef(Ae)))return Ee.value=Ae,!0;const xe=isArray$1(r)&&isIntegerKey(_e)?Number(_e)<r.length:hasOwn(r,_e),Te=Reflect.set(r,_e,Ae,Se);return r===toRaw(Se)&&(xe?hasChanged(Ae,Ee)&&trigger(r,"set",_e,Ae):trigger(r,"add",_e,Ae)),Te}}function deleteProperty(e,t){const r=hasOwn(e,t);e[t];const _e=Reflect.deleteProperty(e,t);return _e&&r&&trigger(e,"delete",t,void 0),_e}function has(e,t){const r=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),r}function ownKeys(e){return track(e,"iterate",isArray$1(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1(e,t,r=!1,_e=!1){e=e.__v_raw;const Ae=toRaw(e),Se=toRaw(t);r||(t!==Se&&track(Ae,"get",t),track(Ae,"get",Se));const{has:Ee}=getProto(Ae),xe=_e?toShallow:r?toReadonly:toReactive;if(Ee.call(Ae,t))return xe(e.get(t));if(Ee.call(Ae,Se))return xe(e.get(Se));e!==Ae&&e.get(t)}function has$1(e,t=!1){const r=this.__v_raw,_e=toRaw(r),Ae=toRaw(e);return t||(e!==Ae&&track(_e,"has",e),track(_e,"has",Ae)),e===Ae?r.has(e):r.has(e)||r.has(Ae)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set$1(e,t){t=toRaw(t);const r=toRaw(this),{has:_e,get:Ae}=getProto(r);let Se=_e.call(r,e);Se||(e=toRaw(e),Se=_e.call(r,e));const Ee=Ae.call(r,e);return r.set(e,t),Se?hasChanged(t,Ee)&&trigger(r,"set",e,t):trigger(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:_e}=getProto(t);let Ae=r.call(t,e);Ae||(e=toRaw(e),Ae=r.call(t,e)),_e&&_e.call(t,e);const Se=t.delete(e);return Ae&&trigger(t,"delete",e,void 0),Se}function clear(){const e=toRaw(this),t=e.size!==0,r=e.clear();return t&&trigger(e,"clear",void 0,void 0),r}function createForEach(e,t){return function(_e,Ae){const Se=this,Ee=Se.__v_raw,xe=toRaw(Ee),Te=t?toShallow:e?toReadonly:toReactive;return!e&&track(xe,"iterate",ITERATE_KEY),Ee.forEach((Ce,Re)=>_e.call(Ae,Te(Ce),Te(Re),Se))}}function createIterableMethod(e,t,r){return function(..._e){const Ae=this.__v_raw,Se=toRaw(Ae),Ee=isMap(Se),xe=e==="entries"||e===Symbol.iterator&&Ee,Te=e==="keys"&&Ee,Ce=Ae[e](..._e),Re=r?toShallow:t?toReadonly:toReactive;return!t&&track(Se,"iterate",Te?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Ue,done:De}=Ce.next();return De?{value:Ue,done:De}:{value:xe?[Re(Ue[0]),Re(Ue[1])]:Re(Ue),done:De}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(Se){return get$1(this,Se)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(Se){return get$1(this,Se,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(Se){return get$1(this,Se,!0)},get size(){return size(this,!0)},has(Se){return has$1.call(this,Se,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},_e={get(Se){return get$1(this,Se,!0,!0)},get size(){return size(this,!0)},has(Se){return has$1.call(this,Se,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Se=>{e[Se]=createIterableMethod(Se,!1,!1),r[Se]=createIterableMethod(Se,!0,!1),t[Se]=createIterableMethod(Se,!1,!0),_e[Se]=createIterableMethod(Se,!0,!0)}),[e,r,t,_e]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(_e,Ae,Se)=>Ae==="__v_isReactive"?!e:Ae==="__v_isReadonly"?e:Ae==="__v_raw"?_e:Reflect.get(hasOwn(r,Ae)&&Ae in _e?r:_e,Ae,Se)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,r,_e,Ae){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const Se=Ae.get(e);if(Se)return Se;const Ee=getTargetType(e);if(Ee===0)return e;const xe=new Proxy(e,Ee===2?_e:r);return Ae.set(e,xe),xe}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,_e)=>{const Ae=e[t];return isRef(Ae)&&!isRef(r)?(Ae.value=r,!0):Reflect.set(e,t,r,_e)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}var _a$1;class ComputedRefImpl{constructor(t,r,_e,Ae){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Ae,this.__v_isReadonly=_e}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a$1="__v_isReadonly";function computed$1(e,t,r=!1){let _e,Ae;const Se=isFunction(e);return Se?(_e=e,Ae=NOOP):(_e=e.get,Ae=e.set),new ComputedRefImpl(_e,Ae,Se||!Ae,r)}const stack=[];function warn(e,...t){pauseTracking();const r=stack.length?stack[stack.length-1].component:null,_e=r&&r.appContext.config.warnHandler,Ae=getComponentTrace();if(_e)callWithErrorHandling(_e,r,11,[e+t.join(""),r&&r.proxy,Ae.map(({vnode:Se})=>`at <${formatComponentName(r,Se.type)}>`).join(`
`),Ae]);else{const Se=[`[Vue warn]: ${e}`,...t];Ae.length&&Se.push(`
`,...formatTrace(Ae)),console.warn(...Se)}resetTracking()}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const _e=e.component&&e.component.parent;e=_e&&_e.vnode}return t}function formatTrace(e){const t=[];return e.forEach((r,_e)=>{t.push(..._e===0?[]:[`
`],...formatTraceEntry(r))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",_e=e.component?e.component.parent==null:!1,Ae=` at <${formatComponentName(e.component,e.type,_e)}`,Se=">"+r;return e.props?[Ae,...formatProps(e.props),Se]:[Ae+Se]}function formatProps(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(_e=>{t.push(...formatProp(_e,e[_e]))}),r.length>3&&t.push(" ..."),t}function formatProp(e,t,r){return isString(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):isFunction(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),r?t:[`${e}=`,t])}function callWithErrorHandling(e,t,r,_e){let Ae;try{Ae=_e?e(..._e):e()}catch(Se){handleError(Se,t,r)}return Ae}function callWithAsyncErrorHandling(e,t,r,_e){if(isFunction(e)){const Se=callWithErrorHandling(e,t,r,_e);return Se&&isPromise(Se)&&Se.catch(Ee=>{handleError(Ee,t,r)}),Se}const Ae=[];for(let Se=0;Se<e.length;Se++)Ae.push(callWithAsyncErrorHandling(e[Se],t,r,_e));return Ae}function handleError(e,t,r,_e=!0){const Ae=t?t.vnode:null;if(t){let Se=t.parent;const Ee=t.proxy,xe=r;for(;Se;){const Ce=Se.ec;if(Ce){for(let Re=0;Re<Ce.length;Re++)if(Ce[Re](e,Ee,xe)===!1)return}Se=Se.parent}const Te=t.appContext.config.errorHandler;if(Te){callWithErrorHandling(Te,null,10,[e,Ee,xe]);return}}logError(e,r,Ae,_e)}function logError(e,t,r,_e=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const _e=t+r>>>1;getId(queue[_e])<e?t=_e+1:r=_e}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const r=queue[t];r&&r.pre&&(queue.splice(t,1),t--,r())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((r,_e)=>getId(r)-getId(_e)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const r=getId(e)-getId(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(e,t,...r){if(e.isUnmounted)return;const _e=e.vnode.props||EMPTY_OBJ;let Ae=r;const Se=t.startsWith("update:"),Ee=Se&&t.slice(7);if(Ee&&Ee in _e){const Re=`${Ee==="modelValue"?"model":Ee}Modifiers`,{number:Ue,trim:De}=_e[Re]||EMPTY_OBJ;De&&(Ae=r.map(ke=>isString(ke)?ke.trim():ke)),Ue&&(Ae=r.map(toNumber))}let xe,Te=_e[xe=toHandlerKey(t)]||_e[xe=toHandlerKey(camelize(t))];!Te&&Se&&(Te=_e[xe=toHandlerKey(hyphenate(t))]),Te&&callWithAsyncErrorHandling(Te,e,6,Ae);const Ce=_e[xe+"Once"];if(Ce){if(!e.emitted)e.emitted={};else if(e.emitted[xe])return;e.emitted[xe]=!0,callWithAsyncErrorHandling(Ce,e,6,Ae)}}function normalizeEmitsOptions(e,t,r=!1){const _e=t.emitsCache,Ae=_e.get(e);if(Ae!==void 0)return Ae;const Se=e.emits;let Ee={},xe=!1;if(!isFunction(e)){const Te=Ce=>{const Re=normalizeEmitsOptions(Ce,t,!0);Re&&(xe=!0,extend(Ee,Re))};!r&&t.mixins.length&&t.mixins.forEach(Te),e.extends&&Te(e.extends),e.mixins&&e.mixins.forEach(Te)}return!Se&&!xe?(isObject(e)&&_e.set(e,null),null):(isArray$1(Se)?Se.forEach(Te=>Ee[Te]=null):extend(Ee,Se),isObject(e)&&_e.set(e,Ee),Ee)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const _e=(...Ae)=>{_e._d&&setBlockTracking(-1);const Se=setCurrentRenderingInstance(t);let Ee;try{Ee=e(...Ae)}finally{setCurrentRenderingInstance(Se),_e._d&&setBlockTracking(1)}return Ee};return _e._n=!0,_e._c=!0,_e._d=!0,_e}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:r,proxy:_e,withProxy:Ae,props:Se,propsOptions:[Ee],slots:xe,attrs:Te,emit:Ce,render:Re,renderCache:Ue,data:De,setupState:ke,ctx:Me,inheritAttrs:Oe}=e;let Be,Ie;const qe=setCurrentRenderingInstance(e);try{if(r.shapeFlag&4){const ze=Ae||_e;Be=normalizeVNode(Re.call(ze,ze,Ue,Se,ke,De,Me)),Ie=Te}else{const ze=t;Be=normalizeVNode(ze.length>1?ze(Se,{attrs:Te,slots:xe,emit:Ce}):ze(Se,null)),Ie=t.props?Te:getFunctionalFallthrough(Te)}}catch(ze){blockStack.length=0,handleError(ze,e,1),Be=createVNode(Comment)}let je=Be;if(Ie&&Oe!==!1){const ze=Object.keys(Ie),{shapeFlag:Ve}=je;ze.length&&Ve&7&&(Ee&&ze.some(isModelListener)&&(Ie=filterModelListeners(Ie,Ee)),je=cloneVNode(je,Ie))}return r.dirs&&(je=cloneVNode(je),je.dirs=je.dirs?je.dirs.concat(r.dirs):r.dirs),r.transition&&(je.transition=r.transition),Be=je,setCurrentRenderingInstance(qe),Be}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const _e in e)(!isModelListener(_e)||!(_e.slice(9)in t))&&(r[_e]=e[_e]);return r};function shouldUpdateComponent(e,t,r){const{props:_e,children:Ae,component:Se}=e,{props:Ee,children:xe,patchFlag:Te}=t,Ce=Se.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&Te>=0){if(Te&1024)return!0;if(Te&16)return _e?hasPropsChanged(_e,Ee,Ce):!!Ee;if(Te&8){const Re=t.dynamicProps;for(let Ue=0;Ue<Re.length;Ue++){const De=Re[Ue];if(Ee[De]!==_e[De]&&!isEmitListener(Ce,De))return!0}}}else return(Ae||xe)&&(!xe||!xe.$stable)?!0:_e===Ee?!1:_e?Ee?hasPropsChanged(_e,Ee,Ce):!0:!!Ee;return!1}function hasPropsChanged(e,t,r){const _e=Object.keys(t);if(_e.length!==Object.keys(e).length)return!0;for(let Ae=0;Ae<_e.length;Ae++){const Se=_e[Ae];if(t[Se]!==e[Se]&&!isEmitListener(r,Se))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let r=currentInstance.provides;const _e=currentInstance.parent&&currentInstance.parent.provides;_e===r&&(r=currentInstance.provides=Object.create(_e)),r[e]=t}}function inject(e,t,r=!1){const _e=currentInstance||currentRenderingInstance;if(_e){const Ae=_e.parent==null?_e.vnode.appContext&&_e.vnode.appContext.provides:_e.parent.provides;if(Ae&&e in Ae)return Ae[e];if(arguments.length>1)return r&&isFunction(t)?t.call(_e.proxy):t}}const INITIAL_WATCHER_VALUE={};function watch(e,t,r){return doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:_e,flush:Ae,onTrack:Se,onTrigger:Ee}=EMPTY_OBJ){const xe=currentInstance;let Te,Ce=!1,Re=!1;if(isRef(e)?(Te=()=>e.value,Ce=isShallow(e)):isReactive(e)?(Te=()=>e,_e=!0):isArray$1(e)?(Re=!0,Ce=e.some(je=>isReactive(je)||isShallow(je)),Te=()=>e.map(je=>{if(isRef(je))return je.value;if(isReactive(je))return traverse(je);if(isFunction(je))return callWithErrorHandling(je,xe,2)})):isFunction(e)?t?Te=()=>callWithErrorHandling(e,xe,2):Te=()=>{if(!(xe&&xe.isUnmounted))return Ue&&Ue(),callWithAsyncErrorHandling(e,xe,3,[De])}:Te=NOOP,t&&_e){const je=Te;Te=()=>traverse(je())}let Ue,De=je=>{Ue=Ie.onStop=()=>{callWithErrorHandling(je,xe,4)}},ke;if(isInSSRComponentSetup)if(De=NOOP,t?r&&callWithAsyncErrorHandling(t,xe,3,[Te(),Re?[]:void 0,De]):Te(),Ae==="sync"){const je=useSSRContext();ke=je.__watcherHandles||(je.__watcherHandles=[])}else return NOOP;let Me=Re?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Oe=()=>{if(!!Ie.active)if(t){const je=Ie.run();(_e||Ce||(Re?je.some((ze,Ve)=>hasChanged(ze,Me[Ve])):hasChanged(je,Me)))&&(Ue&&Ue(),callWithAsyncErrorHandling(t,xe,3,[je,Me===INITIAL_WATCHER_VALUE||Re&&Me[0]===INITIAL_WATCHER_VALUE?void 0:Me,De]),Me=je)}else Ie.run()};Oe.allowRecurse=!!t;let Be;Ae==="sync"?Be=Oe:Ae==="post"?Be=()=>queuePostRenderEffect(Oe,xe&&xe.suspense):(Oe.pre=!0,xe&&(Oe.id=xe.uid),Be=()=>queueJob(Oe));const Ie=new ReactiveEffect(Te,Be);t?r?Oe():Me=Ie.run():Ae==="post"?queuePostRenderEffect(Ie.run.bind(Ie),xe&&xe.suspense):Ie.run();const qe=()=>{Ie.stop(),xe&&xe.scope&&remove(xe.scope.effects,Ie)};return ke&&ke.push(qe),qe}function instanceWatch(e,t,r){const _e=this.proxy,Ae=isString(e)?e.includes(".")?createPathGetter(_e,e):()=>_e[e]:e.bind(_e,_e);let Se;isFunction(t)?Se=t:(Se=t.handler,r=t);const Ee=currentInstance;setCurrentInstance(this);const xe=doWatch(Ae,Se.bind(_e),r);return Ee?setCurrentInstance(Ee):unsetCurrentInstance(),xe}function createPathGetter(e,t){const r=t.split(".");return()=>{let _e=e;for(let Ae=0;Ae<r.length&&_e;Ae++)_e=_e[r[Ae]];return _e}}function traverse(e,t){if(!isObject(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$1(e))for(let r=0;r<e.length;r++)traverse(e[r],t);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t)});else if(isPlainObject(e))for(const r in e)traverse(e[r],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const r=getCurrentInstance(),_e=useTransitionState();let Ae;return()=>{const Se=t.default&&getTransitionRawChildren(t.default(),!0);if(!Se||!Se.length)return;let Ee=Se[0];if(Se.length>1){for(const Oe of Se)if(Oe.type!==Comment){Ee=Oe;break}}const xe=toRaw(e),{mode:Te}=xe;if(_e.isLeaving)return emptyPlaceholder(Ee);const Ce=getKeepAliveChild(Ee);if(!Ce)return emptyPlaceholder(Ee);const Re=resolveTransitionHooks(Ce,xe,_e,r);setTransitionHooks(Ce,Re);const Ue=r.subTree,De=Ue&&getKeepAliveChild(Ue);let ke=!1;const{getTransitionKey:Me}=Ce.type;if(Me){const Oe=Me();Ae===void 0?Ae=Oe:Oe!==Ae&&(Ae=Oe,ke=!0)}if(De&&De.type!==Comment&&(!isSameVNodeType(Ce,De)||ke)){const Oe=resolveTransitionHooks(De,xe,_e,r);if(setTransitionHooks(De,Oe),Te==="out-in")return _e.isLeaving=!0,Oe.afterLeave=()=>{_e.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(Ee);Te==="in-out"&&Ce.type!==Comment&&(Oe.delayLeave=(Be,Ie,qe)=>{const je=getLeavingNodesForType(_e,De);je[String(De.key)]=De,Be._leaveCb=()=>{Ie(),Be._leaveCb=void 0,delete Re.delayedLeave},Re.delayedLeave=qe})}return Ee}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:r}=e;let _e=r.get(t.type);return _e||(_e=Object.create(null),r.set(t.type,_e)),_e}function resolveTransitionHooks(e,t,r,_e){const{appear:Ae,mode:Se,persisted:Ee=!1,onBeforeEnter:xe,onEnter:Te,onAfterEnter:Ce,onEnterCancelled:Re,onBeforeLeave:Ue,onLeave:De,onAfterLeave:ke,onLeaveCancelled:Me,onBeforeAppear:Oe,onAppear:Be,onAfterAppear:Ie,onAppearCancelled:qe}=t,je=String(e.key),ze=getLeavingNodesForType(r,e),Ve=(Je,dn)=>{Je&&callWithAsyncErrorHandling(Je,_e,9,dn)},He=(Je,dn)=>{const an=dn[1];Ve(Je,dn),isArray$1(Je)?Je.every(Ke=>Ke.length<=1)&&an():Je.length<=1&&an()},Qe={mode:Se,persisted:Ee,beforeEnter(Je){let dn=xe;if(!r.isMounted)if(Ae)dn=Oe||xe;else return;Je._leaveCb&&Je._leaveCb(!0);const an=ze[je];an&&isSameVNodeType(e,an)&&an.el._leaveCb&&an.el._leaveCb(),Ve(dn,[Je])},enter(Je){let dn=Te,an=Ce,Ke=Re;if(!r.isMounted)if(Ae)dn=Be||Te,an=Ie||Ce,Ke=qe||Re;else return;let rn=!1;const Cn=Je._enterCb=Sn=>{rn||(rn=!0,Sn?Ve(Ke,[Je]):Ve(an,[Je]),Qe.delayedLeave&&Qe.delayedLeave(),Je._enterCb=void 0)};dn?He(dn,[Je,Cn]):Cn()},leave(Je,dn){const an=String(e.key);if(Je._enterCb&&Je._enterCb(!0),r.isUnmounting)return dn();Ve(Ue,[Je]);let Ke=!1;const rn=Je._leaveCb=Cn=>{Ke||(Ke=!0,dn(),Cn?Ve(Me,[Je]):Ve(ke,[Je]),Je._leaveCb=void 0,ze[an]===e&&delete ze[an])};ze[an]=e,De?He(De,[Je,rn]):rn()},clone(Je){return resolveTransitionHooks(Je,t,r,_e)}};return Qe}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,r){let _e=[],Ae=0;for(let Se=0;Se<e.length;Se++){let Ee=e[Se];const xe=r==null?Ee.key:String(r)+String(Ee.key!=null?Ee.key:Se);Ee.type===Fragment?(Ee.patchFlag&128&&Ae++,_e=_e.concat(getTransitionRawChildren(Ee.children,t,xe))):(t||Ee.type!==Comment)&&_e.push(xe!=null?cloneVNode(Ee,{key:xe}):Ee)}if(Ae>1)for(let Se=0;Se<_e.length;Se++)_e[Se].patchFlag=-2;return _e}function defineComponent(e){return isFunction(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const _e=e.__wdc||(e.__wdc=()=>{let Ae=r;for(;Ae;){if(Ae.isDeactivated)return;Ae=Ae.parent}return e()});if(injectHook(t,_e,r),r){let Ae=r.parent;for(;Ae&&Ae.parent;)isKeepAlive(Ae.parent.vnode)&&injectToKeepAliveRoot(_e,t,r,Ae),Ae=Ae.parent}}function injectToKeepAliveRoot(e,t,r,_e){const Ae=injectHook(t,e,_e,!0);onUnmounted(()=>{remove(_e[t],Ae)},r)}function injectHook(e,t,r=currentInstance,_e=!1){if(r){const Ae=r[e]||(r[e]=[]),Se=t.__weh||(t.__weh=(...Ee)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const xe=callWithAsyncErrorHandling(t,r,e,Ee);return unsetCurrentInstance(),resetTracking(),xe});return _e?Ae.unshift(Se):Ae.push(Se),Se}}const createHook=e=>(t,r=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(..._e)=>t(..._e),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function withDirectives(e,t){const r=currentRenderingInstance;if(r===null)return e;const _e=getExposeProxy(r)||r.proxy,Ae=e.dirs||(e.dirs=[]);for(let Se=0;Se<t.length;Se++){let[Ee,xe,Te,Ce=EMPTY_OBJ]=t[Se];Ee&&(isFunction(Ee)&&(Ee={mounted:Ee,updated:Ee}),Ee.deep&&traverse(xe),Ae.push({dir:Ee,instance:_e,value:xe,oldValue:void 0,arg:Te,modifiers:Ce}))}return e}function invokeDirectiveHook(e,t,r,_e){const Ae=e.dirs,Se=t&&t.dirs;for(let Ee=0;Ee<Ae.length;Ee++){const xe=Ae[Ee];Se&&(xe.oldValue=Se[Ee].value);let Te=xe.dir[_e];Te&&(pauseTracking(),callWithAsyncErrorHandling(Te,r,8,[e.el,xe,e,t]),resetTracking())}}const COMPONENTS="components";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(e,t,r=!0,_e=!1){const Ae=currentRenderingInstance||currentInstance;if(Ae){const Se=Ae.type;if(e===COMPONENTS){const xe=getComponentName(Se,!1);if(xe&&(xe===t||xe===camelize(t)||xe===capitalize(camelize(t))))return Se}const Ee=resolve(Ae[e]||Se[e],t)||resolve(Ae.appContext[e],t);return!Ee&&_e?Se:Ee}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderList(e,t,r,_e){let Ae;const Se=r&&r[_e];if(isArray$1(e)||isString(e)){Ae=new Array(e.length);for(let Ee=0,xe=e.length;Ee<xe;Ee++)Ae[Ee]=t(e[Ee],Ee,void 0,Se&&Se[Ee])}else if(typeof e=="number"){Ae=new Array(e);for(let Ee=0;Ee<e;Ee++)Ae[Ee]=t(Ee+1,Ee,void 0,Se&&Se[Ee])}else if(isObject(e))if(e[Symbol.iterator])Ae=Array.from(e,(Ee,xe)=>t(Ee,xe,void 0,Se&&Se[xe]));else{const Ee=Object.keys(e);Ae=new Array(Ee.length);for(let xe=0,Te=Ee.length;xe<Te;xe++){const Ce=Ee[xe];Ae[xe]=t(e[Ce],Ce,xe,Se&&Se[xe])}}else Ae=[];return r&&(r[_e]=Ae),Ae}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:r,setupState:_e,data:Ae,props:Se,accessCache:Ee,type:xe,appContext:Te}=e;let Ce;if(t[0]!=="$"){const ke=Ee[t];if(ke!==void 0)switch(ke){case 1:return _e[t];case 2:return Ae[t];case 4:return r[t];case 3:return Se[t]}else{if(_e!==EMPTY_OBJ&&hasOwn(_e,t))return Ee[t]=1,_e[t];if(Ae!==EMPTY_OBJ&&hasOwn(Ae,t))return Ee[t]=2,Ae[t];if((Ce=e.propsOptions[0])&&hasOwn(Ce,t))return Ee[t]=3,Se[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return Ee[t]=4,r[t];shouldCacheAccess&&(Ee[t]=0)}}const Re=publicPropertiesMap[t];let Ue,De;if(Re)return t==="$attrs"&&track(e,"get",t),Re(e);if((Ue=xe.__cssModules)&&(Ue=Ue[t]))return Ue;if(r!==EMPTY_OBJ&&hasOwn(r,t))return Ee[t]=4,r[t];if(De=Te.config.globalProperties,hasOwn(De,t))return De[t]},set({_:e},t,r){const{data:_e,setupState:Ae,ctx:Se}=e;return Ae!==EMPTY_OBJ&&hasOwn(Ae,t)?(Ae[t]=r,!0):_e!==EMPTY_OBJ&&hasOwn(_e,t)?(_e[t]=r,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(Se[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:_e,appContext:Ae,propsOptions:Se}},Ee){let xe;return!!r[Ee]||e!==EMPTY_OBJ&&hasOwn(e,Ee)||t!==EMPTY_OBJ&&hasOwn(t,Ee)||(xe=Se[0])&&hasOwn(xe,Ee)||hasOwn(_e,Ee)||hasOwn(publicPropertiesMap,Ee)||hasOwn(Ae.config.globalProperties,Ee)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,_e=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:Ae,computed:Se,methods:Ee,watch:xe,provide:Te,inject:Ce,created:Re,beforeMount:Ue,mounted:De,beforeUpdate:ke,updated:Me,activated:Oe,deactivated:Be,beforeDestroy:Ie,beforeUnmount:qe,destroyed:je,unmounted:ze,render:Ve,renderTracked:He,renderTriggered:Qe,errorCaptured:Je,serverPrefetch:dn,expose:an,inheritAttrs:Ke,components:rn,directives:Cn,filters:Sn}=t;if(Ce&&resolveInjections(Ce,_e,null,e.appContext.config.unwrapInjectedRef),Ee)for(const vn in Ee){const pn=Ee[vn];isFunction(pn)&&(_e[vn]=pn.bind(r))}if(Ae){const vn=Ae.call(r,r);isObject(vn)&&(e.data=reactive(vn))}if(shouldCacheAccess=!0,Se)for(const vn in Se){const pn=Se[vn],On=isFunction(pn)?pn.bind(r,r):isFunction(pn.get)?pn.get.bind(r,r):NOOP,Hn=!isFunction(pn)&&isFunction(pn.set)?pn.set.bind(r):NOOP,Bn=computed({get:On,set:Hn});Object.defineProperty(_e,vn,{enumerable:!0,configurable:!0,get:()=>Bn.value,set:Ze=>Bn.value=Ze})}if(xe)for(const vn in xe)createWatcher(xe[vn],_e,r,vn);if(Te){const vn=isFunction(Te)?Te.call(r):Te;Reflect.ownKeys(vn).forEach(pn=>{provide(pn,vn[pn])})}Re&&callHook(Re,e,"c");function gn(vn,pn){isArray$1(pn)?pn.forEach(On=>vn(On.bind(r))):pn&&vn(pn.bind(r))}if(gn(onBeforeMount,Ue),gn(onMounted,De),gn(onBeforeUpdate,ke),gn(onUpdated,Me),gn(onActivated,Oe),gn(onDeactivated,Be),gn(onErrorCaptured,Je),gn(onRenderTracked,He),gn(onRenderTriggered,Qe),gn(onBeforeUnmount,qe),gn(onUnmounted,ze),gn(onServerPrefetch,dn),isArray$1(an))if(an.length){const vn=e.exposed||(e.exposed={});an.forEach(pn=>{Object.defineProperty(vn,pn,{get:()=>r[pn],set:On=>r[pn]=On})})}else e.exposed||(e.exposed={});Ve&&e.render===NOOP&&(e.render=Ve),Ke!=null&&(e.inheritAttrs=Ke),rn&&(e.components=rn),Cn&&(e.directives=Cn)}function resolveInjections(e,t,r=NOOP,_e=!1){isArray$1(e)&&(e=normalizeInject(e));for(const Ae in e){const Se=e[Ae];let Ee;isObject(Se)?"default"in Se?Ee=inject(Se.from||Ae,Se.default,!0):Ee=inject(Se.from||Ae):Ee=inject(Se),isRef(Ee)&&_e?Object.defineProperty(t,Ae,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:xe=>Ee.value=xe}):t[Ae]=Ee}}function callHook(e,t,r){callWithAsyncErrorHandling(isArray$1(e)?e.map(_e=>_e.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,_e){const Ae=_e.includes(".")?createPathGetter(r,_e):()=>r[_e];if(isString(e)){const Se=t[e];isFunction(Se)&&watch(Ae,Se)}else if(isFunction(e))watch(Ae,e.bind(r));else if(isObject(e))if(isArray$1(e))e.forEach(Se=>createWatcher(Se,t,r,_e));else{const Se=isFunction(e.handler)?e.handler.bind(r):t[e.handler];isFunction(Se)&&watch(Ae,Se,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:_e}=t,{mixins:Ae,optionsCache:Se,config:{optionMergeStrategies:Ee}}=e.appContext,xe=Se.get(t);let Te;return xe?Te=xe:!Ae.length&&!r&&!_e?Te=t:(Te={},Ae.length&&Ae.forEach(Ce=>mergeOptions$1(Te,Ce,Ee,!0)),mergeOptions$1(Te,t,Ee)),isObject(t)&&Se.set(t,Te),Te}function mergeOptions$1(e,t,r,_e=!1){const{mixins:Ae,extends:Se}=t;Se&&mergeOptions$1(e,Se,r,!0),Ae&&Ae.forEach(Ee=>mergeOptions$1(e,Ee,r,!0));for(const Ee in t)if(!(_e&&Ee==="expose")){const xe=internalOptionMergeStrats[Ee]||r&&r[Ee];e[Ee]=xe?xe(e[Ee],t[Ee]):t[Ee]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(extend(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend(Object.create(null),e);for(const _e in t)r[_e]=mergeAsArray(e[_e],t[_e]);return r}function initProps(e,t,r,_e=!1){const Ae={},Se={};def(Se,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,Ae,Se);for(const Ee in e.propsOptions[0])Ee in Ae||(Ae[Ee]=void 0);r?e.props=_e?Ae:shallowReactive(Ae):e.type.props?e.props=Ae:e.props=Se,e.attrs=Se}function updateProps(e,t,r,_e){const{props:Ae,attrs:Se,vnode:{patchFlag:Ee}}=e,xe=toRaw(Ae),[Te]=e.propsOptions;let Ce=!1;if((_e||Ee>0)&&!(Ee&16)){if(Ee&8){const Re=e.vnode.dynamicProps;for(let Ue=0;Ue<Re.length;Ue++){let De=Re[Ue];if(isEmitListener(e.emitsOptions,De))continue;const ke=t[De];if(Te)if(hasOwn(Se,De))ke!==Se[De]&&(Se[De]=ke,Ce=!0);else{const Me=camelize(De);Ae[Me]=resolvePropValue(Te,xe,Me,ke,e,!1)}else ke!==Se[De]&&(Se[De]=ke,Ce=!0)}}}else{setFullProps(e,t,Ae,Se)&&(Ce=!0);let Re;for(const Ue in xe)(!t||!hasOwn(t,Ue)&&((Re=hyphenate(Ue))===Ue||!hasOwn(t,Re)))&&(Te?r&&(r[Ue]!==void 0||r[Re]!==void 0)&&(Ae[Ue]=resolvePropValue(Te,xe,Ue,void 0,e,!0)):delete Ae[Ue]);if(Se!==xe)for(const Ue in Se)(!t||!hasOwn(t,Ue)&&!0)&&(delete Se[Ue],Ce=!0)}Ce&&trigger(e,"set","$attrs")}function setFullProps(e,t,r,_e){const[Ae,Se]=e.propsOptions;let Ee=!1,xe;if(t)for(let Te in t){if(isReservedProp(Te))continue;const Ce=t[Te];let Re;Ae&&hasOwn(Ae,Re=camelize(Te))?!Se||!Se.includes(Re)?r[Re]=Ce:(xe||(xe={}))[Re]=Ce:isEmitListener(e.emitsOptions,Te)||(!(Te in _e)||Ce!==_e[Te])&&(_e[Te]=Ce,Ee=!0)}if(Se){const Te=toRaw(r),Ce=xe||EMPTY_OBJ;for(let Re=0;Re<Se.length;Re++){const Ue=Se[Re];r[Ue]=resolvePropValue(Ae,Te,Ue,Ce[Ue],e,!hasOwn(Ce,Ue))}}return Ee}function resolvePropValue(e,t,r,_e,Ae,Se){const Ee=e[r];if(Ee!=null){const xe=hasOwn(Ee,"default");if(xe&&_e===void 0){const Te=Ee.default;if(Ee.type!==Function&&isFunction(Te)){const{propsDefaults:Ce}=Ae;r in Ce?_e=Ce[r]:(setCurrentInstance(Ae),_e=Ce[r]=Te.call(null,t),unsetCurrentInstance())}else _e=Te}Ee[0]&&(Se&&!xe?_e=!1:Ee[1]&&(_e===""||_e===hyphenate(r))&&(_e=!0))}return _e}function normalizePropsOptions(e,t,r=!1){const _e=t.propsCache,Ae=_e.get(e);if(Ae)return Ae;const Se=e.props,Ee={},xe=[];let Te=!1;if(!isFunction(e)){const Re=Ue=>{Te=!0;const[De,ke]=normalizePropsOptions(Ue,t,!0);extend(Ee,De),ke&&xe.push(...ke)};!r&&t.mixins.length&&t.mixins.forEach(Re),e.extends&&Re(e.extends),e.mixins&&e.mixins.forEach(Re)}if(!Se&&!Te)return isObject(e)&&_e.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(Se))for(let Re=0;Re<Se.length;Re++){const Ue=camelize(Se[Re]);validatePropName(Ue)&&(Ee[Ue]=EMPTY_OBJ)}else if(Se)for(const Re in Se){const Ue=camelize(Re);if(validatePropName(Ue)){const De=Se[Re],ke=Ee[Ue]=isArray$1(De)||isFunction(De)?{type:De}:Object.assign({},De);if(ke){const Me=getTypeIndex(Boolean,ke.type),Oe=getTypeIndex(String,ke.type);ke[0]=Me>-1,ke[1]=Oe<0||Me<Oe,(Me>-1||hasOwn(ke,"default"))&&xe.push(Ue)}}}const Ce=[Ee,xe];return isObject(e)&&_e.set(e,Ce),Ce}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$1(t)?t.findIndex(r=>isSameType(r,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,r)=>{if(t._n)return t;const _e=withCtx((...Ae)=>normalizeSlotValue(t(...Ae)),r);return _e._c=!1,_e},normalizeObjectSlots=(e,t,r)=>{const _e=e._ctx;for(const Ae in e){if(isInternalKey(Ae))continue;const Se=e[Ae];if(isFunction(Se))t[Ae]=normalizeSlot$1(Ae,Se,_e);else if(Se!=null){const Ee=normalizeSlotValue(Se);t[Ae]=()=>Ee}}},normalizeVNodeSlots=(e,t)=>{const r=normalizeSlotValue(t);e.slots.default=()=>r},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,r)=>{const{vnode:_e,slots:Ae}=e;let Se=!0,Ee=EMPTY_OBJ;if(_e.shapeFlag&32){const xe=t._;xe?r&&xe===1?Se=!1:(extend(Ae,t),!r&&xe===1&&delete Ae._):(Se=!t.$stable,normalizeObjectSlots(t,Ae)),Ee=t}else t&&(normalizeVNodeSlots(e,t),Ee={default:1});if(Se)for(const xe in Ae)!isInternalKey(xe)&&!(xe in Ee)&&delete Ae[xe]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,t){return function(_e,Ae=null){isFunction(_e)||(_e=Object.assign({},_e)),Ae!=null&&!isObject(Ae)&&(Ae=null);const Se=createAppContext(),Ee=new Set;let xe=!1;const Te=Se.app={_uid:uid++,_component:_e,_props:Ae,_container:null,_context:Se,_instance:null,version,get config(){return Se.config},set config(Ce){},use(Ce,...Re){return Ee.has(Ce)||(Ce&&isFunction(Ce.install)?(Ee.add(Ce),Ce.install(Te,...Re)):isFunction(Ce)&&(Ee.add(Ce),Ce(Te,...Re))),Te},mixin(Ce){return Se.mixins.includes(Ce)||Se.mixins.push(Ce),Te},component(Ce,Re){return Re?(Se.components[Ce]=Re,Te):Se.components[Ce]},directive(Ce,Re){return Re?(Se.directives[Ce]=Re,Te):Se.directives[Ce]},mount(Ce,Re,Ue){if(!xe){const De=createVNode(_e,Ae);return De.appContext=Se,Re&&t?t(De,Ce):e(De,Ce,Ue),xe=!0,Te._container=Ce,Ce.__vue_app__=Te,getExposeProxy(De.component)||De.component.proxy}},unmount(){xe&&(e(null,Te._container),delete Te._container.__vue_app__)},provide(Ce,Re){return Se.provides[Ce]=Re,Te}};return Te}}function setRef(e,t,r,_e,Ae=!1){if(isArray$1(e)){e.forEach((De,ke)=>setRef(De,t&&(isArray$1(t)?t[ke]:t),r,_e,Ae));return}if(isAsyncWrapper(_e)&&!Ae)return;const Se=_e.shapeFlag&4?getExposeProxy(_e.component)||_e.component.proxy:_e.el,Ee=Ae?null:Se,{i:xe,r:Te}=e,Ce=t&&t.r,Re=xe.refs===EMPTY_OBJ?xe.refs={}:xe.refs,Ue=xe.setupState;if(Ce!=null&&Ce!==Te&&(isString(Ce)?(Re[Ce]=null,hasOwn(Ue,Ce)&&(Ue[Ce]=null)):isRef(Ce)&&(Ce.value=null)),isFunction(Te))callWithErrorHandling(Te,xe,12,[Ee,Re]);else{const De=isString(Te),ke=isRef(Te);if(De||ke){const Me=()=>{if(e.f){const Oe=De?hasOwn(Ue,Te)?Ue[Te]:Re[Te]:Te.value;Ae?isArray$1(Oe)&&remove(Oe,Se):isArray$1(Oe)?Oe.includes(Se)||Oe.push(Se):De?(Re[Te]=[Se],hasOwn(Ue,Te)&&(Ue[Te]=Re[Te])):(Te.value=[Se],e.k&&(Re[e.k]=Te.value))}else De?(Re[Te]=Ee,hasOwn(Ue,Te)&&(Ue[Te]=Ee)):ke&&(Te.value=Ee,e.k&&(Re[e.k]=Ee))};Ee?(Me.id=-1,queuePostRenderEffect(Me,r)):Me()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:_e,remove:Ae,patchProp:Se,createElement:Ee,createText:xe,createComment:Te,setText:Ce,setElementText:Re,parentNode:Ue,nextSibling:De,setScopeId:ke=NOOP,insertStaticContent:Me}=e,Oe=(un,mn,St,tn=null,$e=null,yn=null,En=!1,cn=null,Pn=!!mn.dynamicChildren)=>{if(un===mn)return;un&&!isSameVNodeType(un,mn)&&(tn=hn(un),Ze(un,$e,yn,!0),un=null),mn.patchFlag===-2&&(Pn=!1,mn.dynamicChildren=null);const{type:Mn,ref:nn,shapeFlag:xn}=mn;switch(Mn){case Text:Be(un,mn,St,tn);break;case Comment:Ie(un,mn,St,tn);break;case Static:un==null&&qe(mn,St,tn,En);break;case Fragment:rn(un,mn,St,tn,$e,yn,En,cn,Pn);break;default:xn&1?Ve(un,mn,St,tn,$e,yn,En,cn,Pn):xn&6?Cn(un,mn,St,tn,$e,yn,En,cn,Pn):(xn&64||xn&128)&&Mn.process(un,mn,St,tn,$e,yn,En,cn,Pn,Ln)}nn!=null&&$e&&setRef(nn,un&&un.ref,yn,mn||un,!mn)},Be=(un,mn,St,tn)=>{if(un==null)_e(mn.el=xe(mn.children),St,tn);else{const $e=mn.el=un.el;mn.children!==un.children&&Ce($e,mn.children)}},Ie=(un,mn,St,tn)=>{un==null?_e(mn.el=Te(mn.children||""),St,tn):mn.el=un.el},qe=(un,mn,St,tn)=>{[un.el,un.anchor]=Me(un.children,mn,St,tn,un.el,un.anchor)},je=({el:un,anchor:mn},St,tn)=>{let $e;for(;un&&un!==mn;)$e=De(un),_e(un,St,tn),un=$e;_e(mn,St,tn)},ze=({el:un,anchor:mn})=>{let St;for(;un&&un!==mn;)St=De(un),Ae(un),un=St;Ae(mn)},Ve=(un,mn,St,tn,$e,yn,En,cn,Pn)=>{En=En||mn.type==="svg",un==null?He(mn,St,tn,$e,yn,En,cn,Pn):dn(un,mn,$e,yn,En,cn,Pn)},He=(un,mn,St,tn,$e,yn,En,cn)=>{let Pn,Mn;const{type:nn,props:xn,shapeFlag:_n,transition:zn,dirs:$n}=un;if(Pn=un.el=Ee(un.type,yn,xn&&xn.is,xn),_n&8?Re(Pn,un.children):_n&16&&Je(un.children,Pn,null,tn,$e,yn&&nn!=="foreignObject",En,cn),$n&&invokeDirectiveHook(un,null,tn,"created"),xn){for(const jn in xn)jn!=="value"&&!isReservedProp(jn)&&Se(Pn,jn,null,xn[jn],yn,un.children,tn,$e,on);"value"in xn&&Se(Pn,"value",null,xn.value),(Mn=xn.onVnodeBeforeMount)&&invokeVNodeHook(Mn,tn,un)}Qe(Pn,un,un.scopeId,En,tn),$n&&invokeDirectiveHook(un,null,tn,"beforeMount");const Yn=(!$e||$e&&!$e.pendingBranch)&&zn&&!zn.persisted;Yn&&zn.beforeEnter(Pn),_e(Pn,mn,St),((Mn=xn&&xn.onVnodeMounted)||Yn||$n)&&queuePostRenderEffect(()=>{Mn&&invokeVNodeHook(Mn,tn,un),Yn&&zn.enter(Pn),$n&&invokeDirectiveHook(un,null,tn,"mounted")},$e)},Qe=(un,mn,St,tn,$e)=>{if(St&&ke(un,St),tn)for(let yn=0;yn<tn.length;yn++)ke(un,tn[yn]);if($e){let yn=$e.subTree;if(mn===yn){const En=$e.vnode;Qe(un,En,En.scopeId,En.slotScopeIds,$e.parent)}}},Je=(un,mn,St,tn,$e,yn,En,cn,Pn=0)=>{for(let Mn=Pn;Mn<un.length;Mn++){const nn=un[Mn]=cn?cloneIfMounted(un[Mn]):normalizeVNode(un[Mn]);Oe(null,nn,mn,St,tn,$e,yn,En,cn)}},dn=(un,mn,St,tn,$e,yn,En)=>{const cn=mn.el=un.el;let{patchFlag:Pn,dynamicChildren:Mn,dirs:nn}=mn;Pn|=un.patchFlag&16;const xn=un.props||EMPTY_OBJ,_n=mn.props||EMPTY_OBJ;let zn;St&&toggleRecurse(St,!1),(zn=_n.onVnodeBeforeUpdate)&&invokeVNodeHook(zn,St,mn,un),nn&&invokeDirectiveHook(mn,un,St,"beforeUpdate"),St&&toggleRecurse(St,!0);const $n=$e&&mn.type!=="foreignObject";if(Mn?an(un.dynamicChildren,Mn,cn,St,tn,$n,yn):En||pn(un,mn,cn,null,St,tn,$n,yn,!1),Pn>0){if(Pn&16)Ke(cn,mn,xn,_n,St,tn,$e);else if(Pn&2&&xn.class!==_n.class&&Se(cn,"class",null,_n.class,$e),Pn&4&&Se(cn,"style",xn.style,_n.style,$e),Pn&8){const Yn=mn.dynamicProps;for(let jn=0;jn<Yn.length;jn++){const Xn=Yn[jn],li=xn[Xn],oi=_n[Xn];(oi!==li||Xn==="value")&&Se(cn,Xn,li,oi,$e,un.children,St,tn,on)}}Pn&1&&un.children!==mn.children&&Re(cn,mn.children)}else!En&&Mn==null&&Ke(cn,mn,xn,_n,St,tn,$e);((zn=_n.onVnodeUpdated)||nn)&&queuePostRenderEffect(()=>{zn&&invokeVNodeHook(zn,St,mn,un),nn&&invokeDirectiveHook(mn,un,St,"updated")},tn)},an=(un,mn,St,tn,$e,yn,En)=>{for(let cn=0;cn<mn.length;cn++){const Pn=un[cn],Mn=mn[cn],nn=Pn.el&&(Pn.type===Fragment||!isSameVNodeType(Pn,Mn)||Pn.shapeFlag&70)?Ue(Pn.el):St;Oe(Pn,Mn,nn,null,tn,$e,yn,En,!0)}},Ke=(un,mn,St,tn,$e,yn,En)=>{if(St!==tn){if(St!==EMPTY_OBJ)for(const cn in St)!isReservedProp(cn)&&!(cn in tn)&&Se(un,cn,St[cn],null,En,mn.children,$e,yn,on);for(const cn in tn){if(isReservedProp(cn))continue;const Pn=tn[cn],Mn=St[cn];Pn!==Mn&&cn!=="value"&&Se(un,cn,Mn,Pn,En,mn.children,$e,yn,on)}"value"in tn&&Se(un,"value",St.value,tn.value)}},rn=(un,mn,St,tn,$e,yn,En,cn,Pn)=>{const Mn=mn.el=un?un.el:xe(""),nn=mn.anchor=un?un.anchor:xe("");let{patchFlag:xn,dynamicChildren:_n,slotScopeIds:zn}=mn;zn&&(cn=cn?cn.concat(zn):zn),un==null?(_e(Mn,St,tn),_e(nn,St,tn),Je(mn.children,St,nn,$e,yn,En,cn,Pn)):xn>0&&xn&64&&_n&&un.dynamicChildren?(an(un.dynamicChildren,_n,St,$e,yn,En,cn),(mn.key!=null||$e&&mn===$e.subTree)&&traverseStaticChildren(un,mn,!0)):pn(un,mn,St,nn,$e,yn,En,cn,Pn)},Cn=(un,mn,St,tn,$e,yn,En,cn,Pn)=>{mn.slotScopeIds=cn,un==null?mn.shapeFlag&512?$e.ctx.activate(mn,St,tn,En,Pn):Sn(mn,St,tn,$e,yn,En,Pn):fn(un,mn,Pn)},Sn=(un,mn,St,tn,$e,yn,En)=>{const cn=un.component=createComponentInstance(un,tn,$e);if(isKeepAlive(un)&&(cn.ctx.renderer=Ln),setupComponent(cn),cn.asyncDep){if($e&&$e.registerDep(cn,gn),!un.el){const Pn=cn.subTree=createVNode(Comment);Ie(null,Pn,mn,St)}return}gn(cn,un,mn,St,$e,yn,En)},fn=(un,mn,St)=>{const tn=mn.component=un.component;if(shouldUpdateComponent(un,mn,St))if(tn.asyncDep&&!tn.asyncResolved){vn(tn,mn,St);return}else tn.next=mn,invalidateJob(tn.update),tn.update();else mn.el=un.el,tn.vnode=mn},gn=(un,mn,St,tn,$e,yn,En)=>{const cn=()=>{if(un.isMounted){let{next:nn,bu:xn,u:_n,parent:zn,vnode:$n}=un,Yn=nn,jn;toggleRecurse(un,!1),nn?(nn.el=$n.el,vn(un,nn,En)):nn=$n,xn&&invokeArrayFns(xn),(jn=nn.props&&nn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(jn,zn,nn,$n),toggleRecurse(un,!0);const Xn=renderComponentRoot(un),li=un.subTree;un.subTree=Xn,Oe(li,Xn,Ue(li.el),hn(li),un,$e,yn),nn.el=Xn.el,Yn===null&&updateHOCHostEl(un,Xn.el),_n&&queuePostRenderEffect(_n,$e),(jn=nn.props&&nn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(jn,zn,nn,$n),$e)}else{let nn;const{el:xn,props:_n}=mn,{bm:zn,m:$n,parent:Yn}=un,jn=isAsyncWrapper(mn);if(toggleRecurse(un,!1),zn&&invokeArrayFns(zn),!jn&&(nn=_n&&_n.onVnodeBeforeMount)&&invokeVNodeHook(nn,Yn,mn),toggleRecurse(un,!0),xn&&Wn){const Xn=()=>{un.subTree=renderComponentRoot(un),Wn(xn,un.subTree,un,$e,null)};jn?mn.type.__asyncLoader().then(()=>!un.isUnmounted&&Xn()):Xn()}else{const Xn=un.subTree=renderComponentRoot(un);Oe(null,Xn,St,tn,un,$e,yn),mn.el=Xn.el}if($n&&queuePostRenderEffect($n,$e),!jn&&(nn=_n&&_n.onVnodeMounted)){const Xn=mn;queuePostRenderEffect(()=>invokeVNodeHook(nn,Yn,Xn),$e)}(mn.shapeFlag&256||Yn&&isAsyncWrapper(Yn.vnode)&&Yn.vnode.shapeFlag&256)&&un.a&&queuePostRenderEffect(un.a,$e),un.isMounted=!0,mn=St=tn=null}},Pn=un.effect=new ReactiveEffect(cn,()=>queueJob(Mn),un.scope),Mn=un.update=()=>Pn.run();Mn.id=un.uid,toggleRecurse(un,!0),Mn()},vn=(un,mn,St)=>{mn.component=un;const tn=un.vnode.props;un.vnode=mn,un.next=null,updateProps(un,mn.props,tn,St),updateSlots(un,mn.children,St),pauseTracking(),flushPreFlushCbs(),resetTracking()},pn=(un,mn,St,tn,$e,yn,En,cn,Pn=!1)=>{const Mn=un&&un.children,nn=un?un.shapeFlag:0,xn=mn.children,{patchFlag:_n,shapeFlag:zn}=mn;if(_n>0){if(_n&128){Hn(Mn,xn,St,tn,$e,yn,En,cn,Pn);return}else if(_n&256){On(Mn,xn,St,tn,$e,yn,En,cn,Pn);return}}zn&8?(nn&16&&on(Mn,$e,yn),xn!==Mn&&Re(St,xn)):nn&16?zn&16?Hn(Mn,xn,St,tn,$e,yn,En,cn,Pn):on(Mn,$e,yn,!0):(nn&8&&Re(St,""),zn&16&&Je(xn,St,tn,$e,yn,En,cn,Pn))},On=(un,mn,St,tn,$e,yn,En,cn,Pn)=>{un=un||EMPTY_ARR,mn=mn||EMPTY_ARR;const Mn=un.length,nn=mn.length,xn=Math.min(Mn,nn);let _n;for(_n=0;_n<xn;_n++){const zn=mn[_n]=Pn?cloneIfMounted(mn[_n]):normalizeVNode(mn[_n]);Oe(un[_n],zn,St,null,$e,yn,En,cn,Pn)}Mn>nn?on(un,$e,yn,!0,!1,xn):Je(mn,St,tn,$e,yn,En,cn,Pn,xn)},Hn=(un,mn,St,tn,$e,yn,En,cn,Pn)=>{let Mn=0;const nn=mn.length;let xn=un.length-1,_n=nn-1;for(;Mn<=xn&&Mn<=_n;){const zn=un[Mn],$n=mn[Mn]=Pn?cloneIfMounted(mn[Mn]):normalizeVNode(mn[Mn]);if(isSameVNodeType(zn,$n))Oe(zn,$n,St,null,$e,yn,En,cn,Pn);else break;Mn++}for(;Mn<=xn&&Mn<=_n;){const zn=un[xn],$n=mn[_n]=Pn?cloneIfMounted(mn[_n]):normalizeVNode(mn[_n]);if(isSameVNodeType(zn,$n))Oe(zn,$n,St,null,$e,yn,En,cn,Pn);else break;xn--,_n--}if(Mn>xn){if(Mn<=_n){const zn=_n+1,$n=zn<nn?mn[zn].el:tn;for(;Mn<=_n;)Oe(null,mn[Mn]=Pn?cloneIfMounted(mn[Mn]):normalizeVNode(mn[Mn]),St,$n,$e,yn,En,cn,Pn),Mn++}}else if(Mn>_n)for(;Mn<=xn;)Ze(un[Mn],$e,yn,!0),Mn++;else{const zn=Mn,$n=Mn,Yn=new Map;for(Mn=$n;Mn<=_n;Mn++){const Ei=mn[Mn]=Pn?cloneIfMounted(mn[Mn]):normalizeVNode(mn[Mn]);Ei.key!=null&&Yn.set(Ei.key,Mn)}let jn,Xn=0;const li=_n-$n+1;let oi=!1,Ni=0;const Ai=new Array(li);for(Mn=0;Mn<li;Mn++)Ai[Mn]=0;for(Mn=zn;Mn<=xn;Mn++){const Ei=un[Mn];if(Xn>=li){Ze(Ei,$e,yn,!0);continue}let ui;if(Ei.key!=null)ui=Yn.get(Ei.key);else for(jn=$n;jn<=_n;jn++)if(Ai[jn-$n]===0&&isSameVNodeType(Ei,mn[jn])){ui=jn;break}ui===void 0?Ze(Ei,$e,yn,!0):(Ai[ui-$n]=Mn+1,ui>=Ni?Ni=ui:oi=!0,Oe(Ei,mn[ui],St,null,$e,yn,En,cn,Pn),Xn++)}const Li=oi?getSequence(Ai):EMPTY_ARR;for(jn=Li.length-1,Mn=li-1;Mn>=0;Mn--){const Ei=$n+Mn,ui=mn[Ei],In=Ei+1<nn?mn[Ei+1].el:tn;Ai[Mn]===0?Oe(null,ui,St,In,$e,yn,En,cn,Pn):oi&&(jn<0||Mn!==Li[jn]?Bn(ui,St,In,2):jn--)}}},Bn=(un,mn,St,tn,$e=null)=>{const{el:yn,type:En,transition:cn,children:Pn,shapeFlag:Mn}=un;if(Mn&6){Bn(un.component.subTree,mn,St,tn);return}if(Mn&128){un.suspense.move(mn,St,tn);return}if(Mn&64){En.move(un,mn,St,Ln);return}if(En===Fragment){_e(yn,mn,St);for(let xn=0;xn<Pn.length;xn++)Bn(Pn[xn],mn,St,tn);_e(un.anchor,mn,St);return}if(En===Static){je(un,mn,St);return}if(tn!==2&&Mn&1&&cn)if(tn===0)cn.beforeEnter(yn),_e(yn,mn,St),queuePostRenderEffect(()=>cn.enter(yn),$e);else{const{leave:xn,delayLeave:_n,afterLeave:zn}=cn,$n=()=>_e(yn,mn,St),Yn=()=>{xn(yn,()=>{$n(),zn&&zn()})};_n?_n(yn,$n,Yn):Yn()}else _e(yn,mn,St)},Ze=(un,mn,St,tn=!1,$e=!1)=>{const{type:yn,props:En,ref:cn,children:Pn,dynamicChildren:Mn,shapeFlag:nn,patchFlag:xn,dirs:_n}=un;if(cn!=null&&setRef(cn,null,St,un,!0),nn&256){mn.ctx.deactivate(un);return}const zn=nn&1&&_n,$n=!isAsyncWrapper(un);let Yn;if($n&&(Yn=En&&En.onVnodeBeforeUnmount)&&invokeVNodeHook(Yn,mn,un),nn&6)en(un.component,St,tn);else{if(nn&128){un.suspense.unmount(St,tn);return}zn&&invokeDirectiveHook(un,null,mn,"beforeUnmount"),nn&64?un.type.remove(un,mn,St,$e,Ln,tn):Mn&&(yn!==Fragment||xn>0&&xn&64)?on(Mn,mn,St,!1,!0):(yn===Fragment&&xn&384||!$e&&nn&16)&&on(Pn,mn,St),tn&&Xe(un)}($n&&(Yn=En&&En.onVnodeUnmounted)||zn)&&queuePostRenderEffect(()=>{Yn&&invokeVNodeHook(Yn,mn,un),zn&&invokeDirectiveHook(un,null,mn,"unmounted")},St)},Xe=un=>{const{type:mn,el:St,anchor:tn,transition:$e}=un;if(mn===Fragment){Ye(St,tn);return}if(mn===Static){ze(un);return}const yn=()=>{Ae(St),$e&&!$e.persisted&&$e.afterLeave&&$e.afterLeave()};if(un.shapeFlag&1&&$e&&!$e.persisted){const{leave:En,delayLeave:cn}=$e,Pn=()=>En(St,yn);cn?cn(un.el,yn,Pn):Pn()}else yn()},Ye=(un,mn)=>{let St;for(;un!==mn;)St=De(un),Ae(un),un=St;Ae(mn)},en=(un,mn,St)=>{const{bum:tn,scope:$e,update:yn,subTree:En,um:cn}=un;tn&&invokeArrayFns(tn),$e.stop(),yn&&(yn.active=!1,Ze(En,un,mn,St)),cn&&queuePostRenderEffect(cn,mn),queuePostRenderEffect(()=>{un.isUnmounted=!0},mn),mn&&mn.pendingBranch&&!mn.isUnmounted&&un.asyncDep&&!un.asyncResolved&&un.suspenseId===mn.pendingId&&(mn.deps--,mn.deps===0&&mn.resolve())},on=(un,mn,St,tn=!1,$e=!1,yn=0)=>{for(let En=yn;En<un.length;En++)Ze(un[En],mn,St,tn,$e)},hn=un=>un.shapeFlag&6?hn(un.component.subTree):un.shapeFlag&128?un.suspense.next():De(un.anchor||un.el),bn=(un,mn,St)=>{un==null?mn._vnode&&Ze(mn._vnode,null,null,!0):Oe(mn._vnode||null,un,mn,null,null,null,St),flushPreFlushCbs(),flushPostFlushCbs(),mn._vnode=un},Ln={p:Oe,um:Ze,m:Bn,r:Xe,mt:Sn,mc:Je,pc:pn,pbc:an,n:hn,o:e};let Vn,Wn;return t&&([Vn,Wn]=t(Ln)),{render:bn,hydrate:Vn,createApp:createAppAPI(bn,Vn)}}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function traverseStaticChildren(e,t,r=!1){const _e=e.children,Ae=t.children;if(isArray$1(_e)&&isArray$1(Ae))for(let Se=0;Se<_e.length;Se++){const Ee=_e[Se];let xe=Ae[Se];xe.shapeFlag&1&&!xe.dynamicChildren&&((xe.patchFlag<=0||xe.patchFlag===32)&&(xe=Ae[Se]=cloneIfMounted(Ae[Se]),xe.el=Ee.el),r||traverseStaticChildren(Ee,xe))}}function getSequence(e){const t=e.slice(),r=[0];let _e,Ae,Se,Ee,xe;const Te=e.length;for(_e=0;_e<Te;_e++){const Ce=e[_e];if(Ce!==0){if(Ae=r[r.length-1],e[Ae]<Ce){t[_e]=Ae,r.push(_e);continue}for(Se=0,Ee=r.length-1;Se<Ee;)xe=Se+Ee>>1,e[r[xe]]<Ce?Se=xe+1:Ee=xe;Ce<e[r[Se]]&&(Se>0&&(t[_e]=r[Se-1]),r[Se]=_e)}}for(Se=r.length,Ee=r[Se-1];Se-- >0;)r[Se]=Ee,Ee=t[Ee];return r}const isTeleport=e=>e.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,_e,Ae,Se){return setupBlock(createBaseVNode(e,t,r,_e,Ae,Se,!0))}function createBlock(e,t,r,_e,Ae){return setupBlock(createVNode(e,t,r,_e,Ae,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e!=null?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null;function createBaseVNode(e,t=null,r=null,_e=0,Ae=null,Se=e===Fragment?0:1,Ee=!1,xe=!1){const Te={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Se,patchFlag:_e,dynamicProps:Ae,dynamicChildren:null,appContext:null};return xe?(normalizeChildren(Te,r),Se&128&&e.normalize(Te)):r&&(Te.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!Ee&&currentBlock&&(Te.patchFlag>0||Se&6)&&Te.patchFlag!==32&&currentBlock.push(Te),Te}const createVNode=_createVNode;function _createVNode(e,t=null,r=null,_e=0,Ae=null,Se=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const xe=cloneVNode(e,t,!0);return r&&normalizeChildren(xe,r),isBlockTreeEnabled>0&&!Se&&currentBlock&&(xe.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=xe:currentBlock.push(xe)),xe.patchFlag|=-2,xe}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:xe,style:Te}=t;xe&&!isString(xe)&&(t.class=normalizeClass(xe)),isObject(Te)&&(isProxy(Te)&&!isArray$1(Te)&&(Te=extend({},Te)),t.style=normalizeStyle(Te))}const Ee=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,r,_e,Ae,Ee,Se,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,r=!1){const{props:_e,ref:Ae,patchFlag:Se,children:Ee}=e,xe=t?mergeProps(_e||{},t):_e;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:xe,key:xe&&normalizeKey(xe),ref:t&&t.ref?r&&Ae?isArray$1(Ae)?Ae.concat(normalizeRef(t)):[Ae,normalizeRef(t)]:normalizeRef(t):Ae,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:Ee,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?Se===-1?16:Se|16:Se,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:_e}=e;if(t==null)t=null;else if(isArray$1(t))r=16;else if(typeof t=="object")if(_e&65){const Ae=t.default;Ae&&(Ae._c&&(Ae._d=!1),normalizeChildren(e,Ae()),Ae._c&&(Ae._d=!0));return}else{r=32;const Ae=t._;!Ae&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:Ae===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),_e&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const _e=e[r];for(const Ae in _e)if(Ae==="class")t.class!==_e.class&&(t.class=normalizeClass([t.class,_e.class]));else if(Ae==="style")t.style=normalizeStyle([t.style,_e.style]);else if(isOn(Ae)){const Se=t[Ae],Ee=_e[Ae];Ee&&Se!==Ee&&!(isArray$1(Se)&&Se.includes(Ee))&&(t[Ae]=Se?[].concat(Se,Ee):Ee)}else Ae!==""&&(t[Ae]=_e[Ae])}return t}function invokeVNodeHook(e,t,r,_e=null){callWithAsyncErrorHandling(e,t,7,[r,_e])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,t,r){const _e=e.type,Ae=(t?t.appContext:e.appContext)||emptyAppContext,Se={uid:uid$1++,vnode:e,type:_e,parent:t,appContext:Ae,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(Ae.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(_e,Ae),emitsOptions:normalizeEmitsOptions(_e,Ae),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:_e.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Se.ctx={_:Se},Se.root=t?t.root:Se,Se.emit=emit$1.bind(null,Se),e.ce&&e.ce(Se),Se}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:r,children:_e}=e.vnode,Ae=isStatefulComponent(e);initProps(e,r,Ae,t),initSlots(e,_e);const Se=Ae?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,Se}function setupStatefulComponent(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:_e}=r;if(_e){const Ae=e.setupContext=_e.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const Se=callWithErrorHandling(_e,e,0,[e.props,Ae]);if(resetTracking(),unsetCurrentInstance(),isPromise(Se)){if(Se.then(unsetCurrentInstance,unsetCurrentInstance),t)return Se.then(Ee=>{handleSetupResult(e,Ee,t)}).catch(Ee=>{handleError(Ee,e,0)});e.asyncDep=Se}else handleSetupResult(e,Se,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,r)}let compile;function finishComponentSetup(e,t,r){const _e=e.type;if(!e.render){if(!t&&compile&&!_e.render){const Ae=_e.template||resolveMergedOptions(e).template;if(Ae){const{isCustomElement:Se,compilerOptions:Ee}=e.appContext.config,{delimiters:xe,compilerOptions:Te}=_e,Ce=extend(extend({isCustomElement:Se,delimiters:xe},Ee),Te);_e.render=compile(Ae,Ce)}}e.render=_e.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,r){return track(e,"get","$attrs"),t[r]}})}function createSetupContext(e){const t=_e=>{e.exposed=_e||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)},has(t,r){return r in t||r in publicPropertiesMap}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,r=!1){let _e=getComponentName(t);if(!_e&&t.__file){const Ae=t.__file.match(/([^/\\]+)\.\w+$/);Ae&&(_e=Ae[1])}if(!_e&&e&&e.parent){const Ae=Se=>{for(const Ee in Se)if(Se[Ee]===t)return Ee};_e=Ae(e.components||e.parent.type.components)||Ae(e.appContext.components)}return _e?classify(_e):r?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h$1(e,t,r){const _e=arguments.length;return _e===2?isObject(t)&&!isArray$1(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(_e>3?r=Array.prototype.slice.call(arguments,2):_e===3&&isVNode(r)&&(r=[r]),createVNode(e,t,r))}const ssrContextKey=Symbol(""),useSSRContext=()=>{{const e=inject(ssrContextKey);return e||warn("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}},version="3.2.42",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,_e)=>{const Ae=t?doc.createElementNS(svgNS,e):doc.createElement(e,r?{is:r}:void 0);return e==="select"&&_e&&_e.multiple!=null&&Ae.setAttribute("multiple",_e.multiple),Ae},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,_e,Ae,Se){const Ee=r?r.previousSibling:t.lastChild;if(Ae&&(Ae===Se||Ae.nextSibling))for(;t.insertBefore(Ae.cloneNode(!0),r),!(Ae===Se||!(Ae=Ae.nextSibling)););else{templateContainer.innerHTML=_e?`<svg>${e}</svg>`:e;const xe=templateContainer.content;if(_e){const Te=xe.firstChild;for(;Te.firstChild;)xe.appendChild(Te.firstChild);xe.removeChild(Te)}t.insertBefore(xe,r)}return[Ee?Ee.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function patchClass(e,t,r){const _e=e._vtc;_e&&(t=(t?[t,..._e]:[..._e]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,r){const _e=e.style,Ae=isString(r);if(r&&!Ae){for(const Se in r)setStyle(_e,Se,r[Se]);if(t&&!isString(t))for(const Se in t)r[Se]==null&&setStyle(_e,Se,"")}else{const Se=_e.display;Ae?t!==r&&(_e.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(_e.display=Se)}}const importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray$1(r))r.forEach(_e=>setStyle(e,t,_e));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const _e=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(_e),r.replace(importantRE,""),"important"):e[_e]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let _e=camelize(t);if(_e!=="filter"&&_e in e)return prefixCache[t]=_e;_e=capitalize(_e);for(let Ae=0;Ae<prefixes.length;Ae++){const Se=prefixes[Ae]+_e;if(Se in e)return prefixCache[t]=Se}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,_e,Ae){if(_e&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r);else{const Se=isSpecialBooleanAttr(t);r==null||Se&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,Se?"":r)}}function patchDOMProp(e,t,r,_e,Ae,Se,Ee){if(t==="innerHTML"||t==="textContent"){_e&&Ee(_e,Ae,Se),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const Te=r==null?"":r;(e.value!==Te||e.tagName==="OPTION")&&(e.value=Te),r==null&&e.removeAttribute(t);return}let xe=!1;if(r===""||r==null){const Te=typeof e[t];Te==="boolean"?r=includeBooleanAttr(r):r==null&&Te==="string"?(r="",xe=!0):Te==="number"&&(r=0,xe=!0)}try{e[t]=r}catch{}xe&&e.removeAttribute(t)}function addEventListener(e,t,r,_e){e.addEventListener(t,r,_e)}function removeEventListener(e,t,r,_e){e.removeEventListener(t,r,_e)}function patchEvent(e,t,r,_e,Ae=null){const Se=e._vei||(e._vei={}),Ee=Se[t];if(_e&&Ee)Ee.value=_e;else{const[xe,Te]=parseName(t);if(_e){const Ce=Se[t]=createInvoker(_e,Ae);addEventListener(e,xe,Ce,Te)}else Ee&&(removeEventListener(e,xe,Ee,Te),Se[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let _e;for(;_e=e.match(optionsModifierRE);)e=e.slice(0,e.length-_e[0].length),t[_e[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const r=_e=>{if(!_e._vts)_e._vts=Date.now();else if(_e._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(_e,r.value),t,5,[_e])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(_e=>Ae=>!Ae._stopped&&_e&&_e(Ae))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,r,_e,Ae=!1,Se,Ee,xe,Te)=>{t==="class"?patchClass(e,_e,Ae):t==="style"?patchStyle(e,r,_e):isOn(t)?isModelListener(t)||patchEvent(e,t,r,_e,Ee):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,_e,Ae))?patchDOMProp(e,t,_e,Se,Ee,xe,Te):(t==="true-value"?e._trueValue=_e:t==="false-value"&&(e._falseValue=_e),patchAttr(e,t,_e,Ae))};function shouldSetAsProp(e,t,r,_e){return _e?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(r)?!1:t in e}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$1(t)?r=>invokeArrayFns(t,r):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:r,number:_e}},Ae){e._assign=getModelAssigner(Ae);const Se=_e||Ae.props&&Ae.props.type==="number";addEventListener(e,t?"change":"input",Ee=>{if(Ee.target.composing)return;let xe=e.value;r&&(xe=xe.trim()),Se&&(xe=toNumber(xe)),e._assign(xe)}),r&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:_e,number:Ae}},Se){if(e._assign=getModelAssigner(Se),e.composing||document.activeElement===e&&e.type!=="range"&&(r||_e&&e.value.trim()===t||(Ae||e.type==="number")&&toNumber(e.value)===t))return;const Ee=t==null?"":t;e.value!==Ee&&(e.value=Ee)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(r=>e[`${r}Key`]&&!t.includes(r))},withModifiers=(e,t)=>(r,..._e)=>{for(let Ae=0;Ae<t.length;Ae++){const Se=modifierGuards[t[Ae]];if(Se&&Se(r,t))return}return e(r,..._e)},vShow={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:_e}){!t!=!r&&(_e?t?(_e.beforeEnter(e),setDisplay(e,!0),_e.enter(e)):_e.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:r}=t;return t.mount=_e=>{const Ae=normalizeContainer(_e);if(!Ae)return;const Se=t._component;!isFunction(Se)&&!Se.render&&!Se.template&&(Se.template=Ae.innerHTML),Ae.innerHTML="";const Ee=r(Ae,!1,Ae instanceof SVGElement);return Ae instanceof Element&&(Ae.removeAttribute("v-cloak"),Ae.setAttribute("data-v-app","")),Ee},t};function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const style="";function mitt(e){return{all:e=e||new Map,on:function(t,r){var _e=e.get(t);_e?_e.push(r):e.set(t,[r])},off:function(t,r){var _e=e.get(t);_e&&(r?_e.splice(_e.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var _e=e.get(t);_e&&_e.slice().map(function(Ae){Ae(r)}),(_e=e.get("*"))&&_e.slice().map(function(Ae){Ae(t,r)})}}}const bus=mitt(),scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,r,_e){if(!r||r.length===0)return t();const Ae=document.getElementsByTagName("link");return Promise.all(r.map(Se=>{if(Se=assetsURL(Se),Se in seen)return;seen[Se]=!0;const Ee=Se.endsWith(".css"),xe=Ee?'[rel="stylesheet"]':"";if(!!_e)for(let Re=Ae.length-1;Re>=0;Re--){const Ue=Ae[Re];if(Ue.href===Se&&(!Ee||Ue.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Se}"]${xe}`))return;const Ce=document.createElement("link");if(Ce.rel=Ee?"stylesheet":scriptRel,Ee||(Ce.as="script",Ce.crossOrigin=""),Ce.href=Se,document.head.appendChild(Ce),Ee)return new Promise((Re,Ue)=>{Ce.addEventListener("load",Re),Ce.addEventListener("error",()=>Ue(new Error(`Unable to preload CSS for ${Se}`)))})})).then(()=>t())};function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(e,t){for(var r=new u16(31),_e=0;_e<31;++_e)r[_e]=t+=1<<e[_e-1];for(var Ae=new u32(r[30]),_e=1;_e<30;++_e)for(var Se=r[_e];Se<r[_e+1];++Se)Ae[Se]=Se-r[_e]<<5|_e;return[r,Ae]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(e,t,r){for(var _e=e.length,Ae=0,Se=new u16(t);Ae<_e;++Ae)++Se[e[Ae]-1];var Ee=new u16(t);for(Ae=0;Ae<t;++Ae)Ee[Ae]=Ee[Ae-1]+Se[Ae-1]<<1;var xe;if(r){xe=new u16(1<<t);var Te=15-t;for(Ae=0;Ae<_e;++Ae)if(e[Ae])for(var Ce=Ae<<4|e[Ae],Re=t-e[Ae],Ue=Ee[e[Ae]-1]++<<Re,De=Ue|(1<<Re)-1;Ue<=De;++Ue)xe[rev[Ue]>>>Te]=Ce}else for(xe=new u16(_e),Ae=0;Ae<_e;++Ae)xe[Ae]=rev[Ee[e[Ae]-1]++]>>>15-e[Ae];return xe},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},bits=function(e,t,r){var _e=t/8>>0;return(e[_e]|e[_e+1]<<8)>>>(t&7)&r},bits16=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(t&7)},shft=function(e){return(e/8>>0)+(e&7&&1)},slc=function(e,t,r){(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length);var _e=new(e instanceof u16?u16:e instanceof u32?u32:u8)(r-t);return _e.set(e.subarray(t,r)),_e},inflt=function(e,t,r){var _e=e.length,Ae=!t||r,Se=!r||r.i;r||(r={}),t||(t=new u8(_e*3));var Ee=function(on){var hn=t.length;if(on>hn){var bn=new u8(Math.max(hn*2,on));bn.set(t),t=bn}},xe=r.f||0,Te=r.p||0,Ce=r.b||0,Re=r.l,Ue=r.d,De=r.m,ke=r.n,Me=_e*8;do{if(!Re){r.f=xe=bits(e,Te,1);var Oe=bits(e,Te+1,3);if(Te+=3,Oe)if(Oe==1)Re=flrm,Ue=fdrm,De=9,ke=5;else if(Oe==2){var je=bits(e,Te,31)+257,ze=bits(e,Te+10,15)+4,Ve=je+bits(e,Te+5,31)+1;Te+=14;for(var He=new u8(Ve),Qe=new u8(19),Je=0;Je<ze;++Je)Qe[clim[Je]]=bits(e,Te+Je*3,7);Te+=ze*3;var dn=max(Qe),an=(1<<dn)-1;if(!Se&&Te+Ve*(dn+7)>Me)break;for(var Ke=hMap(Qe,dn,1),Je=0;Je<Ve;){var rn=Ke[bits(e,Te,an)];Te+=rn&15;var Be=rn>>>4;if(Be<16)He[Je++]=Be;else{var Cn=0,Sn=0;for(Be==16?(Sn=3+bits(e,Te,3),Te+=2,Cn=He[Je-1]):Be==17?(Sn=3+bits(e,Te,7),Te+=3):Be==18&&(Sn=11+bits(e,Te,127),Te+=7);Sn--;)He[Je++]=Cn}}var fn=He.subarray(0,je),gn=He.subarray(je);De=max(fn),ke=max(gn),Re=hMap(fn,De,1),Ue=hMap(gn,ke,1)}else throw"invalid block type";else{var Be=shft(Te)+4,Ie=e[Be-4]|e[Be-3]<<8,qe=Be+Ie;if(qe>_e){if(Se)throw"unexpected EOF";break}Ae&&Ee(Ce+Ie),t.set(e.subarray(Be,qe),Ce),r.b=Ce+=Ie,r.p=Te=qe*8;continue}if(Te>Me)throw"unexpected EOF"}Ae&&Ee(Ce+131072);for(var vn=(1<<De)-1,pn=(1<<ke)-1,On=De+ke+18;Se||Te+On<Me;){var Cn=Re[bits16(e,Te)&vn],Hn=Cn>>>4;if(Te+=Cn&15,Te>Me)throw"unexpected EOF";if(!Cn)throw"invalid length/literal";if(Hn<256)t[Ce++]=Hn;else if(Hn==256){Re=null;break}else{var Bn=Hn-254;if(Hn>264){var Je=Hn-257,Ze=fleb[Je];Bn=bits(e,Te,(1<<Ze)-1)+fl[Je],Te+=Ze}var Xe=Ue[bits16(e,Te)&pn],Ye=Xe>>>4;if(!Xe)throw"invalid distance";Te+=Xe&15;var gn=fd[Ye];if(Ye>3){var Ze=fdeb[Ye];gn+=bits16(e,Te)&(1<<Ze)-1,Te+=Ze}if(Te>Me)throw"unexpected EOF";Ae&&Ee(Ce+131072);for(var en=Ce+Bn;Ce<en;Ce+=4)t[Ce]=t[Ce-gn],t[Ce+1]=t[Ce+1-gn],t[Ce+2]=t[Ce+2-gn],t[Ce+3]=t[Ce+3-gn];Ce=en}}r.l=Re,r.p=Te,r.b=Ce,Re&&(xe=1,r.m=De,r.d=Ue,r.n=ke)}while(!xe);return Ce==t.length?t:slc(t,0,Ce)},wbits=function(e,t,r){r<<=t&7;var _e=t/8>>0;e[_e]|=r,e[_e+1]|=r>>>8},wbits16=function(e,t,r){r<<=t&7;var _e=t/8>>0;e[_e]|=r,e[_e+1]|=r>>>8,e[_e+2]|=r>>>16},hTree=function(e,t){for(var r=[],_e=0;_e<e.length;++_e)e[_e]&&r.push({s:_e,f:e[_e]});var Ae=r.length,Se=r.slice();if(!Ae)return[new u8(0),0];if(Ae==1){var Ee=new u8(r[0].s+1);return Ee[r[0].s]=1,[Ee,1]}r.sort(function(Ve,He){return Ve.f-He.f}),r.push({s:-1,f:25001});var xe=r[0],Te=r[1],Ce=0,Re=1,Ue=2;for(r[0]={s:-1,f:xe.f+Te.f,l:xe,r:Te};Re!=Ae-1;)xe=r[r[Ce].f<r[Ue].f?Ce++:Ue++],Te=r[Ce!=Re&&r[Ce].f<r[Ue].f?Ce++:Ue++],r[Re++]={s:-1,f:xe.f+Te.f,l:xe,r:Te};for(var De=Se[0].s,_e=1;_e<Ae;++_e)Se[_e].s>De&&(De=Se[_e].s);var ke=new u16(De+1),Me=ln(r[Re-1],ke,0);if(Me>t){var _e=0,Oe=0,Be=Me-t,Ie=1<<Be;for(Se.sort(function(He,Qe){return ke[Qe.s]-ke[He.s]||He.f-Qe.f});_e<Ae;++_e){var qe=Se[_e].s;if(ke[qe]>t)Oe+=Ie-(1<<Me-ke[qe]),ke[qe]=t;else break}for(Oe>>>=Be;Oe>0;){var je=Se[_e].s;ke[je]<t?Oe-=1<<t-ke[je]++-1:++_e}for(;_e>=0&&Oe;--_e){var ze=Se[_e].s;ke[ze]==t&&(--ke[ze],++Oe)}Me=t}return[new u8(ke),Me]},ln=function(e,t,r){return e.s==-1?Math.max(ln(e.l,t,r+1),ln(e.r,t,r+1)):t[e.s]=r},lc=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new u16(++t),_e=0,Ae=e[0],Se=1,Ee=function(Te){r[_e++]=Te},xe=1;xe<=t;++xe)if(e[xe]==Ae&&xe!=t)++Se;else{if(!Ae&&Se>2){for(;Se>138;Se-=138)Ee(32754);Se>2&&(Ee(Se>10?Se-11<<5|28690:Se-3<<5|12305),Se=0)}else if(Se>3){for(Ee(Ae),--Se;Se>6;Se-=6)Ee(8304);Se>2&&(Ee(Se-3<<5|8208),Se=0)}for(;Se--;)Ee(Ae);Se=1,Ae=e[xe]}return[r.subarray(0,_e),t]},clen=function(e,t){for(var r=0,_e=0;_e<t.length;++_e)r+=e[_e]*t[_e];return r},wfblk=function(e,t,r){var _e=r.length,Ae=shft(t+2);e[Ae]=_e&255,e[Ae+1]=_e>>>8,e[Ae+2]=e[Ae]^255,e[Ae+3]=e[Ae+1]^255;for(var Se=0;Se<_e;++Se)e[Ae+Se+4]=r[Se];return(Ae+4+_e)*8},wblk=function(e,t,r,_e,Ae,Se,Ee,xe,Te,Ce,Re){wbits(t,Re++,r),++Ae[256];for(var Ue=hTree(Ae,15),De=Ue[0],ke=Ue[1],Me=hTree(Se,15),Oe=Me[0],Be=Me[1],Ie=lc(De),qe=Ie[0],je=Ie[1],ze=lc(Oe),Ve=ze[0],He=ze[1],Qe=new u16(19),Je=0;Je<qe.length;++Je)Qe[qe[Je]&31]++;for(var Je=0;Je<Ve.length;++Je)Qe[Ve[Je]&31]++;for(var dn=hTree(Qe,7),an=dn[0],Ke=dn[1],rn=19;rn>4&&!an[clim[rn-1]];--rn);var Cn=Ce+5<<3,Sn=clen(Ae,flt)+clen(Se,fdt)+Ee,fn=clen(Ae,De)+clen(Se,Oe)+Ee+14+3*rn+clen(Qe,an)+(2*Qe[16]+3*Qe[17]+7*Qe[18]);if(Cn<=Sn&&Cn<=fn)return wfblk(t,Re,e.subarray(Te,Te+Ce));var gn,vn,pn,On;if(wbits(t,Re,1+(fn<Sn)),Re+=2,fn<Sn){gn=hMap(De,ke,0),vn=De,pn=hMap(Oe,Be,0),On=Oe;var Hn=hMap(an,Ke,0);wbits(t,Re,je-257),wbits(t,Re+5,He-1),wbits(t,Re+10,rn-4),Re+=14;for(var Je=0;Je<rn;++Je)wbits(t,Re+3*Je,an[clim[Je]]);Re+=3*rn;for(var Bn=[qe,Ve],Ze=0;Ze<2;++Ze)for(var Xe=Bn[Ze],Je=0;Je<Xe.length;++Je){var Ye=Xe[Je]&31;wbits(t,Re,Hn[Ye]),Re+=an[Ye],Ye>15&&(wbits(t,Re,Xe[Je]>>>5&127),Re+=Xe[Je]>>>12)}}else gn=flm,vn=flt,pn=fdm,On=fdt;for(var Je=0;Je<xe;++Je)if(_e[Je]>255){var Ye=_e[Je]>>>18&31;wbits16(t,Re,gn[Ye+257]),Re+=vn[Ye+257],Ye>7&&(wbits(t,Re,_e[Je]>>>23&31),Re+=fleb[Ye]);var en=_e[Je]&31;wbits16(t,Re,pn[en]),Re+=On[en],en>3&&(wbits16(t,Re,_e[Je]>>>5&8191),Re+=fdeb[en])}else wbits16(t,Re,gn[_e[Je]]),Re+=vn[_e[Je]];return wbits16(t,Re,gn[256]),Re+vn[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(e,t,r,_e,Ae,Se){var Ee=e.length,xe=new u8(_e+Ee+5*(1+Math.floor(Ee/7e3))+Ae),Te=xe.subarray(_e,xe.length-Ae),Ce=0;if(!t||Ee<8)for(var Re=0;Re<=Ee;Re+=65535){var Ue=Re+65535;Ue<Ee?Ce=wfblk(Te,Ce,e.subarray(Re,Ue)):(Te[Re]=Se,Ce=wfblk(Te,Ce,e.subarray(Re,Ee)))}else{for(var De=deo[t-1],ke=De>>>13,Me=De&8191,Oe=(1<<r)-1,Be=new u16(32768),Ie=new u16(Oe+1),qe=Math.ceil(r/3),je=2*qe,ze=function(St){return(e[St]^e[St+1]<<qe^e[St+2]<<je)&Oe},Ve=new u32(25e3),He=new u16(288),Qe=new u16(32),Je=0,dn=0,Re=0,an=0,Ke=0,rn=0;Re<Ee;++Re){var Cn=ze(Re),Sn=Re&32767,fn=Ie[Cn];if(Be[Sn]=fn,Ie[Cn]=Sn,Ke<=Re){var gn=Ee-Re;if((Je>7e3||an>24576)&&gn>423){Ce=wblk(e,Te,0,Ve,He,Qe,dn,an,rn,Re-rn,Ce),an=Je=dn=0,rn=Re;for(var vn=0;vn<286;++vn)He[vn]=0;for(var vn=0;vn<30;++vn)Qe[vn]=0}var pn=2,On=0,Hn=Me,Bn=Sn-fn&32767;if(gn>2&&Cn==ze(Re-Bn))for(var Ze=Math.min(ke,gn)-1,Xe=Math.min(32767,Re),Ye=Math.min(258,gn);Bn<=Xe&&--Hn&&Sn!=fn;){if(e[Re+pn]==e[Re+pn-Bn]){for(var en=0;en<Ye&&e[Re+en]==e[Re+en-Bn];++en);if(en>pn){if(pn=en,On=Bn,en>Ze)break;for(var on=Math.min(Bn,en-2),hn=0,vn=0;vn<on;++vn){var bn=Re-Bn+vn+32768&32767,Ln=Be[bn],Vn=bn-Ln+32768&32767;Vn>hn&&(hn=Vn,fn=bn)}}}Sn=fn,fn=Be[Sn],Bn+=Sn-fn+32768&32767}if(On){Ve[an++]=268435456|revfl[pn]<<18|revfd[On];var Wn=revfl[pn]&31,un=revfd[On]&31;dn+=fleb[Wn]+fdeb[un],++He[257+Wn],++Qe[un],Ke=Re+pn,++Je}else Ve[an++]=e[Re],++He[e[Re]]}}Ce=wblk(e,Te,Se,Ve,He,Qe,dn,an,rn,Re-rn,Ce),Se||(Ce=wfblk(Te,Ce,et$1))}return slc(xe,0,_e+shft(Ce)+Ae)},adler=function(){var e=1,t=0;return{p:function(r){for(var _e=e,Ae=t,Se=r.length,Ee=0;Ee!=Se;){for(var xe=Math.min(Ee+5552,Se);Ee<xe;++Ee)_e+=r[Ee],Ae+=_e;_e%=65521,Ae%=65521}e=_e,t=Ae},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},dopt=function(e,t,r,_e,Ae){return dflt(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,r,_e,!Ae)},wbytes=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},zlh=function(e,t){var r=t.level,_e=r==0?0:r<6?1:r==9?3:2;e[0]=120,e[1]=_e<<6|(_e?32-2*_e:1)},zlv=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(e,t){t===void 0&&(t={});var r=adler();r.p(e);var _e=dopt(e,t,2,4);return zlh(_e,t),wbytes(_e,_e.length-4,r.d()),_e}function unzlibSync(e,t){return inflt((zlv(e),e.subarray(2,-4)),t)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(e){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(e){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(e))}};function o(e,t,r){var _e=new XMLHttpRequest;_e.open("GET",e),_e.responseType="blob",_e.onload=function(){l(_e.response,t,r)},_e.onerror=function(){a.error("could not download file")},_e.send()}function s(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function c(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var _e=n.URL||n.webkitURL,Ae=document.createElement("a");t=t||e.name||"download",Ae.download=t,Ae.rel="noopener",typeof e=="string"?(Ae.href=e,Ae.origin!==location.origin?s(Ae.href)?o(e,t,r):c(Ae,Ae.target="_blank"):c(Ae)):(Ae.href=_e.createObjectURL(e),setTimeout(function(){_e.revokeObjectURL(Ae.href)},4e4),setTimeout(function(){c(Ae)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(s(e))o(e,t,r);else{var _e=document.createElement("a");_e.href=e,_e.target="_blank",setTimeout(function(){c(_e)})}else navigator.msSaveOrOpenBlob(function(Ae,Se){return Se===void 0?Se={autoBom:!1}:_typeof(Se)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Se={autoBom:!Se}),Se.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ae.type)?new Blob([String.fromCharCode(65279),Ae],{type:Ae.type}):Ae}(e,r),t)}:function(e,t,r,_e){if((_e=_e||open("","_blank"))&&(_e.document.title=_e.document.body.innerText="downloading..."),typeof e=="string")return o(e,t,r);var Ae=e.type==="application/octet-stream",Se=/constructor/i.test(n.HTMLElement)||n.safari,Ee=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ee||Ae&&Se)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var xe=new FileReader;xe.onloadend=function(){var Re=xe.result;Re=Ee?Re:Re.replace(/^data:[^;]*;/,"data:attachment/file;"),_e?_e.location.href=Re:location=Re,_e=null},xe.readAsDataURL(e)}else{var Te=n.URL||n.webkitURL,Ce=Te.createObjectURL(e);_e?_e.location=Ce:location.href=Ce,_e=null,setTimeout(function(){Te.revokeObjectURL(Ce)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(xe){return[parseInt(xe[1]),parseInt(xe[2]),parseInt(xe[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(xe){return[parseInt(xe[1],16),parseInt(xe[2],16),parseInt(xe[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(xe){return[parseInt(xe[1]+xe[1],16),parseInt(xe[2]+xe[2],16),parseInt(xe[3]+xe[3],16)]}}],_e=0;_e<r.length;_e++){var Ae=r[_e].re,Se=r[_e].process,Ee=Ae.exec(e);Ee&&(t=Se(Ee),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var xe=this.r.toString(16),Te=this.g.toString(16),Ce=this.b.toString(16);return xe.length==1&&(xe="0"+xe),Te.length==1&&(Te="0"+Te),Ce.length==1&&(Ce="0"+Ce),"#"+xe+Te+Ce}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(e,t){var r=e[0],_e=e[1],Ae=e[2],Se=e[3];r=g(r,_e,Ae,Se,t[0],7,-680876936),Se=g(Se,r,_e,Ae,t[1],12,-389564586),Ae=g(Ae,Se,r,_e,t[2],17,606105819),_e=g(_e,Ae,Se,r,t[3],22,-1044525330),r=g(r,_e,Ae,Se,t[4],7,-176418897),Se=g(Se,r,_e,Ae,t[5],12,1200080426),Ae=g(Ae,Se,r,_e,t[6],17,-1473231341),_e=g(_e,Ae,Se,r,t[7],22,-45705983),r=g(r,_e,Ae,Se,t[8],7,1770035416),Se=g(Se,r,_e,Ae,t[9],12,-1958414417),Ae=g(Ae,Se,r,_e,t[10],17,-42063),_e=g(_e,Ae,Se,r,t[11],22,-1990404162),r=g(r,_e,Ae,Se,t[12],7,1804603682),Se=g(Se,r,_e,Ae,t[13],12,-40341101),Ae=g(Ae,Se,r,_e,t[14],17,-1502002290),r=m(r,_e=g(_e,Ae,Se,r,t[15],22,1236535329),Ae,Se,t[1],5,-165796510),Se=m(Se,r,_e,Ae,t[6],9,-1069501632),Ae=m(Ae,Se,r,_e,t[11],14,643717713),_e=m(_e,Ae,Se,r,t[0],20,-373897302),r=m(r,_e,Ae,Se,t[5],5,-701558691),Se=m(Se,r,_e,Ae,t[10],9,38016083),Ae=m(Ae,Se,r,_e,t[15],14,-660478335),_e=m(_e,Ae,Se,r,t[4],20,-405537848),r=m(r,_e,Ae,Se,t[9],5,568446438),Se=m(Se,r,_e,Ae,t[14],9,-1019803690),Ae=m(Ae,Se,r,_e,t[3],14,-187363961),_e=m(_e,Ae,Se,r,t[8],20,1163531501),r=m(r,_e,Ae,Se,t[13],5,-1444681467),Se=m(Se,r,_e,Ae,t[2],9,-51403784),Ae=m(Ae,Se,r,_e,t[7],14,1735328473),r=v(r,_e=m(_e,Ae,Se,r,t[12],20,-1926607734),Ae,Se,t[5],4,-378558),Se=v(Se,r,_e,Ae,t[8],11,-2022574463),Ae=v(Ae,Se,r,_e,t[11],16,1839030562),_e=v(_e,Ae,Se,r,t[14],23,-35309556),r=v(r,_e,Ae,Se,t[1],4,-1530992060),Se=v(Se,r,_e,Ae,t[4],11,1272893353),Ae=v(Ae,Se,r,_e,t[7],16,-155497632),_e=v(_e,Ae,Se,r,t[10],23,-1094730640),r=v(r,_e,Ae,Se,t[13],4,681279174),Se=v(Se,r,_e,Ae,t[0],11,-358537222),Ae=v(Ae,Se,r,_e,t[3],16,-722521979),_e=v(_e,Ae,Se,r,t[6],23,76029189),r=v(r,_e,Ae,Se,t[9],4,-640364487),Se=v(Se,r,_e,Ae,t[12],11,-421815835),Ae=v(Ae,Se,r,_e,t[15],16,530742520),r=b(r,_e=v(_e,Ae,Se,r,t[2],23,-995338651),Ae,Se,t[0],6,-198630844),Se=b(Se,r,_e,Ae,t[7],10,1126891415),Ae=b(Ae,Se,r,_e,t[14],15,-1416354905),_e=b(_e,Ae,Se,r,t[5],21,-57434055),r=b(r,_e,Ae,Se,t[12],6,1700485571),Se=b(Se,r,_e,Ae,t[3],10,-1894986606),Ae=b(Ae,Se,r,_e,t[10],15,-1051523),_e=b(_e,Ae,Se,r,t[1],21,-2054922799),r=b(r,_e,Ae,Se,t[8],6,1873313359),Se=b(Se,r,_e,Ae,t[15],10,-30611744),Ae=b(Ae,Se,r,_e,t[6],15,-1560198380),_e=b(_e,Ae,Se,r,t[13],21,1309151649),r=b(r,_e,Ae,Se,t[4],6,-145523070),Se=b(Se,r,_e,Ae,t[11],10,-1120210379),Ae=b(Ae,Se,r,_e,t[2],15,718787259),_e=b(_e,Ae,Se,r,t[9],21,-343485551),e[0]=_(r,e[0]),e[1]=_(_e,e[1]),e[2]=_(Ae,e[2]),e[3]=_(Se,e[3])}function p(e,t,r,_e,Ae,Se){return t=_(_(t,e),_(_e,Se)),_(t<<Ae|t>>>32-Ae,r)}function g(e,t,r,_e,Ae,Se,Ee){return p(t&r|~t&_e,e,t,Ae,Se,Ee)}function m(e,t,r,_e,Ae,Se,Ee){return p(t&_e|r&~_e,e,t,Ae,Se,Ee)}function v(e,t,r,_e,Ae,Se,Ee){return p(t^r^_e,e,t,Ae,Se,Ee)}function b(e,t,r,_e,Ae,Se,Ee){return p(r^(t|~_e),e,t,Ae,Se,Ee)}function y(e){var t,r=e.length,_e=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)d(_e,w(e.substring(t-64,t)));e=e.substring(t-64);var Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)Ae[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(Ae[t>>2]|=128<<(t%4<<3),t>55)for(d(_e,Ae),t=0;t<16;t++)Ae[t]=0;return Ae[14]=8*r,d(_e,Ae),_e}function w(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(e){for(var t="",r=0;r<4;r++)t+=N[e>>8*r+4&15]+N[e>>8*r&15];return t}function A(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function x(e){return y(e).map(A).join("")}var S=function(e){for(var t=0;t<e.length;t++)e[t]=L(e[t]);return e.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(e,t){if(S){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(e,t){var r,_e,Ae,Se;if(e!==r){for(var Ee=(Ae=e,Se=1+(256/e.length>>0),new Array(Se+1).join(Ae)),xe=[],Te=0;Te<256;Te++)xe[Te]=Te;var Ce=0;for(Te=0;Te<256;Te++){var Re=xe[Te];Ce=(Ce+Re+Ee.charCodeAt(Te))%256,xe[Te]=xe[Ce],xe[Ce]=Re}r=e,_e=xe}else xe=_e;var Ue=t.length,De=0,ke=0,Me="";for(Te=0;Te<Ue;Te++)ke=(ke+(Re=xe[De=(De+1)%256]))%256,xe[De]=xe[ke],xe[ke]=Re,Ee=xe[(xe[De]+xe[ke])%256],Me+=String.fromCharCode(t.charCodeAt(Te)^Ee);return Me}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(e,t,r,_e){this.v=1,this.r=2;var Ae=192;e.forEach(function(xe){if(k.perm!==void 0)throw new Error("Invalid permission: "+xe);Ae+=k[xe]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var Se=(t+this.padding).substr(0,32),Ee=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(Se,Ee),this.P=-(1+(255^Ae)),this.encryptionKey=x(Se+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(_e)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,_e=0;_e<r;_e++){var Ae=e.charCodeAt(_e);Ae<33||Ae===35||Ae===37||Ae===40||Ae===41||Ae===47||Ae===60||Ae===62||Ae===91||Ae===93||Ae===123||Ae===125||Ae>126?t+="#"+("0"+Ae.toString(16)).slice(-2):t+=e[_e]}return t}function C(e){if(_typeof(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,_e,Ae){if(Ae=Ae||!1,typeof r!="string"||typeof _e!="function"||typeof Ae!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var Se=Math.random().toString(35);return t[r][Se]=[_e,!!Ae],Se},this.unsubscribe=function(r){for(var _e in t)if(t[_e][r])return delete t[_e][r],Object.keys(t[_e]).length===0&&delete t[_e],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var _e=Array.prototype.slice.call(arguments,1),Ae=[];for(var Se in t[r]){var Ee=t[r][Se];try{Ee[0].apply(e,_e)}catch(xe){n.console&&a.error("jsPDF PubSub Error",xe.message,xe)}Ee[1]&&Ae.push(Se)}Ae.length&&Ae.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function j(e){if(!(this instanceof j))return new j(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function O(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function B(e,t,r,_e,Ae){if(!(this instanceof B))return new B(e,t,r,_e,Ae);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,O.call(this,_e,Ae)}function M(e,t,r,_e,Ae){if(!(this instanceof M))return new M(e,t,r,_e,Ae);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,O.call(this,_e,Ae)}function E(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",_e=arguments[1],Ae=arguments[2],Se=arguments[3],Ee=[],xe=1,Te=16,Ce="S",Re=null;_typeof(e=e||{})==="object"&&(r=e.orientation,_e=e.unit||_e,Ae=e.format||Ae,Se=e.compress||e.compressPdf||Se,(Re=e.encryption||null)!==null&&(Re.userPassword=Re.userPassword||"",Re.ownerPassword=Re.ownerPassword||"",Re.userPermissions=Re.userPermissions||[]),xe=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(Te=e.floatPrecision),Ce=e.defaultPathOperation||"S"),Ee=e.filters||(Se===!0?["FlateEncode"]:Ee),_e=_e||"mm",r=(""+(r||"P")).toLowerCase();var Ue=e.putOnlyUsedFonts||!1,De={},ke={internal:{},__private__:{}};ke.__private__.PubSub=C;var Me="1.3",Oe=ke.__private__.getPdfVersion=function(){return Me};ke.__private__.setPdfVersion=function(We){Me=We};var Be={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};ke.__private__.getPageFormats=function(){return Be};var Ie=ke.__private__.getPageFormat=function(We){return Be[We]};Ae=Ae||"a4";var qe={COMPAT:"compat",ADVANCED:"advanced"},je=qe.COMPAT;function ze(){this.saveGraphicsState(),$e(new xi(oi,0,0,-oi,0,ms()*oi).toString()+" cm"),this.setFontSize(this.getFontSize()/oi),Ce="n",je=qe.ADVANCED}function Ve(){this.restoreGraphicsState(),Ce="S",je=qe.COMPAT}var He=ke.__private__.combineFontStyleAndFontWeight=function(We,wn){if(We=="bold"&&wn=="normal"||We=="bold"&&wn==400||We=="normal"&&wn=="italic"||We=="bold"&&wn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return wn&&(We=wn==400||wn==="normal"?We==="italic"?"italic":"normal":wn!=700&&wn!=="bold"||We!=="normal"?(wn==700?"bold":wn)+""+We:"bold"),We};ke.advancedAPI=function(We){var wn=je===qe.COMPAT;return wn&&ze.call(this),typeof We!="function"||(We(this),wn&&Ve.call(this)),this},ke.compatAPI=function(We){var wn=je===qe.ADVANCED;return wn&&Ve.call(this),typeof We!="function"||(We(this),wn&&ze.call(this)),this},ke.isAdvancedAPI=function(){return je===qe.ADVANCED};var Qe,Je=function(We){if(je!==qe.ADVANCED)throw new Error(We+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},dn=ke.roundToPrecision=ke.__private__.roundToPrecision=function(We,wn){var Gn=t||wn;if(isNaN(We)||isNaN(Gn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return We.toFixed(Gn).replace(/0+$/,"")};Qe=ke.hpf=ke.__private__.hpf=typeof Te=="number"?function(We){if(isNaN(We))throw new Error("Invalid argument passed to jsPDF.hpf");return dn(We,Te)}:Te==="smart"?function(We){if(isNaN(We))throw new Error("Invalid argument passed to jsPDF.hpf");return dn(We,We>-1&&We<1?16:5)}:function(We){if(isNaN(We))throw new Error("Invalid argument passed to jsPDF.hpf");return dn(We,16)};var an=ke.f2=ke.__private__.f2=function(We){if(isNaN(We))throw new Error("Invalid argument passed to jsPDF.f2");return dn(We,2)},Ke=ke.__private__.f3=function(We){if(isNaN(We))throw new Error("Invalid argument passed to jsPDF.f3");return dn(We,3)},rn=ke.scale=ke.__private__.scale=function(We){if(isNaN(We))throw new Error("Invalid argument passed to jsPDF.scale");return je===qe.COMPAT?We*oi:je===qe.ADVANCED?We:void 0},Cn=function(We){return je===qe.COMPAT?ms()-We:je===qe.ADVANCED?We:void 0},Sn=function(We){return rn(Cn(We))};ke.__private__.setPrecision=ke.setPrecision=function(We){typeof parseInt(We,10)=="number"&&(t=parseInt(We,10))};var fn,gn="00000000000000000000000000000000",vn=ke.__private__.getFileId=function(){return gn},pn=ke.__private__.setFileId=function(We){return gn=We!==void 0&&/^[a-fA-F0-9]{32}$/.test(We)?We.toUpperCase():gn.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Re!==null&&(Sr=new I(Re.userPermissions,Re.userPassword,Re.ownerPassword,gn)),gn};ke.setFileId=function(We){return pn(We),this},ke.getFileId=function(){return vn()};var On=ke.__private__.convertDateToPDFDate=function(We){var wn=We.getTimezoneOffset(),Gn=wn<0?"+":"-",Kn=Math.floor(Math.abs(wn/60)),ri=Math.abs(wn%60),hi=[Gn,Ye(Kn),"'",Ye(ri),"'"].join("");return["D:",We.getFullYear(),Ye(We.getMonth()+1),Ye(We.getDate()),Ye(We.getHours()),Ye(We.getMinutes()),Ye(We.getSeconds()),hi].join("")},Hn=ke.__private__.convertPDFDateToDate=function(We){var wn=parseInt(We.substr(2,4),10),Gn=parseInt(We.substr(6,2),10)-1,Kn=parseInt(We.substr(8,2),10),ri=parseInt(We.substr(10,2),10),hi=parseInt(We.substr(12,2),10),_i=parseInt(We.substr(14,2),10);return new Date(wn,Gn,Kn,ri,hi,_i,0)},Bn=ke.__private__.setCreationDate=function(We){var wn;if(We===void 0&&(We=new Date),We instanceof Date)wn=On(We);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(We))throw new Error("Invalid argument passed to jsPDF.setCreationDate");wn=We}return fn=wn},Ze=ke.__private__.getCreationDate=function(We){var wn=fn;return We==="jsDate"&&(wn=Hn(fn)),wn};ke.setCreationDate=function(We){return Bn(We),this},ke.getCreationDate=function(We){return Ze(We)};var Xe,Ye=ke.__private__.padd2=function(We){return("0"+parseInt(We)).slice(-2)},en=ke.__private__.padd2Hex=function(We){return("00"+(We=We.toString())).substr(We.length)},on=0,hn=[],bn=[],Ln=0,Vn=[],Wn=[],un=!1,mn=bn,St=function(){on=0,Ln=0,bn=[],hn=[],Vn=[],Ji=Ui(),Yi=Ui()};ke.__private__.setCustomOutputDestination=function(We){un=!0,mn=We};var tn=function(We){un||(mn=We)};ke.__private__.resetCustomOutputDestination=function(){un=!1,mn=bn};var $e=ke.__private__.out=function(We){return We=We.toString(),Ln+=We.length+1,mn.push(We),mn},yn=ke.__private__.write=function(We){return $e(arguments.length===1?We.toString():Array.prototype.join.call(arguments," "))},En=ke.__private__.getArrayBuffer=function(We){for(var wn=We.length,Gn=new ArrayBuffer(wn),Kn=new Uint8Array(Gn);wn--;)Kn[wn]=We.charCodeAt(wn);return Gn},cn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];ke.__private__.getStandardFonts=function(){return cn};var Pn=e.fontSize||16;ke.__private__.setFontSize=ke.setFontSize=function(We){return Pn=je===qe.ADVANCED?We/oi:We,this};var Mn,nn=ke.__private__.getFontSize=ke.getFontSize=function(){return je===qe.COMPAT?Pn:Pn*oi},xn=e.R2L||!1;ke.__private__.setR2L=ke.setR2L=function(We){return xn=We,this},ke.__private__.getR2L=ke.getR2L=function(){return xn};var _n,zn=ke.__private__.setZoomMode=function(We){var wn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(We))Mn=We;else if(isNaN(We)){if(wn.indexOf(We)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+We+'" is not recognized.');Mn=We}else Mn=parseInt(We,10)};ke.__private__.getZoomMode=function(){return Mn};var $n,Yn=ke.__private__.setPageMode=function(We){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(We)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+We+'" is not recognized.');_n=We};ke.__private__.getPageMode=function(){return _n};var jn=ke.__private__.setLayoutMode=function(We){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(We)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+We+'" is not recognized.');$n=We};ke.__private__.getLayoutMode=function(){return $n},ke.__private__.setDisplayMode=ke.setDisplayMode=function(We,wn,Gn){return zn(We),jn(wn),Yn(Gn),this};var Xn={title:"",subject:"",author:"",keywords:"",creator:""};ke.__private__.getDocumentProperty=function(We){if(Object.keys(Xn).indexOf(We)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xn[We]},ke.__private__.getDocumentProperties=function(){return Xn},ke.__private__.setDocumentProperties=ke.setProperties=ke.setDocumentProperties=function(We){for(var wn in Xn)Xn.hasOwnProperty(wn)&&We[wn]&&(Xn[wn]=We[wn]);return this},ke.__private__.setDocumentProperty=function(We,wn){if(Object.keys(Xn).indexOf(We)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xn[We]=wn};var li,oi,Ni,Ai,Li,Ei={},ui={},In=[],Rn={},Un={},ti={},pi={},Si=null,fi=0,di=[],wi=new C(ke),Ri=e.hotfixes||[],Fi={},Oi={},Ii=[],xi=function We(wn,Gn,Kn,ri,hi,_i){if(!(this instanceof We))return new We(wn,Gn,Kn,ri,hi,_i);isNaN(wn)&&(wn=1),isNaN(Gn)&&(Gn=0),isNaN(Kn)&&(Kn=0),isNaN(ri)&&(ri=1),isNaN(hi)&&(hi=0),isNaN(_i)&&(_i=0),this._matrix=[wn,Gn,Kn,ri,hi,_i]};Object.defineProperty(xi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(We){this._matrix[0]=We}}),Object.defineProperty(xi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(We){this._matrix[1]=We}}),Object.defineProperty(xi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(We){this._matrix[2]=We}}),Object.defineProperty(xi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(We){this._matrix[3]=We}}),Object.defineProperty(xi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(We){this._matrix[4]=We}}),Object.defineProperty(xi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(We){this._matrix[5]=We}}),Object.defineProperty(xi.prototype,"a",{get:function(){return this._matrix[0]},set:function(We){this._matrix[0]=We}}),Object.defineProperty(xi.prototype,"b",{get:function(){return this._matrix[1]},set:function(We){this._matrix[1]=We}}),Object.defineProperty(xi.prototype,"c",{get:function(){return this._matrix[2]},set:function(We){this._matrix[2]=We}}),Object.defineProperty(xi.prototype,"d",{get:function(){return this._matrix[3]},set:function(We){this._matrix[3]=We}}),Object.defineProperty(xi.prototype,"e",{get:function(){return this._matrix[4]},set:function(We){this._matrix[4]=We}}),Object.defineProperty(xi.prototype,"f",{get:function(){return this._matrix[5]},set:function(We){this._matrix[5]=We}}),Object.defineProperty(xi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xi.prototype.join=function(We){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Qe).join(We)},xi.prototype.multiply=function(We){var wn=We.sx*this.sx+We.shy*this.shx,Gn=We.sx*this.shy+We.shy*this.sy,Kn=We.shx*this.sx+We.sy*this.shx,ri=We.shx*this.shy+We.sy*this.sy,hi=We.tx*this.sx+We.ty*this.shx+this.tx,_i=We.tx*this.shy+We.ty*this.sy+this.ty;return new xi(wn,Gn,Kn,ri,hi,_i)},xi.prototype.decompose=function(){var We=this.sx,wn=this.shy,Gn=this.shx,Kn=this.sy,ri=this.tx,hi=this.ty,_i=Math.sqrt(We*We+wn*wn),Ti=(We/=_i)*Gn+(wn/=_i)*Kn;Gn-=We*Ti,Kn-=wn*Ti;var Mi=Math.sqrt(Gn*Gn+Kn*Kn);return Ti/=Mi,We*(Kn/=Mi)<wn*(Gn/=Mi)&&(We=-We,wn=-wn,Ti=-Ti,_i=-_i),{scale:new xi(_i,0,0,Mi,0,0),translate:new xi(1,0,0,1,ri,hi),rotate:new xi(We,wn,-wn,We,0,0),skew:new xi(1,0,Ti,1,0,0)}},xi.prototype.toString=function(We){return this.join(" ")},xi.prototype.inversed=function(){var We=this.sx,wn=this.shy,Gn=this.shx,Kn=this.sy,ri=this.tx,hi=this.ty,_i=1/(We*Kn-wn*Gn),Ti=Kn*_i,Mi=-wn*_i,Vi=-Gn*_i,zi=We*_i;return new xi(Ti,Mi,Vi,zi,-Ti*ri-Vi*hi,-Mi*ri-zi*hi)},xi.prototype.applyToPoint=function(We){var wn=We.x*this.sx+We.y*this.shx+this.tx,Gn=We.x*this.shy+We.y*this.sy+this.ty;return new Ys(wn,Gn)},xi.prototype.applyToRectangle=function(We){var wn=this.applyToPoint(We),Gn=this.applyToPoint(new Ys(We.x+We.w,We.y+We.h));return new xa(wn.x,wn.y,Gn.x-wn.x,Gn.y-wn.y)},xi.prototype.clone=function(){var We=this.sx,wn=this.shy,Gn=this.shx,Kn=this.sy,ri=this.tx,hi=this.ty;return new xi(We,wn,Gn,Kn,ri,hi)},ke.Matrix=xi;var Bi=ke.matrixMult=function(We,wn){return wn.multiply(We)},Qi=new xi(1,0,0,1,0,0);ke.unitMatrix=ke.identityMatrix=Qi;var Xi=function(We,wn){if(!Un[We]){var Gn=(wn instanceof B?"Sh":"P")+(Object.keys(Rn).length+1).toString(10);wn.id=Gn,Un[We]=Gn,Rn[Gn]=wn,wi.publish("addPattern",wn)}};ke.ShadingPattern=B,ke.TilingPattern=M,ke.addShadingPattern=function(We,wn){return Je("addShadingPattern()"),Xi(We,wn),this},ke.beginTilingPattern=function(We){Je("beginTilingPattern()"),fo(We.boundingBox[0],We.boundingBox[1],We.boundingBox[2]-We.boundingBox[0],We.boundingBox[3]-We.boundingBox[1],We.matrix)},ke.endTilingPattern=function(We,wn){Je("endTilingPattern()"),wn.stream=Wn[Xe].join(`
`),Xi(We,wn),wi.publish("endTilingPattern",wn),Ii.pop().restore()};var Hi=ke.__private__.newObject=function(){var We=Ui();return ir(We,!0),We},Ui=ke.__private__.newObjectDeferred=function(){return on++,hn[on]=function(){return Ln},on},ir=function(We,wn){return wn=typeof wn=="boolean"&&wn,hn[We]=Ln,wn&&$e(We+" 0 obj"),We},tr=ke.__private__.newAdditionalObject=function(){var We={objId:Ui(),content:""};return Vn.push(We),We},Ji=Ui(),Yi=Ui(),rr=ke.__private__.decodeColorString=function(We){var wn=We.split(" ");if(wn.length!==2||wn[1]!=="g"&&wn[1]!=="G")wn.length===5&&(wn[4]==="k"||wn[4]==="K")&&(wn=[(1-wn[0])*(1-wn[3]),(1-wn[1])*(1-wn[3]),(1-wn[2])*(1-wn[3]),"r"]);else{var Gn=parseFloat(wn[0]);wn=[Gn,Gn,Gn,"r"]}for(var Kn="#",ri=0;ri<3;ri++)Kn+=("0"+Math.floor(255*parseFloat(wn[ri])).toString(16)).slice(-2);return Kn},vr=ke.__private__.encodeColorString=function(We){var wn;typeof We=="string"&&(We={ch1:We});var Gn=We.ch1,Kn=We.ch2,ri=We.ch3,hi=We.ch4,_i=We.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Gn=="string"&&Gn.charAt(0)!=="#"){var Ti=new f(Gn);if(Ti.ok)Gn=Ti.toHex();else if(!/^\d*\.?\d*$/.test(Gn))throw new Error('Invalid color "'+Gn+'" passed to jsPDF.encodeColorString.')}if(typeof Gn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Gn)&&(Gn="#"+Gn[1]+Gn[1]+Gn[2]+Gn[2]+Gn[3]+Gn[3]),typeof Gn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Gn)){var Mi=parseInt(Gn.substr(1),16);Gn=Mi>>16&255,Kn=Mi>>8&255,ri=255&Mi}if(Kn===void 0||hi===void 0&&Gn===Kn&&Kn===ri)if(typeof Gn=="string")wn=Gn+" "+_i[0];else switch(We.precision){case 2:wn=an(Gn/255)+" "+_i[0];break;case 3:default:wn=Ke(Gn/255)+" "+_i[0]}else if(hi===void 0||_typeof(hi)==="object"){if(hi&&!isNaN(hi.a)&&hi.a===0)return wn=["1.","1.","1.",_i[1]].join(" ");if(typeof Gn=="string")wn=[Gn,Kn,ri,_i[1]].join(" ");else switch(We.precision){case 2:wn=[an(Gn/255),an(Kn/255),an(ri/255),_i[1]].join(" ");break;default:case 3:wn=[Ke(Gn/255),Ke(Kn/255),Ke(ri/255),_i[1]].join(" ")}}else if(typeof Gn=="string")wn=[Gn,Kn,ri,hi,_i[2]].join(" ");else switch(We.precision){case 2:wn=[an(Gn),an(Kn),an(ri),an(hi),_i[2]].join(" ");break;case 3:default:wn=[Ke(Gn),Ke(Kn),Ke(ri),Ke(hi),_i[2]].join(" ")}return wn},Jr=ke.__private__.getFilters=function(){return Ee},Mr=ke.__private__.putStream=function(We){var wn=(We=We||{}).data||"",Gn=We.filters||Jr(),Kn=We.alreadyAppliedFilters||[],ri=We.addLength1||!1,hi=wn.length,_i=We.objectId,Ti=function(xr){return xr};if(Re!==null&&_i===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Re!==null&&(Ti=Sr.encryptor(_i,0));var Mi={};Gn===!0&&(Gn=["FlateEncode"]);var Vi=We.additionalKeyValues||[],zi=(Mi=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(wn,Gn):{data:wn,reverseChain:[]}).reverseChain+(Array.isArray(Kn)?Kn.join(" "):Kn.toString());if(Mi.data.length!==0&&(Vi.push({key:"Length",value:Mi.data.length}),ri===!0&&Vi.push({key:"Length1",value:hi})),zi.length!=0)if(zi.split("/").length-1==1)Vi.push({key:"Filter",value:zi});else{Vi.push({key:"Filter",value:"["+zi+"]"});for(var Gi=0;Gi<Vi.length;Gi+=1)if(Vi[Gi].key==="DecodeParms"){for(var lr=[],cr=0;cr<Mi.reverseChain.split("/").length-1;cr+=1)lr.push("null");lr.push(Vi[Gi].value),Vi[Gi].value="["+lr.join(" ")+"]"}}$e("<<");for(var pr=0;pr<Vi.length;pr++)$e("/"+Vi[pr].key+" "+Vi[pr].value);$e(">>"),Mi.data.length!==0&&($e("stream"),$e(Ti(Mi.data)),$e("endstream"))},Qr=ke.__private__.putPage=function(We){var wn=We.number,Gn=We.data,Kn=We.objId,ri=We.contentsObjId;ir(Kn,!0),$e("<</Type /Page"),$e("/Parent "+We.rootDictionaryObjId+" 0 R"),$e("/Resources "+We.resourceDictionaryObjId+" 0 R"),$e("/MediaBox ["+parseFloat(Qe(We.mediaBox.bottomLeftX))+" "+parseFloat(Qe(We.mediaBox.bottomLeftY))+" "+Qe(We.mediaBox.topRightX)+" "+Qe(We.mediaBox.topRightY)+"]"),We.cropBox!==null&&$e("/CropBox ["+Qe(We.cropBox.bottomLeftX)+" "+Qe(We.cropBox.bottomLeftY)+" "+Qe(We.cropBox.topRightX)+" "+Qe(We.cropBox.topRightY)+"]"),We.bleedBox!==null&&$e("/BleedBox ["+Qe(We.bleedBox.bottomLeftX)+" "+Qe(We.bleedBox.bottomLeftY)+" "+Qe(We.bleedBox.topRightX)+" "+Qe(We.bleedBox.topRightY)+"]"),We.trimBox!==null&&$e("/TrimBox ["+Qe(We.trimBox.bottomLeftX)+" "+Qe(We.trimBox.bottomLeftY)+" "+Qe(We.trimBox.topRightX)+" "+Qe(We.trimBox.topRightY)+"]"),We.artBox!==null&&$e("/ArtBox ["+Qe(We.artBox.bottomLeftX)+" "+Qe(We.artBox.bottomLeftY)+" "+Qe(We.artBox.topRightX)+" "+Qe(We.artBox.topRightY)+"]"),typeof We.userUnit=="number"&&We.userUnit!==1&&$e("/UserUnit "+We.userUnit),wi.publish("putPage",{objId:Kn,pageContext:di[wn],pageNumber:wn,page:Gn}),$e("/Contents "+ri+" 0 R"),$e(">>"),$e("endobj");var hi=Gn.join(`
`);return je===qe.ADVANCED&&(hi+=`
Q`),ir(ri,!0),Mr({data:hi,filters:Jr(),objectId:ri}),$e("endobj"),Kn},Ns=ke.__private__.putPages=function(){var We,wn,Gn=[];for(We=1;We<=fi;We++)di[We].objId=Ui(),di[We].contentsObjId=Ui();for(We=1;We<=fi;We++)Gn.push(Qr({number:We,data:Wn[We],objId:di[We].objId,contentsObjId:di[We].contentsObjId,mediaBox:di[We].mediaBox,cropBox:di[We].cropBox,bleedBox:di[We].bleedBox,trimBox:di[We].trimBox,artBox:di[We].artBox,userUnit:di[We].userUnit,rootDictionaryObjId:Ji,resourceDictionaryObjId:Yi}));ir(Ji,!0),$e("<</Type /Pages");var Kn="/Kids [";for(wn=0;wn<fi;wn++)Kn+=Gn[wn]+" 0 R ";$e(Kn+"]"),$e("/Count "+fi),$e(">>"),$e("endobj"),wi.publish("postPutPages")},Ds=function(We){wi.publish("putFont",{font:We,out:$e,newObject:Hi,putStream:Mr}),We.isAlreadyPutted!==!0&&(We.objectNumber=Hi(),$e("<<"),$e("/Type /Font"),$e("/BaseFont /"+F(We.postScriptName)),$e("/Subtype /Type1"),typeof We.encoding=="string"&&$e("/Encoding /"+We.encoding),$e("/FirstChar 32"),$e("/LastChar 255"),$e(">>"),$e("endobj"))},Bs=function(){for(var We in Ei)Ei.hasOwnProperty(We)&&(Ue===!1||Ue===!0&&De.hasOwnProperty(We))&&Ds(Ei[We])},js=function(We){We.objectNumber=Hi();var wn=[];wn.push({key:"Type",value:"/XObject"}),wn.push({key:"Subtype",value:"/Form"}),wn.push({key:"BBox",value:"["+[Qe(We.x),Qe(We.y),Qe(We.x+We.width),Qe(We.y+We.height)].join(" ")+"]"}),wn.push({key:"Matrix",value:"["+We.matrix.toString()+"]"});var Gn=We.pages[1].join(`
`);Mr({data:Gn,additionalKeyValues:wn,objectId:We.objectNumber}),$e("endobj")},Us=function(){for(var We in Fi)Fi.hasOwnProperty(We)&&js(Fi[We])},Xa=function(We,wn){var Gn,Kn=[],ri=1/(wn-1);for(Gn=0;Gn<1;Gn+=ri)Kn.push(Gn);if(Kn.push(1),We[0].offset!=0){var hi={offset:0,color:We[0].color};We.unshift(hi)}if(We[We.length-1].offset!=1){var _i={offset:1,color:We[We.length-1].color};We.push(_i)}for(var Ti="",Mi=0,Vi=0;Vi<Kn.length;Vi++){for(Gn=Kn[Vi];Gn>We[Mi+1].offset;)Mi++;var zi=We[Mi].offset,Gi=(Gn-zi)/(We[Mi+1].offset-zi),lr=We[Mi].color,cr=We[Mi+1].color;Ti+=en(Math.round((1-Gi)*lr[0]+Gi*cr[0]).toString(16))+en(Math.round((1-Gi)*lr[1]+Gi*cr[1]).toString(16))+en(Math.round((1-Gi)*lr[2]+Gi*cr[2]).toString(16))}return Ti.trim()},zo=function(We,wn){wn||(wn=21);var Gn=Hi(),Kn=Xa(We.colors,wn),ri=[];ri.push({key:"FunctionType",value:"0"}),ri.push({key:"Domain",value:"[0.0 1.0]"}),ri.push({key:"Size",value:"["+wn+"]"}),ri.push({key:"BitsPerSample",value:"8"}),ri.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ri.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mr({data:Kn,additionalKeyValues:ri,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Gn}),$e("endobj"),We.objectNumber=Hi(),$e("<< /ShadingType "+We.type),$e("/ColorSpace /DeviceRGB");var hi="/Coords ["+Qe(parseFloat(We.coords[0]))+" "+Qe(parseFloat(We.coords[1]))+" ";We.type===2?hi+=Qe(parseFloat(We.coords[2]))+" "+Qe(parseFloat(We.coords[3])):hi+=Qe(parseFloat(We.coords[2]))+" "+Qe(parseFloat(We.coords[3]))+" "+Qe(parseFloat(We.coords[4]))+" "+Qe(parseFloat(We.coords[5])),$e(hi+="]"),We.matrix&&$e("/Matrix ["+We.matrix.toString()+"]"),$e("/Function "+Gn+" 0 R"),$e("/Extend [true true]"),$e(">>"),$e("endobj")},Wo=function(We,wn){var Gn=Ui(),Kn=Hi();wn.push({resourcesOid:Gn,objectOid:Kn}),We.objectNumber=Kn;var ri=[];ri.push({key:"Type",value:"/Pattern"}),ri.push({key:"PatternType",value:"1"}),ri.push({key:"PaintType",value:"1"}),ri.push({key:"TilingType",value:"1"}),ri.push({key:"BBox",value:"["+We.boundingBox.map(Qe).join(" ")+"]"}),ri.push({key:"XStep",value:Qe(We.xStep)}),ri.push({key:"YStep",value:Qe(We.yStep)}),ri.push({key:"Resources",value:Gn+" 0 R"}),We.matrix&&ri.push({key:"Matrix",value:"["+We.matrix.toString()+"]"}),Mr({data:We.stream,additionalKeyValues:ri,objectId:We.objectNumber}),$e("endobj")},Vs=function(We){var wn;for(wn in Rn)Rn.hasOwnProperty(wn)&&(Rn[wn]instanceof B?zo(Rn[wn]):Rn[wn]instanceof M&&Wo(Rn[wn],We))},Ya=function(We){for(var wn in We.objectNumber=Hi(),$e("<<"),We)switch(wn){case"opacity":$e("/ca "+an(We[wn]));break;case"stroke-opacity":$e("/CA "+an(We[wn]))}$e(">>"),$e("endobj")},Go=function(){var We;for(We in ti)ti.hasOwnProperty(We)&&Ya(ti[We])},fa=function(){for(var We in $e("/XObject <<"),Fi)Fi.hasOwnProperty(We)&&Fi[We].objectNumber>=0&&$e("/"+We+" "+Fi[We].objectNumber+" 0 R");wi.publish("putXobjectDict"),$e(">>")},$o=function(){Sr.oid=Hi(),$e("<<"),$e("/Filter /Standard"),$e("/V "+Sr.v),$e("/R "+Sr.r),$e("/U <"+Sr.toHexString(Sr.U)+">"),$e("/O <"+Sr.toHexString(Sr.O)+">"),$e("/P "+Sr.P),$e(">>"),$e("endobj")},Ka=function(){for(var We in $e("/Font <<"),Ei)Ei.hasOwnProperty(We)&&(Ue===!1||Ue===!0&&De.hasOwnProperty(We))&&$e("/"+We+" "+Ei[We].objectNumber+" 0 R");$e(">>")},Xo=function(){if(Object.keys(Rn).length>0){for(var We in $e("/Shading <<"),Rn)Rn.hasOwnProperty(We)&&Rn[We]instanceof B&&Rn[We].objectNumber>=0&&$e("/"+We+" "+Rn[We].objectNumber+" 0 R");wi.publish("putShadingPatternDict"),$e(">>")}},qs=function(We){if(Object.keys(Rn).length>0){for(var wn in $e("/Pattern <<"),Rn)Rn.hasOwnProperty(wn)&&Rn[wn]instanceof ke.TilingPattern&&Rn[wn].objectNumber>=0&&Rn[wn].objectNumber<We&&$e("/"+wn+" "+Rn[wn].objectNumber+" 0 R");wi.publish("putTilingPatternDict"),$e(">>")}},Yo=function(){if(Object.keys(ti).length>0){var We;for(We in $e("/ExtGState <<"),ti)ti.hasOwnProperty(We)&&ti[We].objectNumber>=0&&$e("/"+We+" "+ti[We].objectNumber+" 0 R");wi.publish("putGStateDict"),$e(">>")}},dr=function(We){ir(We.resourcesOid,!0),$e("<<"),$e("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ka(),Xo(),qs(We.objectOid),Yo(),fa(),$e(">>"),$e("endobj")},Ja=function(){var We=[];Bs(),Go(),Us(),Vs(We),wi.publish("putResources"),We.forEach(dr),dr({resourcesOid:Yi,objectOid:Number.MAX_SAFE_INTEGER}),wi.publish("postPutResources")},Qa=function(){wi.publish("putAdditionalObjects");for(var We=0;We<Vn.length;We++){var wn=Vn[We];ir(wn.objId,!0),$e(wn.content),$e("endobj")}wi.publish("postPutAdditionalObjects")},Za=function(We){ui[We.fontName]=ui[We.fontName]||{},ui[We.fontName][We.fontStyle]=We.id},pa=function(We,wn,Gn,Kn,ri){var hi={id:"F"+(Object.keys(Ei).length+1).toString(10),postScriptName:We,fontName:wn,fontStyle:Gn,encoding:Kn,isStandardFont:ri||!1,metadata:{}};return wi.publish("addFont",{font:hi,instance:this}),Ei[hi.id]=hi,Za(hi),hi.id},Ko=function(We){for(var wn=0,Gn=cn.length;wn<Gn;wn++){var Kn=pa.call(this,We[wn][0],We[wn][1],We[wn][2],cn[wn][3],!0);Ue===!1&&(De[Kn]=!0);var ri=We[wn][0].split("-");Za({id:Kn,fontName:ri[0],fontStyle:ri[1]||""})}wi.publish("addFonts",{fonts:Ei,dictionary:ui})},qr=function(We){return We.foo=function(){try{return We.apply(this,arguments)}catch(Kn){var wn=Kn.stack||"";~wn.indexOf(" at ")&&(wn=wn.split(" at ")[1]);var Gn="Error in function "+wn.split(`
`)[0].split("<")[0]+": "+Kn.message;if(!n.console)throw new Error(Gn);n.console.error(Gn,Kn),n.alert&&alert(Gn)}},We.foo.bar=We,We.foo},Hs=function(We,wn){var Gn,Kn,ri,hi,_i,Ti,Mi,Vi,zi;if(ri=(wn=wn||{}).sourceEncoding||"Unicode",_i=wn.outputEncoding,(wn.autoencode||_i)&&Ei[li].metadata&&Ei[li].metadata[ri]&&Ei[li].metadata[ri].encoding&&(hi=Ei[li].metadata[ri].encoding,!_i&&Ei[li].encoding&&(_i=Ei[li].encoding),!_i&&hi.codePages&&(_i=hi.codePages[0]),typeof _i=="string"&&(_i=hi[_i]),_i)){for(Mi=!1,Ti=[],Gn=0,Kn=We.length;Gn<Kn;Gn++)(Vi=_i[We.charCodeAt(Gn)])?Ti.push(String.fromCharCode(Vi)):Ti.push(We[Gn]),Ti[Gn].charCodeAt(0)>>8&&(Mi=!0);We=Ti.join("")}for(Gn=We.length;Mi===void 0&&Gn!==0;)We.charCodeAt(Gn-1)>>8&&(Mi=!0),Gn--;if(!Mi)return We;for(Ti=wn.noBOM?[]:[254,255],Gn=0,Kn=We.length;Gn<Kn;Gn++){if((zi=(Vi=We.charCodeAt(Gn))>>8)>>8)throw new Error("Character at position "+Gn+" of string '"+We+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ti.push(zi),Ti.push(Vi-(zi<<8))}return String.fromCharCode.apply(void 0,Ti)},Pr=ke.__private__.pdfEscape=ke.pdfEscape=function(We,wn){return Hs(We,wn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ga=ke.__private__.beginPage=function(We){Wn[++fi]=[],di[fi]={objId:0,contentsObjId:0,userUnit:Number(xe),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(We[0]),topRightY:Number(We[1])}},to(fi),tn(Wn[Xe])},eo=function(We,wn){var Gn,Kn,ri;switch(r=wn||r,typeof We=="string"&&(Gn=Ie(We.toLowerCase()),Array.isArray(Gn)&&(Kn=Gn[0],ri=Gn[1])),Array.isArray(We)&&(Kn=We[0]*oi,ri=We[1]*oi),isNaN(Kn)&&(Kn=Ae[0],ri=Ae[1]),(Kn>14400||ri>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Kn=Math.min(14400,Kn),ri=Math.min(14400,ri)),Ae=[Kn,ri],r.substr(0,1)){case"l":ri>Kn&&(Ae=[ri,Kn]);break;case"p":Kn>ri&&(Ae=[ri,Kn])}ga(Ae),oo(ya),$e(Hr),wa!==0&&$e(wa+" J"),Sa!==0&&$e(Sa+" j"),wi.publish("addPage",{pageNumber:fi})},Jo=function(We){We>0&&We<=fi&&(Wn.splice(We,1),di.splice(We,1),fi--,Xe>fi&&(Xe=fi),this.setPage(Xe))},to=function(We){We>0&&We<=fi&&(Xe=We)},Qo=ke.__private__.getNumberOfPages=ke.getNumberOfPages=function(){return Wn.length-1},no=function(We,wn,Gn){var Kn,ri=void 0;return Gn=Gn||{},We=We!==void 0?We:Ei[li].fontName,wn=wn!==void 0?wn:Ei[li].fontStyle,Kn=We.toLowerCase(),ui[Kn]!==void 0&&ui[Kn][wn]!==void 0?ri=ui[Kn][wn]:ui[We]!==void 0&&ui[We][wn]!==void 0?ri=ui[We][wn]:Gn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+We+"', '"+wn+"'. Refer to getFontList() for available fonts."),ri||Gn.noFallback||(ri=ui.times[wn])==null&&(ri=ui.times.normal),ri},Zo=ke.__private__.putInfo=function(){var We=Hi(),wn=function(Kn){return Kn};for(var Gn in Re!==null&&(wn=Sr.encryptor(We,0)),$e("<<"),$e("/Producer ("+Pr(wn("jsPDF "+E.version))+")"),Xn)Xn.hasOwnProperty(Gn)&&Xn[Gn]&&$e("/"+Gn.substr(0,1).toUpperCase()+Gn.substr(1)+" ("+Pr(wn(Xn[Gn]))+")");$e("/CreationDate ("+Pr(wn(fn))+")"),$e(">>"),$e("endobj")},ma=ke.__private__.putCatalog=function(We){var wn=(We=We||{}).rootDictionaryObjId||Ji;switch(Hi(),$e("<<"),$e("/Type /Catalog"),$e("/Pages "+wn+" 0 R"),Mn||(Mn="fullwidth"),Mn){case"fullwidth":$e("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$e("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$e("/OpenAction [3 0 R /Fit]");break;case"original":$e("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Gn=""+Mn;Gn.substr(Gn.length-1)==="%"&&(Mn=parseInt(Mn)/100),typeof Mn=="number"&&$e("/OpenAction [3 0 R /XYZ null null "+an(Mn)+"]")}switch($n||($n="continuous"),$n){case"continuous":$e("/PageLayout /OneColumn");break;case"single":$e("/PageLayout /SinglePage");break;case"two":case"twoleft":$e("/PageLayout /TwoColumnLeft");break;case"tworight":$e("/PageLayout /TwoColumnRight")}_n&&$e("/PageMode /"+_n),wi.publish("putCatalog"),$e(">>"),$e("endobj")},el=ke.__private__.putTrailer=function(){$e("trailer"),$e("<<"),$e("/Size "+(on+1)),$e("/Root "+on+" 0 R"),$e("/Info "+(on-1)+" 0 R"),Re!==null&&$e("/Encrypt "+Sr.oid+" 0 R"),$e("/ID [ <"+gn+"> <"+gn+"> ]"),$e(">>")},tl=ke.__private__.putHeader=function(){$e("%PDF-"+Me),$e("%\xBA\xDF\xAC\xE0")},nl=ke.__private__.putXRef=function(){var We="0000000000";$e("xref"),$e("0 "+(on+1)),$e("0000000000 65535 f ");for(var wn=1;wn<=on;wn++)typeof hn[wn]=="function"?$e((We+hn[wn]()).slice(-10)+" 00000 n "):hn[wn]!==void 0?$e((We+hn[wn]).slice(-10)+" 00000 n "):$e("0000000000 00000 n ")},is=ke.__private__.buildDocument=function(){St(),tn(bn),wi.publish("buildDocument"),tl(),Ns(),Qa(),Ja(),Re!==null&&$o(),Zo(),ma();var We=Ln;return nl(),el(),$e("startxref"),$e(""+We),$e("%%EOF"),tn(Wn[Xe]),bn.join(`
`)},zs=ke.__private__.getBlob=function(We){return new Blob([En(We)],{type:"application/pdf"})},Ws=ke.output=ke.__private__.output=qr(function(We,wn){switch(typeof(wn=wn||{})=="string"?wn={filename:wn}:wn.filename=wn.filename||"generated.pdf",We){case void 0:return is();case"save":ke.save(wn.filename);break;case"arraybuffer":return En(is());case"blob":return zs(is());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(zs(is()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Gn="",Kn=is();try{Gn=h(Kn)}catch{Gn=h(unescape(encodeURIComponent(Kn)))}return"data:application/pdf;filename="+wn.filename+";base64,"+Gn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var ri="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",hi=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';wn.pdfObjectUrl&&(ri=wn.pdfObjectUrl,hi="");var _i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ri+'"'+hi+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(wn)+");<\/script></body></html>",Ti=n.open();return Ti!==null&&Ti.document.write(_i),Ti}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Mi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(wn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+wn.filename+'" width="500px" height="400px" /></body></html>',Vi=n.open();if(Vi!==null){Vi.document.write(Mi);var zi=this;Vi.document.documentElement.querySelector("#pdfViewer").onload=function(){Vi.document.title=wn.filename,Vi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zi.output("bloburl"))}}return Vi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",wn)+'"></iframe></body></html>',lr=n.open();if(lr!==null&&(lr.document.write(Gi),lr.document.title=wn.filename),lr||typeof safari>"u")return lr;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",wn);default:return null}}),io=function(We){return Array.isArray(Ri)===!0&&Ri.indexOf(We)>-1};switch(_e){case"pt":oi=1;break;case"mm":oi=72/25.4;break;case"cm":oi=72/2.54;break;case"in":oi=72;break;case"px":oi=io("px_scaling")==1?.75:96/72;break;case"pc":case"em":oi=12;break;case"ex":oi=6;break;default:if(typeof _e!="number")throw new Error("Invalid unit: "+_e);oi=_e}var Sr=null;Bn(),pn();var il=function(We){return Re!==null?Sr.encryptor(We,0):function(wn){return wn}},ro=ke.__private__.getPageInfo=ke.getPageInfo=function(We){if(isNaN(We)||We%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:di[We].objId,pageNumber:We,pageContext:di[We]}},ji=ke.__private__.getPageInfoByObjId=function(We){if(isNaN(We)||We%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var wn in di)if(di[wn].objId===We)break;return ro(wn)},rl=ke.__private__.getCurrentPageInfo=ke.getCurrentPageInfo=function(){return{objId:di[Xe].objId,pageNumber:Xe,pageContext:di[Xe]}};ke.addPage=function(){return eo.apply(this,arguments),this},ke.setPage=function(){return to.apply(this,arguments),tn.call(this,Wn[Xe]),this},ke.insertPage=function(We){return this.addPage(),this.movePage(Xe,We),this},ke.movePage=function(We,wn){var Gn,Kn;if(We>wn){Gn=Wn[We],Kn=di[We];for(var ri=We;ri>wn;ri--)Wn[ri]=Wn[ri-1],di[ri]=di[ri-1];Wn[wn]=Gn,di[wn]=Kn,this.setPage(wn)}else if(We<wn){Gn=Wn[We],Kn=di[We];for(var hi=We;hi<wn;hi++)Wn[hi]=Wn[hi+1],di[hi]=di[hi+1];Wn[wn]=Gn,di[wn]=Kn,this.setPage(wn)}return this},ke.deletePage=function(){return Jo.apply(this,arguments),this},ke.__private__.text=ke.text=function(We,wn,Gn,Kn,ri){var hi,_i,Ti,Mi,Vi,zi,Gi,lr,cr,pr=(Kn=Kn||{}).scope||this;if(typeof We=="number"&&typeof wn=="number"&&(typeof Gn=="string"||Array.isArray(Gn))){var xr=Gn;Gn=wn,wn=We,We=xr}if(arguments[3]instanceof xi?(Je("The transform parameter of text() with a Matrix value"),cr=ri):(Ti=arguments[4],Mi=arguments[5],_typeof(Gi=arguments[3])==="object"&&Gi!==null||(typeof Ti=="string"&&(Mi=Ti,Ti=null),typeof Gi=="string"&&(Mi=Gi,Gi=null),typeof Gi=="number"&&(Ti=Gi,Gi=null),Kn={flags:Gi,angle:Ti,align:Mi})),isNaN(wn)||isNaN(Gn)||We==null)throw new Error("Invalid arguments passed to jsPDF.text");if(We.length===0)return pr;var yr="",zr=!1,kr=typeof Kn.lineHeightFactor=="number"?Kn.lineHeightFactor:ks,ss=pr.internal.scaleFactor;function po(ar){return ar=ar.split("	").join(Array(Kn.TabLen||9).join(" ")),Pr(ar,Gi)}function La(ar){for(var or,fr=ar.concat(),br=[],cs=fr.length;cs--;)typeof(or=fr.shift())=="string"?br.push(or):Array.isArray(ar)&&(or.length===1||or[1]===void 0&&or[2]===void 0)?br.push(or[0]):br.push([or[0],or[1],or[2]]);return br}function Na(ar,or){var fr;if(typeof ar=="string")fr=or(ar)[0];else if(Array.isArray(ar)){for(var br,cs,As=ar.concat(),sa=[],mo=As.length;mo--;)typeof(br=As.shift())=="string"?sa.push(or(br)[0]):Array.isArray(br)&&typeof br[0]=="string"&&(cs=or(br[0],br[1],br[2]),sa.push([cs[0],cs[1],cs[2]]));fr=sa}return fr}var Js=!1,Ta=!0;if(typeof We=="string")Js=!0;else if(Array.isArray(We)){var ka=We.concat();_i=[];for(var Qs,Cr=ka.length;Cr--;)(typeof(Qs=ka.shift())!="string"||Array.isArray(Qs)&&typeof Qs[0]!="string")&&(Ta=!1);Js=Ta}if(Js===!1)throw new Error('Type of text must be string or Array. "'+We+'" is not recognized.');typeof We=="string"&&(We=We.match(/[\r?\n]/)?We.split(/\r\n|\r|\n/g):[We]);var Zs=Pn/pr.internal.scaleFactor,ea=Zs*(kr-1);switch(Kn.baseline){case"bottom":Gn-=ea;break;case"top":Gn+=Zs-ea;break;case"hanging":Gn+=Zs-2*ea;break;case"middle":Gn+=Zs/2-ea}if((zi=Kn.maxWidth||0)>0&&(typeof We=="string"?We=pr.splitTextToSize(We,zi):Object.prototype.toString.call(We)==="[object Array]"&&(We=We.reduce(function(ar,or){return ar.concat(pr.splitTextToSize(or,zi))},[]))),hi={text:We,x:wn,y:Gn,options:Kn,mutex:{pdfEscape:Pr,activeFontKey:li,fonts:Ei,activeFontSize:Pn}},wi.publish("preProcessText",hi),We=hi.text,Ti=(Kn=hi.options).angle,!(cr instanceof xi)&&Ti&&typeof Ti=="number"){Ti*=Math.PI/180,Kn.rotationDirection===0&&(Ti=-Ti),je===qe.ADVANCED&&(Ti=-Ti);var ta=Math.cos(Ti),Ra=Math.sin(Ti);cr=new xi(ta,Ra,-Ra,ta,0,0)}else Ti&&Ti instanceof xi&&(cr=Ti);je!==qe.ADVANCED||cr||(cr=Qi),(Vi=Kn.charSpace||Xs)!==void 0&&(yr+=Qe(rn(Vi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(lr=Kn.horizontalScale)!==void 0&&(yr+=Qe(100*lr)+` Tz
`),Kn.lang;var Lr=-1,gl=Kn.renderingMode!==void 0?Kn.renderingMode:Kn.stroke,Ia=pr.internal.getCurrentPageInfo().pageContext;switch(gl){case 0:case!1:case"fill":Lr=0;break;case 1:case!0:case"stroke":Lr=1;break;case 2:case"fillThenStroke":Lr=2;break;case 3:case"invisible":Lr=3;break;case 4:case"fillAndAddForClipping":Lr=4;break;case 5:case"strokeAndAddPathForClipping":Lr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Lr=6;break;case 7:case"addToPathForClipping":Lr=7}var go=Ia.usedRenderingMode!==void 0?Ia.usedRenderingMode:-1;Lr!==-1?yr+=Lr+` Tr
`:go!==-1&&(yr+=`0 Tr
`),Lr!==-1&&(Ia.usedRenderingMode=Lr),Mi=Kn.align||"left";var Wr,Fa=Pn*kr,ml=pr.internal.pageSize.getWidth(),vl=Ei[li];Vi=Kn.charSpace||Xs,zi=Kn.maxWidth||0,Gi=Object.assign({autoencode:!0,noBOM:!0},Kn.flags);var vs=[];if(Object.prototype.toString.call(We)==="[object Array]"){var Or;_i=La(We),Mi!=="left"&&(Wr=_i.map(function(ar){return pr.getStringUnitWidth(ar,{font:vl,charSpace:Vi,fontSize:Pn,doKerning:!1})*Pn/ss}));var Gr,bs=0;if(Mi==="right"){wn-=Wr[0],We=[],Cr=_i.length;for(var es=0;es<Cr;es++)es===0?(Gr=rs(wn),Or=ps(Gn)):(Gr=rn(bs-Wr[es]),Or=-Fa),We.push([_i[es],Gr,Or]),bs=Wr[es]}else if(Mi==="center"){wn-=Wr[0]/2,We=[],Cr=_i.length;for(var as=0;as<Cr;as++)as===0?(Gr=rs(wn),Or=ps(Gn)):(Gr=rn((bs-Wr[as])/2),Or=-Fa),We.push([_i[as],Gr,Or]),bs=Wr[as]}else if(Mi==="left"){We=[],Cr=_i.length;for(var na=0;na<Cr;na++)We.push(_i[na])}else{if(Mi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');We=[],Cr=_i.length,zi=zi!==0?zi:ml;for(var $r=0;$r<Cr;$r++)Or=$r===0?ps(Gn):-Fa,Gr=$r===0?rs(wn):0,$r<Cr-1?vs.push(Qe(rn((zi-Wr[$r])/(_i[$r].split(" ").length-1)))):vs.push(0),We.push([_i[$r],Gr,Or])}}var ia=typeof Kn.R2L=="boolean"?Kn.R2L:xn;ia===!0&&(We=Na(We,function(ar,or,fr){return[ar.split("").reverse().join(""),or,fr]})),hi={text:We,x:wn,y:Gn,options:Kn,mutex:{pdfEscape:Pr,activeFontKey:li,fonts:Ei,activeFontSize:Pn}},wi.publish("postProcessText",hi),We=hi.text,zr=hi.mutex.isHex||!1;var Ma=Ei[li].encoding;Ma!=="WinAnsiEncoding"&&Ma!=="StandardEncoding"||(We=Na(We,function(ar,or,fr){return[po(ar),or,fr]})),_i=La(We),We=[];for(var ys,Xr,os,Fs=0,ra=1,Ms=Array.isArray(_i[0])?ra:Fs,_s="",Oa=function(ar,or,fr){var br="";return fr instanceof xi?(fr=typeof Kn.angle=="number"?Bi(fr,new xi(1,0,0,1,ar,or)):Bi(new xi(1,0,0,1,ar,or),fr),je===qe.ADVANCED&&(fr=Bi(new xi(1,0,0,-1,0,0),fr)),br=fr.join(" ")+` Tm
`):br=Qe(ar)+" "+Qe(or)+` Td
`,br},Dr=0;Dr<_i.length;Dr++){switch(_s="",Ms){case ra:os=(zr?"<":"(")+_i[Dr][0]+(zr?">":")"),ys=parseFloat(_i[Dr][1]),Xr=parseFloat(_i[Dr][2]);break;case Fs:os=(zr?"<":"(")+_i[Dr]+(zr?">":")"),ys=rs(wn),Xr=ps(Gn)}vs!==void 0&&vs[Dr]!==void 0&&(_s=vs[Dr]+` Tw
`),Dr===0?We.push(_s+Oa(ys,Xr,cr)+os):Ms===Fs?We.push(_s+os):Ms===ra&&We.push(_s+Oa(ys,Xr,cr)+os)}We=Ms===Fs?We.join(` Tj
T* `):We.join(` Tj
`),We+=` Tj
`;var ls=`BT
/`;return ls+=li+" "+Pn+` Tf
`,ls+=Qe(Pn*kr)+` TL
`,ls+=Rs+`
`,ls+=yr,ls+=We,$e(ls+="ET"),De[li]=!0,pr};var sl=ke.__private__.clip=ke.clip=function(We){return $e(We==="evenodd"?"W*":"W"),this};ke.clipEvenOdd=function(){return sl("evenodd")},ke.__private__.discardPath=ke.discardPath=function(){return $e("n"),this};var Zr=ke.__private__.isValidStyle=function(We){var wn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(We)!==-1&&(wn=!0),wn};ke.__private__.setDefaultPathOperation=ke.setDefaultPathOperation=function(We){return Zr(We)&&(Ce=We),this};var so=ke.__private__.getStyle=ke.getStyle=function(We){var wn=Ce;switch(We){case"D":case"S":wn="S";break;case"F":wn="f";break;case"FD":case"DF":wn="B";break;case"f":case"f*":case"B":case"B*":wn=We}return wn},ao=ke.close=function(){return $e("h"),this};ke.stroke=function(){return $e("S"),this},ke.fill=function(We){return Gs("f",We),this},ke.fillEvenOdd=function(We){return Gs("f*",We),this},ke.fillStroke=function(We){return Gs("B",We),this},ke.fillStrokeEvenOdd=function(We){return Gs("B*",We),this};var Gs=function(We,wn){_typeof(wn)==="object"?ol(wn,We):$e(We)},va=function(We){We===null||je===qe.ADVANCED&&We===void 0||(We=so(We),$e(We))};function al(We,wn,Gn,Kn,ri){var hi=new M(wn||this.boundingBox,Gn||this.xStep,Kn||this.yStep,this.gState,ri||this.matrix);hi.stream=this.stream;var _i=We+"$$"+this.cloneIndex+++"$$";return Xi(_i,hi),hi}var ol=function(We,wn){var Gn=Un[We.key],Kn=Rn[Gn];if(Kn instanceof B)$e("q"),$e(ll(wn)),Kn.gState&&ke.setGState(Kn.gState),$e(We.matrix.toString()+" cm"),$e("/"+Gn+" sh"),$e("Q");else if(Kn instanceof M){var ri=new xi(1,0,0,-1,0,ms());We.matrix&&(ri=ri.multiply(We.matrix||Qi),Gn=al.call(Kn,We.key,We.boundingBox,We.xStep,We.yStep,ri).id),$e("q"),$e("/Pattern cs"),$e("/"+Gn+" scn"),Kn.gState&&ke.setGState(Kn.gState),$e(wn),$e("Q")}},ll=function(We){switch(We){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ba=ke.moveTo=function(We,wn){return $e(Qe(rn(We))+" "+Qe(Sn(wn))+" m"),this},Ts=ke.lineTo=function(We,wn){return $e(Qe(rn(We))+" "+Qe(Sn(wn))+" l"),this},fs=ke.curveTo=function(We,wn,Gn,Kn,ri,hi){return $e([Qe(rn(We)),Qe(Sn(wn)),Qe(rn(Gn)),Qe(Sn(Kn)),Qe(rn(ri)),Qe(Sn(hi)),"c"].join(" ")),this};ke.__private__.line=ke.line=function(We,wn,Gn,Kn,ri){if(isNaN(We)||isNaN(wn)||isNaN(Gn)||isNaN(Kn)||!Zr(ri))throw new Error("Invalid arguments passed to jsPDF.line");return je===qe.COMPAT?this.lines([[Gn-We,Kn-wn]],We,wn,[1,1],ri||"S"):this.lines([[Gn-We,Kn-wn]],We,wn,[1,1]).stroke()},ke.__private__.lines=ke.lines=function(We,wn,Gn,Kn,ri,hi){var _i,Ti,Mi,Vi,zi,Gi,lr,cr,pr,xr,yr,zr;if(typeof We=="number"&&(zr=Gn,Gn=wn,wn=We,We=zr),Kn=Kn||[1,1],hi=hi||!1,isNaN(wn)||isNaN(Gn)||!Array.isArray(We)||!Array.isArray(Kn)||!Zr(ri)||typeof hi!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ba(wn,Gn),_i=Kn[0],Ti=Kn[1],Vi=We.length,xr=wn,yr=Gn,Mi=0;Mi<Vi;Mi++)(zi=We[Mi]).length===2?(xr=zi[0]*_i+xr,yr=zi[1]*Ti+yr,Ts(xr,yr)):(Gi=zi[0]*_i+xr,lr=zi[1]*Ti+yr,cr=zi[2]*_i+xr,pr=zi[3]*Ti+yr,xr=zi[4]*_i+xr,yr=zi[5]*Ti+yr,fs(Gi,lr,cr,pr,xr,yr));return hi&&ao(),va(ri),this},ke.path=function(We){for(var wn=0;wn<We.length;wn++){var Gn=We[wn],Kn=Gn.c;switch(Gn.op){case"m":ba(Kn[0],Kn[1]);break;case"l":Ts(Kn[0],Kn[1]);break;case"c":fs.apply(this,Kn);break;case"h":ao()}}return this},ke.__private__.rect=ke.rect=function(We,wn,Gn,Kn,ri){if(isNaN(We)||isNaN(wn)||isNaN(Gn)||isNaN(Kn)||!Zr(ri))throw new Error("Invalid arguments passed to jsPDF.rect");return je===qe.COMPAT&&(Kn=-Kn),$e([Qe(rn(We)),Qe(Sn(wn)),Qe(rn(Gn)),Qe(rn(Kn)),"re"].join(" ")),va(ri),this},ke.__private__.triangle=ke.triangle=function(We,wn,Gn,Kn,ri,hi,_i){if(isNaN(We)||isNaN(wn)||isNaN(Gn)||isNaN(Kn)||isNaN(ri)||isNaN(hi)||!Zr(_i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Gn-We,Kn-wn],[ri-Gn,hi-Kn],[We-ri,wn-hi]],We,wn,[1,1],_i,!0),this},ke.__private__.roundedRect=ke.roundedRect=function(We,wn,Gn,Kn,ri,hi,_i){if(isNaN(We)||isNaN(wn)||isNaN(Gn)||isNaN(Kn)||isNaN(ri)||isNaN(hi)||!Zr(_i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ti=4/3*(Math.SQRT2-1);return ri=Math.min(ri,.5*Gn),hi=Math.min(hi,.5*Kn),this.lines([[Gn-2*ri,0],[ri*Ti,0,ri,hi-hi*Ti,ri,hi],[0,Kn-2*hi],[0,hi*Ti,-ri*Ti,hi,-ri,hi],[2*ri-Gn,0],[-ri*Ti,0,-ri,-hi*Ti,-ri,-hi],[0,2*hi-Kn],[0,-hi*Ti,ri*Ti,-hi,ri,-hi]],We+ri,wn,[1,1],_i,!0),this},ke.__private__.ellipse=ke.ellipse=function(We,wn,Gn,Kn,ri){if(isNaN(We)||isNaN(wn)||isNaN(Gn)||isNaN(Kn)||!Zr(ri))throw new Error("Invalid arguments passed to jsPDF.ellipse");var hi=4/3*(Math.SQRT2-1)*Gn,_i=4/3*(Math.SQRT2-1)*Kn;return ba(We+Gn,wn),fs(We+Gn,wn-_i,We+hi,wn-Kn,We,wn-Kn),fs(We-hi,wn-Kn,We-Gn,wn-_i,We-Gn,wn),fs(We-Gn,wn+_i,We-hi,wn+Kn,We,wn+Kn),fs(We+hi,wn+Kn,We+Gn,wn+_i,We+Gn,wn),va(ri),this},ke.__private__.circle=ke.circle=function(We,wn,Gn,Kn){if(isNaN(We)||isNaN(wn)||isNaN(Gn)||!Zr(Kn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(We,wn,Gn,Gn,Kn)},ke.setFont=function(We,wn,Gn){return Gn&&(wn=He(wn,Gn)),li=no(We,wn,{disableWarning:!1}),this};var cl=ke.__private__.getFont=ke.getFont=function(){return Ei[no.apply(ke,arguments)]};ke.__private__.getFontList=ke.getFontList=function(){var We,wn,Gn={};for(We in ui)if(ui.hasOwnProperty(We))for(wn in Gn[We]=[],ui[We])ui[We].hasOwnProperty(wn)&&Gn[We].push(wn);return Gn},ke.addFont=function(We,wn,Gn,Kn,ri){var hi=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&hi.indexOf(arguments[3])!==-1?ri=arguments[3]:arguments[3]&&hi.indexOf(arguments[3])==-1&&(Gn=He(Gn,Kn)),ri=ri||"Identity-H",pa.call(this,We,wn,Gn,ri)};var ks,ya=e.lineWidth||.200025,$s=ke.__private__.getLineWidth=ke.getLineWidth=function(){return ya},oo=ke.__private__.setLineWidth=ke.setLineWidth=function(We){return ya=We,$e(Qe(rn(We))+" w"),this};ke.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(We,wn){if(We=We||[],wn=wn||0,isNaN(wn)||!Array.isArray(We))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return We=We.map(function(Gn){return Qe(rn(Gn))}).join(" "),wn=Qe(rn(wn)),$e("["+We+"] "+wn+" d"),this};var lo=ke.__private__.getLineHeight=ke.getLineHeight=function(){return Pn*ks};ke.__private__.getLineHeight=ke.getLineHeight=function(){return Pn*ks};var co=ke.__private__.setLineHeightFactor=ke.setLineHeightFactor=function(We){return typeof(We=We||1.15)=="number"&&(ks=We),this},uo=ke.__private__.getLineHeightFactor=ke.getLineHeightFactor=function(){return ks};co(e.lineHeight);var rs=ke.__private__.getHorizontalCoordinate=function(We){return rn(We)},ps=ke.__private__.getVerticalCoordinate=function(We){return je===qe.ADVANCED?We:di[Xe].mediaBox.topRightY-di[Xe].mediaBox.bottomLeftY-rn(We)},ul=ke.__private__.getHorizontalCoordinateString=ke.getHorizontalCoordinateString=function(We){return Qe(rs(We))},gs=ke.__private__.getVerticalCoordinateString=ke.getVerticalCoordinateString=function(We){return Qe(ps(We))},Hr=e.strokeColor||"0 G";ke.__private__.getStrokeColor=ke.getDrawColor=function(){return rr(Hr)},ke.__private__.setStrokeColor=ke.setDrawColor=function(We,wn,Gn,Kn){return Hr=vr({ch1:We,ch2:wn,ch3:Gn,ch4:Kn,pdfColorType:"draw",precision:2}),$e(Hr),this};var Aa=e.fillColor||"0 g";ke.__private__.getFillColor=ke.getFillColor=function(){return rr(Aa)},ke.__private__.setFillColor=ke.setFillColor=function(We,wn,Gn,Kn){return Aa=vr({ch1:We,ch2:wn,ch3:Gn,ch4:Kn,pdfColorType:"fill",precision:2}),$e(Aa),this};var Rs=e.textColor||"0 g",hl=ke.__private__.getTextColor=ke.getTextColor=function(){return rr(Rs)};ke.__private__.setTextColor=ke.setTextColor=function(We,wn,Gn,Kn){return Rs=vr({ch1:We,ch2:wn,ch3:Gn,ch4:Kn,pdfColorType:"text",precision:3}),this};var Xs=e.charSpace,dl=ke.__private__.getCharSpace=ke.getCharSpace=function(){return parseFloat(Xs||0)};ke.__private__.setCharSpace=ke.setCharSpace=function(We){if(isNaN(We))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xs=We,this};var wa=0;ke.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},ke.__private__.setLineCap=ke.setLineCap=function(We){var wn=ke.CapJoinStyles[We];if(wn===void 0)throw new Error("Line cap style of '"+We+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wa=wn,$e(wn+" J"),this};var Sa=0;ke.__private__.setLineJoin=ke.setLineJoin=function(We){var wn=ke.CapJoinStyles[We];if(wn===void 0)throw new Error("Line join style of '"+We+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sa=wn,$e(wn+" j"),this},ke.__private__.setLineMiterLimit=ke.__private__.setMiterLimit=ke.setLineMiterLimit=ke.setMiterLimit=function(We){if(We=We||0,isNaN(We))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $e(Qe(rn(We))+" M"),this},ke.GState=j,ke.setGState=function(We){(We=typeof We=="string"?ti[pi[We]]:ho(null,We)).equals(Si)||($e("/"+We.id+" gs"),Si=We)};var ho=function(We,wn){if(!We||!pi[We]){var Gn=!1;for(var Kn in ti)if(ti.hasOwnProperty(Kn)&&ti[Kn].equals(wn)){Gn=!0;break}if(Gn)wn=ti[Kn];else{var ri="GS"+(Object.keys(ti).length+1).toString(10);ti[ri]=wn,wn.id=ri}return We&&(pi[We]=wn.id),wi.publish("addGState",wn),wn}};ke.addGState=function(We,wn){return ho(We,wn),this},ke.saveGraphicsState=function(){return $e("q"),In.push({key:li,size:Pn,color:Rs}),this},ke.restoreGraphicsState=function(){$e("Q");var We=In.pop();return li=We.key,Pn=We.size,Rs=We.color,Si=null,this},ke.setCurrentTransformationMatrix=function(We){return $e(We.toString()+" cm"),this},ke.comment=function(We){return $e("#"+We),this};var Ys=function(We,wn){var Gn=We||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Gn},set:function(hi){isNaN(hi)||(Gn=parseFloat(hi))}});var Kn=wn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Kn},set:function(hi){isNaN(hi)||(Kn=parseFloat(hi))}});var ri="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ri},set:function(hi){ri=hi.toString()}}),this},xa=function(We,wn,Gn,Kn){Ys.call(this,We,wn),this.type="rect";var ri=Gn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ri},set:function(_i){isNaN(_i)||(ri=parseFloat(_i))}});var hi=Kn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return hi},set:function(_i){isNaN(_i)||(hi=parseFloat(_i))}}),this},Ea=function(){this.page=fi,this.currentPage=Xe,this.pages=Wn.slice(0),this.pagesContext=di.slice(0),this.x=Ni,this.y=Ai,this.matrix=Li,this.width=Is(Xe),this.height=ms(Xe),this.outputDestination=mn,this.id="",this.objectNumber=-1};Ea.prototype.restore=function(){fi=this.page,Xe=this.currentPage,di=this.pagesContext,Wn=this.pages,Ni=this.x,Ai=this.y,Li=this.matrix,Pa(Xe,this.width),Ca(Xe,this.height),mn=this.outputDestination};var fo=function(We,wn,Gn,Kn,ri){Ii.push(new Ea),fi=Xe=0,Wn=[],Ni=We,Ai=wn,Li=ri,ga([Gn,Kn])},pl=function(We){if(Oi[We])Ii.pop().restore();else{var wn=new Ea,Gn="Xo"+(Object.keys(Fi).length+1).toString(10);wn.id=Gn,Oi[We]=Gn,Fi[Gn]=wn,wi.publish("addFormObject",wn),Ii.pop().restore()}};for(var Ks in ke.beginFormObject=function(We,wn,Gn,Kn,ri){return fo(We,wn,Gn,Kn,ri),this},ke.endFormObject=function(We){return pl(We),this},ke.doFormObject=function(We,wn){var Gn=Fi[Oi[We]];return $e("q"),$e(wn.toString()+" cm"),$e("/"+Gn.id+" Do"),$e("Q"),this},ke.getFormObject=function(We){var wn=Fi[Oi[We]];return{x:wn.x,y:wn.y,width:wn.width,height:wn.height,matrix:wn.matrix}},ke.save=function(We,wn){return We=We||"generated.pdf",(wn=wn||{}).returnPromise=wn.returnPromise||!1,wn.returnPromise===!1?(l(zs(is()),We),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(Gn,Kn){try{var ri=l(zs(is()),We);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),Gn(ri)}catch(hi){Kn(hi.message)}})},E.API)E.API.hasOwnProperty(Ks)&&(Ks==="events"&&E.API.events.length?function(We,wn){var Gn,Kn,ri;for(ri=wn.length-1;ri!==-1;ri--)Gn=wn[ri][0],Kn=wn[ri][1],We.subscribe.apply(We,[Gn].concat(typeof Kn=="function"?[Kn]:Kn))}(wi,E.API.events):ke[Ks]=E.API[Ks]);var Is=ke.getPageWidth=function(We){return(di[We=We||Xe].mediaBox.topRightX-di[We].mediaBox.bottomLeftX)/oi},Pa=ke.setPageWidth=function(We,wn){di[We].mediaBox.topRightX=wn*oi+di[We].mediaBox.bottomLeftX},ms=ke.getPageHeight=function(We){return(di[We=We||Xe].mediaBox.topRightY-di[We].mediaBox.bottomLeftY)/oi},Ca=ke.setPageHeight=function(We,wn){di[We].mediaBox.topRightY=wn*oi+di[We].mediaBox.bottomLeftY};return ke.internal={pdfEscape:Pr,getStyle:so,getFont:cl,getFontSize:nn,getCharSpace:dl,getTextColor:hl,getLineHeight:lo,getLineHeightFactor:uo,getLineWidth:$s,write:yn,getHorizontalCoordinate:rs,getVerticalCoordinate:ps,getCoordinateString:ul,getVerticalCoordinateString:gs,collections:{},newObject:Hi,newAdditionalObject:tr,newObjectDeferred:Ui,newObjectDeferredBegin:ir,getFilters:Jr,putStream:Mr,events:wi,scaleFactor:oi,pageSize:{getWidth:function(){return Is(Xe)},setWidth:function(We){Pa(Xe,We)},getHeight:function(){return ms(Xe)},setHeight:function(We){Ca(Xe,We)}},encryptionOptions:Re,encryption:Sr,getEncryptor:il,output:Ws,getNumberOfPages:Qo,pages:Wn,out:$e,f2:an,f3:Ke,getPageInfo:ro,getPageInfoByObjId:ji,getCurrentPageInfo:rl,getPDFVersion:Oe,Point:Ys,Rectangle:xa,Matrix:xi,hasHotfix:io},Object.defineProperty(ke.internal.pageSize,"width",{get:function(){return Is(Xe)},set:function(We){Pa(Xe,We)},enumerable:!0,configurable:!0}),Object.defineProperty(ke.internal.pageSize,"height",{get:function(){return ms(Xe)},set:function(We){Ca(Xe,We)},enumerable:!0,configurable:!0}),Ko.call(ke,cn),li="F1",eo(Ae,r),wi.publish("initialized"),ke}I.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},I.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},I.prototype.processOwnerPassword=function(e,t){return P(x(t).substr(0,5),e)},I.prototype.encryptor=function(e,t){var r=x(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(_e){return P(r,_e)}},j.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_typeof(e)!==_typeof(this))return!1;var _e=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;_e++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&_e--;return _e===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(e){return e.toFixed(2)},z=function(e){return e.toFixed(5)};q.__acroform__={};var H=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},W=function(e){return e*D},V=function(e){var t=new ut,r=At.internal.getHeight(e)||0,_e=At.internal.getWidth(e)||0;return t.BBox=[0,0,Number(U(_e)),Number(U(r))],t},G=q.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Y=q.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},J=q.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},X=q.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(e,t-1)},K=q.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(e,t-1)},Z=q.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(e,t-1)},$=q.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,_e=t.internal.getVerticalCoordinate,Ae=e[0],Se=e[1],Ee=e[2],xe=e[3],Te={};return Te.lowerLeft_X=r(Ae)||0,Te.lowerLeft_Y=_e(Se+xe)||0,Te.upperRight_X=r(Ae+Ee)||0,Te.upperRight_Y=_e(Se)||0,[Number(U(Te.lowerLeft_X)),Number(U(Te.lowerLeft_Y)),Number(U(Te.upperRight_X)),Number(U(Te.upperRight_Y))]},Q=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,_e=tt(e,r),Ae=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+Ae+" "+U(_e.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(_e.text),t.push("ET"),t.push("Q"),t.push("EMC");var Se=V(e);return Se.scope=e.scope,Se.stream=t.join(`
`),Se}},tt=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,_e={text:"",fontSize:""},Ae=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");Ae=e.multiline?Ae.map(function(Ke){return Ke.split(`
`)}):Ae.map(function(Ke){return[Ke]});var Se=r,Ee=At.internal.getHeight(e)||0;Ee=Ee<0?-Ee:Ee;var xe=At.internal.getWidth(e)||0;xe=xe<0?-xe:xe;var Te=function(Ke,rn,Cn){if(Ke+1<Ae.length){var Sn=rn+" "+Ae[Ke+1][0];return et(Sn,e,Cn).width<=xe-4}return!1};Se++;e:for(;Se>0;){t="",Se--;var Ce,Re,Ue=et("3",e,Se).height,De=e.multiline?Ee-Se:(Ee-Ue)/2,ke=De+=2,Me=0,Oe=0,Be=0;if(Se<=0){t=`(...) Tj
`,t+="% Width of Text: "+et(t,e,Se=12).width+", FieldWidth:"+xe+`
`;break}for(var Ie="",qe=0,je=0;je<Ae.length;je++)if(Ae.hasOwnProperty(je)){var ze=!1;if(Ae[je].length!==1&&Be!==Ae[je].length-1){if((Ue+2)*(qe+2)+2>Ee)continue e;Ie+=Ae[je][Be],ze=!0,Oe=je,je--}else{Ie=(Ie+=Ae[je][Be]+" ").substr(Ie.length-1)==" "?Ie.substr(0,Ie.length-1):Ie;var Ve=parseInt(je),He=Te(Ve,Ie,Se),Qe=je>=Ae.length-1;if(He&&!Qe){Ie+=" ",Be=0;continue}if(He||Qe){if(Qe)Oe=Ve;else if(e.multiline&&(Ue+2)*(qe+2)+2>Ee)continue e}else{if(!e.multiline||(Ue+2)*(qe+2)+2>Ee)continue e;Oe=Ve}}for(var Je="",dn=Me;dn<=Oe;dn++){var an=Ae[dn];if(e.multiline){if(dn===Oe){Je+=an[Be]+" ",Be=(Be+1)%an.length;continue}if(dn===Me){Je+=an[an.length-1]+" ";continue}}Je+=an[0]+" "}switch(Je=Je.substr(Je.length-1)==" "?Je.substr(0,Je.length-1):Je,Re=et(Je,e,Se).width,e.textAlign){case"right":Ce=xe-Re-2;break;case"center":Ce=(xe-Re)/2;break;case"left":default:Ce=2}t+=U(Ce)+" "+U(ke)+` Td
`,t+="("+R(Je)+`) Tj
`,t+=-U(Ce)+` 0 Td
`,ke=-(Se+2),Re=0,Me=ze?Oe:Oe+1,qe++,Ie=""}break}return _e.text=t,_e.fontSize=Se,_e},et=function(e,t,r){var _e=t.scope.internal.getFont(t.fontName,t.fontStyle),Ae=t.scope.getStringUnitWidth(e,{font:_e,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:_e,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:Ae}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(_e){return _e.type===r.type&&_e.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},it=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var _e=r,Ae=e[r];t.internal.newObjectDeferredBegin(Ae.objId,!0),_typeof(Ae)==="object"&&typeof Ae.putStream=="function"&&Ae.putStream(),delete e[_e]}},at=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ht,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _e=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Ae in _e)if(_e.hasOwnProperty(Ae)){var Se=_e[Ae];Se.objId=void 0,Se.hasAnnotation&&nt(Se,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(_e,Ae){var Se=!_e;for(var Ee in _e||(Ae.internal.newObjectDeferredBegin(Ae.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Ae.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_e=_e||Ae.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_e.hasOwnProperty(Ee)){var xe=_e[Ee],Te=[],Ce=xe.Rect;if(xe.Rect&&(xe.Rect=$(xe.Rect,Ae)),Ae.internal.newObjectDeferredBegin(xe.objId,!0),xe.DA=At.createDefaultAppearanceStream(xe),_typeof(xe)==="object"&&typeof xe.getKeyValueListForStream=="function"&&(Te=xe.getKeyValueListForStream()),xe.Rect=Ce,xe.hasAppearanceStream&&!xe.appearanceStreamContent){var Re=Q(xe);Te.push({key:"AP",value:"<</N "+Re+">>"}),Ae.internal.acroformPlugin.xForms.push(Re)}if(xe.appearanceStreamContent){var Ue="";for(var De in xe.appearanceStreamContent)if(xe.appearanceStreamContent.hasOwnProperty(De)){var ke=xe.appearanceStreamContent[De];if(Ue+="/"+De+" ",Ue+="<<",Object.keys(ke).length>=1||Array.isArray(ke)){for(var Ee in ke)if(ke.hasOwnProperty(Ee)){var Me=ke[Ee];typeof Me=="function"&&(Me=Me.call(Ae,xe)),Ue+="/"+Ee+" "+Me+" ",Ae.internal.acroformPlugin.xForms.indexOf(Me)>=0||Ae.internal.acroformPlugin.xForms.push(Me)}}else typeof(Me=ke)=="function"&&(Me=Me.call(Ae,xe)),Ue+="/"+Ee+" "+Me,Ae.internal.acroformPlugin.xForms.indexOf(Me)>=0||Ae.internal.acroformPlugin.xForms.push(Me);Ue+=">>"}Te.push({key:"AP",value:`<<
`+Ue+">>"})}Ae.internal.putStream({additionalKeyValues:Te,objectId:xe.objId}),Ae.internal.out("endobj")}Se&&it(Ae.internal.acroformPlugin.xForms,Ae)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(e,t,r){var _e=function(Ee){return Ee};if(Array.isArray(e)){for(var Ae="[",Se=0;Se<e.length;Se++)switch(Se!==0&&(Ae+=" "),_typeof(e[Se])){case"boolean":case"number":case"object":Ae+=e[Se].toString();break;case"string":e[Se].substr(0,1)!=="/"?(t!==void 0&&r&&(_e=r.internal.getEncryptor(t)),Ae+="("+R(_e(e[Se].toString()))+")"):Ae+=e[Se].toString()}return Ae+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(e,t,r){var _e=function(Ae){return Ae};return t!==void 0&&r&&(_e=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+R(_e(e))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(Se){return Se!="content"&&Se!="appearanceStreamContent"&&Se!="scope"&&Se!="objId"&&Se.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var _e=t[r],Ae=this[_e];Ae&&(Array.isArray(Ae)?e.push({key:_e,value:ot(Ae,this.objId,this.scope)}):Ae instanceof ct?(Ae.scope=this.scope,e.push({key:_e,value:Ae.objId+" 0 R"})):typeof Ae!="function"&&e.push({key:_e,value:Ae}))}return e};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};H(ut,ct);var ht=function(){ct.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(_e){return _e};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+R(r(e))+")"}},set:function(r){e=r}})};H(ht,ct);var lt=function e(){ct.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Ie){if(isNaN(Ie))throw new Error('Invalid value "'+Ie+'" for attribute F supplied.');t=Ie}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(t,3))},set:function(Ie){Boolean(Ie)===!0?this.F=K(t,3):this.F=Z(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Ie){if(isNaN(Ie))throw new Error('Invalid value "'+Ie+'" for attribute Ff supplied.');r=Ie}});var _e=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(_e.length!==0)return _e},set:function(Ie){_e=Ie!==void 0?Ie:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[0])?0:_e[0]},set:function(Ie){_e[0]=Ie}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[1])?0:_e[1]},set:function(Ie){_e[1]=Ie}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[2])?0:_e[2]},set:function(Ie){_e[2]=Ie}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[3])?0:_e[3]},set:function(Ie){_e[3]=Ie}});var Ae="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Ae},set:function(Ie){switch(Ie){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Ae=Ie;break;default:throw new Error('Invalid value "'+Ie+'" for attribute FT supplied.')}}});var Se=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Se||Se.length<1){if(this instanceof yt)return;Se="FieldObject"+e.FieldNum++}var Ie=function(qe){return qe};return this.scope&&(Ie=this.scope.internal.getEncryptor(this.objId)),"("+R(Ie(Se))+")"},set:function(Ie){Se=Ie.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Se},set:function(Ie){Se=Ie}});var Ee="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(Ie){Ee=Ie}});var xe="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return xe},set:function(Ie){xe=Ie}});var Te=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Te},set:function(Ie){Te=Ie}});var Ce=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Ce===void 0?50/D:Ce},set:function(Ie){Ce=Ie}});var Re="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(Ie){Re=Ie}});var Ue="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ue||this instanceof yt||this instanceof Nt))return st(Ue,this.objId,this.scope)},set:function(Ie){Ie=Ie.toString(),Ue=Ie}});var De=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(De)return this instanceof mt?De:st(De,this.objId,this.scope)},set:function(Ie){Ie=Ie.toString(),De=this instanceof mt?Ie:Ie.substr(0,1)==="("?T(Ie.substr(1,Ie.length-2)):T(Ie)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(De.substr(1,De.length-1)):De},set:function(Ie){Ie=Ie.toString(),De=this instanceof mt?"/"+Ie:Ie}});var ke=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(ke)return ke},set:function(Ie){this.V=Ie}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(ke)return this instanceof mt?ke:st(ke,this.objId,this.scope)},set:function(Ie){Ie=Ie.toString(),ke=this instanceof mt?Ie:Ie.substr(0,1)==="("?T(Ie.substr(1,Ie.length-2)):T(Ie)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ke.substr(1,ke.length-1)):ke},set:function(Ie){Ie=Ie.toString(),ke=this instanceof mt?"/"+Ie:Ie}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Me,Oe=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Oe},set:function(Ie){Ie=Boolean(Ie),Oe=Ie}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Me)return Me},set:function(Ie){Me=Ie}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,1))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,2))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,3))},set:function(Ie){Boolean(Ie)===!0?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var Be=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Be!==null)return Be},set:function(Ie){if([0,1,2].indexOf(Ie)===-1)throw new Error('Invalid value "'+Ie+'" for attribute Q supplied.');Be=Ie}}),Object.defineProperty(this,"textAlign",{get:function(){var Ie;switch(Be){case 0:default:Ie="left";break;case 1:Ie="center";break;case 2:Ie="right"}return Ie},configurable:!0,enumerable:!0,set:function(Ie){switch(Ie){case"right":case 2:Be=2;break;case"center":case 1:Be=1;break;case"left":case 0:default:Be=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(t,this.objId,this.scope)},set:function(r){var _e,Ae;Ae=[],typeof(_e=r)=="string"&&(Ae=function(Se,Ee,xe){xe||(xe=1);for(var Te,Ce=[];Te=Ee.exec(Se);)Ce.push(Te[xe]);return Ce}(_e,/\((.*?)\)/g)),t=Ae}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,_e){for(_e=_e||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),_e!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,18))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,19))},set:function(r){this.combo===!0&&(Boolean(r)===!0?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,20))},set:function(r){Boolean(r)===!0?(this.Ff=K(this.Ff,20),t.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,22))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,27))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,15))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,16))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,17))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(Se){return Se};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var _e,Ae=[];for(_e in Ae.push("<<"),t)Ae.push("/"+_e+" ("+R(r(t[_e]))+")");return Ae.push(">>"),Ae.join(`
`)}},set:function(r){_typeof(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};H(bt,mt);var yt=function(){var e,t;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(Ae){e=Ae}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(Ae){t=Ae}});var r,_e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ae=function(xe){return xe};this.scope&&(Ae=this.scope.internal.getEncryptor(this.objId));var Se,Ee=[];for(Se in Ee.push("<<"),_e)Ee.push("/"+Se+" ("+R(Ae(_e[Se]))+")");return Ee.push(">>"),Ee.join(`
`)},set:function(Ae){_typeof(Ae)==="object"&&(_e=Ae)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _e.CA||""},set:function(Ae){typeof Ae=="string"&&(_e.CA=Ae)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Ae){r=Ae}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(Ae){r="/"+Ae}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},bt.prototype.createOption=function(e){var t=new yt;return t.Parent=this,t.optionName=e,this.Kids.push(t),xt.call(this.scope,t),t};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,13))},set:function(t){Boolean(t)===!0?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,21))},set:function(t){Boolean(t)===!0?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(t){Boolean(t)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,24))},set:function(t){Boolean(t)===!0?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,25))},set:function(t){Boolean(t)===!0?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(t){Boolean(t)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,14))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=V(e);t.scope=e.scope;var r=[],_e=e.scope.internal.getFont(e.fontName,e.fontStyle).id,Ae=e.scope.__private__.encodeColorString(e.color),Se=tt(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(e))+" "+U(At.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+_e+" "+U(Se.fontSize)+" Tf "+Ae),r.push("BT"),r.push(Se.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=V(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,_e=e.scope.__private__.encodeColorString(e.color),Ae=[],Se=At.internal.getHeight(e),Ee=At.internal.getWidth(e),xe=tt(e,e.caption);return Ae.push("1 g"),Ae.push("0 0 "+U(Ee)+" "+U(Se)+" re"),Ae.push("f"),Ae.push("q"),Ae.push("0 0 1 rg"),Ae.push("0 0 "+U(Ee-1)+" "+U(Se-1)+" re"),Ae.push("W"),Ae.push("n"),Ae.push("0 g"),Ae.push("BT"),Ae.push("/"+r+" "+U(xe.fontSize)+" Tf "+_e),Ae.push(xe.text),Ae.push("ET"),Ae.push("Q"),t.stream=Ae.join(`
`),t},OffPushDown:function(e){var t=V(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(e))+" "+U(At.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Circle.YesNormal,t.D[e]=At.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=V(e);t.scope=e.scope;var r=[],_e=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;_e=Number((.9*_e).toFixed(5));var Ae=At.internal.Bezier_C,Se=Number((_e*Ae).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(e)/2)+" "+z(At.internal.getHeight(e)/2)+" cm"),r.push(_e+" 0 m"),r.push(_e+" "+Se+" "+Se+" "+_e+" 0 "+_e+" c"),r.push("-"+Se+" "+_e+" -"+_e+" "+Se+" -"+_e+" 0 c"),r.push("-"+_e+" -"+Se+" -"+Se+" -"+_e+" 0 -"+_e+" c"),r.push(Se+" -"+_e+" "+_e+" -"+Se+" "+_e+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=V(e);t.scope=e.scope;var r=[],_e=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;_e=Number((.9*_e).toFixed(5));var Ae=Number((2*_e).toFixed(5)),Se=Number((Ae*At.internal.Bezier_C).toFixed(5)),Ee=Number((_e*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(e)/2)+" "+z(At.internal.getHeight(e)/2)+" cm"),r.push(Ae+" 0 m"),r.push(Ae+" "+Se+" "+Se+" "+Ae+" 0 "+Ae+" c"),r.push("-"+Se+" "+Ae+" -"+Ae+" "+Se+" -"+Ae+" 0 c"),r.push("-"+Ae+" -"+Se+" -"+Se+" -"+Ae+" 0 -"+Ae+" c"),r.push(Se+" -"+Ae+" "+Ae+" -"+Se+" "+Ae+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(e)/2)+" "+z(At.internal.getHeight(e)/2)+" cm"),r.push(_e+" 0 m"),r.push(_e+" "+Ee+" "+Ee+" "+_e+" 0 "+_e+" c"),r.push("-"+Ee+" "+_e+" -"+_e+" "+Ee+" -"+_e+" 0 c"),r.push("-"+_e+" -"+Ee+" -"+Ee+" -"+_e+" 0 -"+_e+" c"),r.push(Ee+" -"+_e+" "+_e+" -"+Ee+" "+_e+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=V(e);t.scope=e.scope;var r=[],_e=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;_e=Number((.9*_e).toFixed(5));var Ae=Number((2*_e).toFixed(5)),Se=Number((Ae*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(e)/2)+" "+z(At.internal.getHeight(e)/2)+" cm"),r.push(Ae+" 0 m"),r.push(Ae+" "+Se+" "+Se+" "+Ae+" 0 "+Ae+" c"),r.push("-"+Se+" "+Ae+" -"+Ae+" "+Se+" -"+Ae+" 0 c"),r.push("-"+Ae+" -"+Se+" -"+Se+" -"+Ae+" 0 -"+Ae+" c"),r.push(Se+" -"+Ae+" "+Ae+" -"+Se+" "+Ae+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Cross.YesNormal,t.D[e]=At.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=V(e);t.scope=e.scope;var r=[],_e=At.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+U(At.internal.getWidth(e)-2)+" "+U(At.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(U(_e.x1.x)+" "+U(_e.x1.y)+" m"),r.push(U(_e.x2.x)+" "+U(_e.x2.y)+" l"),r.push(U(_e.x4.x)+" "+U(_e.x4.y)+" m"),r.push(U(_e.x3.x)+" "+U(_e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=V(e);t.scope=e.scope;var r=At.internal.calculateCross(e),_e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U(At.internal.getWidth(e))+" "+U(At.internal.getHeight(e))+" re"),_e.push("f"),_e.push("q"),_e.push("1 1 "+U(At.internal.getWidth(e)-2)+" "+U(At.internal.getHeight(e)-2)+" re"),_e.push("W"),_e.push("n"),_e.push(U(r.x1.x)+" "+U(r.x1.y)+" m"),_e.push(U(r.x2.x)+" "+U(r.x2.y)+" l"),_e.push(U(r.x4.x)+" "+U(r.x4.y)+" m"),_e.push(U(r.x3.x)+" "+U(r.x3.y)+" l"),_e.push("s"),_e.push("Q"),t.stream=_e.join(`
`),t},OffPushDown:function(e){var t=V(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(e))+" "+U(At.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=At.internal.getWidth(e),r=At.internal.getHeight(e),_e=Math.min(t,r);return{x1:{x:(t-_e)/2,y:(r-_e)/2+_e},x2:{x:(t-_e)/2+_e,y:(r-_e)/2},x3:{x:(t-_e)/2,y:(r-_e)/2},x4:{x:(t-_e)/2+_e,y:(r-_e)/2+_e}}}},At.internal.getWidth=function(e){var t=0;return _typeof(e)==="object"&&(t=W(e.Rect[2])),t},At.internal.getHeight=function(e){var t=0;return _typeof(e)==="object"&&(t=W(e.Rect[3])),t};var xt=q.addField=function(e){if(at(this,e),!(e instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(e){return e.reduce(function(t,r,_e){return t[r]=_e,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},_e=e.__addimage__.getImageFileTypeByImageData=function(Ke,rn){var Cn,Sn,fn,gn,vn,pn=t;if((rn=rn||t)==="RGBA"||Ke.data!==void 0&&Ke.data instanceof Uint8ClampedArray&&"height"in Ke&&"width"in Ke)return"RGBA";if(He(Ke))for(vn in r)for(fn=r[vn],Cn=0;Cn<fn.length;Cn+=1){for(gn=!0,Sn=0;Sn<fn[Cn].length;Sn+=1)if(fn[Cn][Sn]!==void 0&&fn[Cn][Sn]!==Ke[Sn]){gn=!1;break}if(gn===!0){pn=vn;break}}else for(vn in r)for(fn=r[vn],Cn=0;Cn<fn.length;Cn+=1){for(gn=!0,Sn=0;Sn<fn[Cn].length;Sn+=1)if(fn[Cn][Sn]!==void 0&&fn[Cn][Sn]!==Ke.charCodeAt(Sn)){gn=!1;break}if(gn===!0){pn=vn;break}}return pn===t&&rn!==t&&(pn=rn),pn},Ae=function Ke(rn){for(var Cn=this.internal.write,Sn=this.internal.putStream,fn=(0,this.internal.getFilters)();fn.indexOf("FlateEncode")!==-1;)fn.splice(fn.indexOf("FlateEncode"),1);rn.objectId=this.internal.newObject();var gn=[];if(gn.push({key:"Type",value:"/XObject"}),gn.push({key:"Subtype",value:"/Image"}),gn.push({key:"Width",value:rn.width}),gn.push({key:"Height",value:rn.height}),rn.colorSpace===Be.INDEXED?gn.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(rn.palette.length/3-1)+" "+("sMask"in rn&&rn.sMask!==void 0?rn.objectId+2:rn.objectId+1)+" 0 R]"}):(gn.push({key:"ColorSpace",value:"/"+rn.colorSpace}),rn.colorSpace===Be.DEVICE_CMYK&&gn.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),gn.push({key:"BitsPerComponent",value:rn.bitsPerComponent}),"decodeParameters"in rn&&rn.decodeParameters!==void 0&&gn.push({key:"DecodeParms",value:"<<"+rn.decodeParameters+">>"}),"transparency"in rn&&Array.isArray(rn.transparency)){for(var vn="",pn=0,On=rn.transparency.length;pn<On;pn++)vn+=rn.transparency[pn]+" "+rn.transparency[pn]+" ";gn.push({key:"Mask",value:"["+vn+"]"})}rn.sMask!==void 0&&gn.push({key:"SMask",value:rn.objectId+1+" 0 R"});var Hn=rn.filter!==void 0?["/"+rn.filter]:void 0;if(Sn({data:rn.data,additionalKeyValues:gn,alreadyAppliedFilters:Hn,objectId:rn.objectId}),Cn("endobj"),"sMask"in rn&&rn.sMask!==void 0){var Bn="/Predictor "+rn.predictor+" /Colors 1 /BitsPerComponent "+rn.bitsPerComponent+" /Columns "+rn.width,Ze={width:rn.width,height:rn.height,colorSpace:"DeviceGray",bitsPerComponent:rn.bitsPerComponent,decodeParameters:Bn,data:rn.sMask};"filter"in rn&&(Ze.filter=rn.filter),Ke.call(this,Ze)}if(rn.colorSpace===Be.INDEXED){var Xe=this.internal.newObject();Sn({data:Je(new Uint8Array(rn.palette)),objectId:Xe}),Cn("endobj")}},Se=function(){var Ke=this.internal.collections.addImage_images;for(var rn in Ke)Ae.call(this,Ke[rn])},Ee=function(){var Ke,rn=this.internal.collections.addImage_images,Cn=this.internal.write;for(var Sn in rn)Cn("/I"+(Ke=rn[Sn]).index,Ke.objectId,"0","R")},xe=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Se),this.internal.events.subscribe("putXobjectDict",Ee))},Te=function(){var Ke=this.internal.collections.addImage_images;return xe.call(this),Ke},Ce=function(){return Object.keys(this.internal.collections.addImage_images).length},Re=function(Ke){return typeof e["process"+Ke.toUpperCase()]=="function"},Ue=function(Ke){return _typeof(Ke)==="object"&&Ke.nodeType===1},De=function(Ke,rn){if(Ke.nodeName==="IMG"&&Ke.hasAttribute("src")){var Cn=""+Ke.getAttribute("src");if(Cn.indexOf("data:image/")===0)return u(unescape(Cn).split("base64,").pop());var Sn=e.loadFile(Cn,!0);if(Sn!==void 0)return Sn}if(Ke.nodeName==="CANVAS"){if(Ke.width===0||Ke.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ke.width+", height: "+Ke.height);var fn;switch(rn){case"PNG":fn="image/png";break;case"WEBP":fn="image/webp";break;case"JPEG":case"JPG":default:fn="image/jpeg"}return u(Ke.toDataURL(fn,1).split("base64,").pop())}},ke=function(Ke){var rn=this.internal.collections.addImage_images;if(rn){for(var Cn in rn)if(Ke===rn[Cn].alias)return rn[Cn]}},Me=function(Ke,rn,Cn){return Ke||rn||(Ke=-96,rn=-96),Ke<0&&(Ke=-1*Cn.width*72/Ke/this.internal.scaleFactor),rn<0&&(rn=-1*Cn.height*72/rn/this.internal.scaleFactor),Ke===0&&(Ke=rn*Cn.width/Cn.height),rn===0&&(rn=Ke*Cn.height/Cn.width),[Ke,rn]},Oe=function(Ke,rn,Cn,Sn,fn,gn){var vn=Me.call(this,Cn,Sn,fn),pn=this.internal.getCoordinateString,On=this.internal.getVerticalCoordinateString,Hn=Te.call(this);if(Cn=vn[0],Sn=vn[1],Hn[fn.index]=fn,gn){gn*=Math.PI/180;var Bn=Math.cos(gn),Ze=Math.sin(gn),Xe=function(en){return en.toFixed(4)},Ye=[Xe(Bn),Xe(Ze),Xe(-1*Ze),Xe(Bn),0,0,"cm"]}this.internal.write("q"),gn?(this.internal.write([1,"0","0",1,pn(Ke),On(rn+Sn),"cm"].join(" ")),this.internal.write(Ye.join(" ")),this.internal.write([pn(Cn),"0","0",pn(Sn),"0","0","cm"].join(" "))):this.internal.write([pn(Cn),"0","0",pn(Sn),pn(Ke),On(rn+Sn),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fn.index+" Do"),this.internal.write("Q")},Be=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ie=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},qe=e.__addimage__.sHashCode=function(Ke){var rn,Cn,Sn=0;if(typeof Ke=="string")for(Cn=Ke.length,rn=0;rn<Cn;rn++)Sn=(Sn<<5)-Sn+Ke.charCodeAt(rn),Sn|=0;else if(He(Ke))for(Cn=Ke.byteLength/2,rn=0;rn<Cn;rn++)Sn=(Sn<<5)-Sn+Ke[rn],Sn|=0;return Sn},je=e.__addimage__.validateStringAsBase64=function(Ke){(Ke=Ke||"").toString().trim();var rn=!0;return Ke.length===0&&(rn=!1),Ke.length%4!=0&&(rn=!1),/^[A-Za-z0-9+/]+$/.test(Ke.substr(0,Ke.length-2))===!1&&(rn=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ke.substr(-2))===!1&&(rn=!1),rn},ze=e.__addimage__.extractImageFromDataUrl=function(Ke){var rn=(Ke=Ke||"").split("base64,"),Cn=null;if(rn.length===2){var Sn=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(rn[0]);Array.isArray(Sn)&&(Cn={mimeType:Sn[1],charset:Sn[2],data:rn[1]})}return Cn},Ve=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(Ke){return Ve()&&Ke instanceof ArrayBuffer};var He=e.__addimage__.isArrayBufferView=function(Ke){return Ve()&&typeof Uint32Array<"u"&&(Ke instanceof Int8Array||Ke instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ke instanceof Uint8ClampedArray||Ke instanceof Int16Array||Ke instanceof Uint16Array||Ke instanceof Int32Array||Ke instanceof Uint32Array||Ke instanceof Float32Array||Ke instanceof Float64Array)},Qe=e.__addimage__.binaryStringToUint8Array=function(Ke){for(var rn=Ke.length,Cn=new Uint8Array(rn),Sn=0;Sn<rn;Sn++)Cn[Sn]=Ke.charCodeAt(Sn);return Cn},Je=e.__addimage__.arrayBufferToBinaryString=function(Ke){for(var rn="",Cn=He(Ke)?Ke:new Uint8Array(Ke),Sn=0;Sn<Cn.length;Sn+=8192)rn+=String.fromCharCode.apply(null,Cn.subarray(Sn,Sn+8192));return rn};e.addImage=function(){var Ke,rn,Cn,Sn,fn,gn,vn,pn,On;if(typeof arguments[1]=="number"?(rn=t,Cn=arguments[1],Sn=arguments[2],fn=arguments[3],gn=arguments[4],vn=arguments[5],pn=arguments[6],On=arguments[7]):(rn=arguments[1],Cn=arguments[2],Sn=arguments[3],fn=arguments[4],gn=arguments[5],vn=arguments[6],pn=arguments[7],On=arguments[8]),_typeof(Ke=arguments[0])==="object"&&!Ue(Ke)&&"imageData"in Ke){var Hn=Ke;Ke=Hn.imageData,rn=Hn.format||rn||t,Cn=Hn.x||Cn||0,Sn=Hn.y||Sn||0,fn=Hn.w||Hn.width||fn,gn=Hn.h||Hn.height||gn,vn=Hn.alias||vn,pn=Hn.compression||pn,On=Hn.rotation||Hn.angle||On}var Bn=this.internal.getFilters();if(pn===void 0&&Bn.indexOf("FlateEncode")!==-1&&(pn="SLOW"),isNaN(Cn)||isNaN(Sn))throw new Error("Invalid coordinates passed to jsPDF.addImage");xe.call(this);var Ze=dn.call(this,Ke,rn,vn,pn);return Oe.call(this,Cn,Sn,fn,gn,Ze,On),this};var dn=function(Ke,rn,Cn,Sn){var fn,gn,vn;if(typeof Ke=="string"&&_e(Ke)===t){Ke=unescape(Ke);var pn=an(Ke,!1);(pn!==""||(pn=e.loadFile(Ke,!0))!==void 0)&&(Ke=pn)}if(Ue(Ke)&&(Ke=De(Ke,rn)),rn=_e(Ke,rn),!Re(rn))throw new Error("addImage does not support files of type '"+rn+"', please ensure that a plugin for '"+rn+"' support is added.");if(((vn=Cn)==null||vn.length===0)&&(Cn=function(On){return typeof On=="string"||He(On)?qe(On):He(On.data)?qe(On.data):null}(Ke)),(fn=ke.call(this,Cn))||(Ve()&&(Ke instanceof Uint8Array||rn==="RGBA"||(gn=Ke,Ke=Qe(Ke))),fn=this["process"+rn.toUpperCase()](Ke,Ce.call(this),Cn,function(On){return On&&typeof On=="string"&&(On=On.toUpperCase()),On in e.image_compression?On:Ie.NONE}(Sn),gn)),!fn)throw new Error("An unknown error occurred whilst processing the image.");return fn},an=e.__addimage__.convertBase64ToBinaryString=function(Ke,rn){var Cn;rn=typeof rn!="boolean"||rn;var Sn,fn="";if(typeof Ke=="string"){Sn=(Cn=ze(Ke))!==null?Cn.data:Ke;try{fn=u(Sn)}catch(gn){if(rn)throw je(Sn)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+gn.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fn};e.getImageProperties=function(Ke){var rn,Cn,Sn="";if(Ue(Ke)&&(Ke=De(Ke)),typeof Ke=="string"&&_e(Ke)===t&&((Sn=an(Ke,!1))===""&&(Sn=e.loadFile(Ke)||""),Ke=Sn),Cn=_e(Ke),!Re(Cn))throw new Error("addImage does not support files of type '"+Cn+"', please ensure that a plugin for '"+Cn+"' support is added.");if(!Ve()||Ke instanceof Uint8Array||(Ke=Qe(Ke)),!(rn=this["process"+Cn.toUpperCase()](Ke)))throw new Error("An unknown error occurred whilst processing the image");return rn.fileType=Cn,rn}})(E.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};E.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var _e,Ae,Se,Ee=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Te=this.internal.getPageInfoByObjId(r.objId),Ce=r.pageContext.annotations,Re=!1,Ue=0;Ue<Ce.length&&!Re;Ue++)switch((_e=Ce[Ue]).type){case"link":(t(_e.options.url)||t(_e.options.pageNumber))&&(Re=!0);break;case"reference":case"text":case"freetext":Re=!0}if(Re!=0){this.internal.write("/Annots [");for(var De=0;De<Ce.length;De++){_e=Ce[De];var ke=this.internal.pdfEscape,Me=this.internal.getEncryptor(r.objId);switch(_e.type){case"reference":this.internal.write(" "+_e.object.objId+" 0 R ");break;case"text":var Oe=this.internal.newAdditionalObject(),Be=this.internal.newAdditionalObject(),Ie=this.internal.getEncryptor(Oe.objId),qe=_e.title||"Note";Se="<</Type /Annot /Subtype /Text "+(Ae="/Rect ["+Ee(_e.bounds.x)+" "+xe(_e.bounds.y+_e.bounds.h)+" "+Ee(_e.bounds.x+_e.bounds.w)+" "+xe(_e.bounds.y)+"] ")+"/Contents ("+ke(Ie(_e.contents))+")",Se+=" /Popup "+Be.objId+" 0 R",Se+=" /P "+Te.objId+" 0 R",Se+=" /T ("+ke(Ie(qe))+") >>",Oe.content=Se;var je=Oe.objId+" 0 R";Se="<</Type /Annot /Subtype /Popup "+(Ae="/Rect ["+Ee(_e.bounds.x+30)+" "+xe(_e.bounds.y+_e.bounds.h)+" "+Ee(_e.bounds.x+_e.bounds.w+30)+" "+xe(_e.bounds.y)+"] ")+" /Parent "+je,_e.open&&(Se+=" /Open true"),Se+=" >>",Be.content=Se,this.internal.write(Oe.objId,"0 R",Be.objId,"0 R");break;case"freetext":Ae="/Rect ["+Ee(_e.bounds.x)+" "+xe(_e.bounds.y)+" "+Ee(_e.bounds.x+_e.bounds.w)+" "+xe(_e.bounds.y+_e.bounds.h)+"] ";var ze=_e.color||"#000000";Se="<</Type /Annot /Subtype /FreeText "+Ae+"/Contents ("+ke(Me(_e.contents))+")",Se+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ze+")",Se+=" /Border [0 0 0]",Se+=" >>",this.internal.write(Se);break;case"link":if(_e.options.name){var Ve=this.annotations._nameMap[_e.options.name];_e.options.pageNumber=Ve.page,_e.options.top=Ve.y}else _e.options.top||(_e.options.top=0);if(Ae="/Rect ["+_e.finalBounds.x+" "+_e.finalBounds.y+" "+_e.finalBounds.w+" "+_e.finalBounds.h+"] ",Se="",_e.options.url)Se="<</Type /Annot /Subtype /Link "+Ae+"/Border [0 0 0] /A <</S /URI /URI ("+ke(Me(_e.options.url))+") >>";else if(_e.options.pageNumber)switch(Se="<</Type /Annot /Subtype /Link "+Ae+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(_e.options.pageNumber).objId+" 0 R",_e.options.magFactor=_e.options.magFactor||"XYZ",_e.options.magFactor){case"Fit":Se+=" /Fit]";break;case"FitH":Se+=" /FitH "+_e.options.top+"]";break;case"FitV":_e.options.left=_e.options.left||0,Se+=" /FitV "+_e.options.left+"]";break;case"XYZ":default:var He=xe(_e.options.top);_e.options.left=_e.options.left||0,_e.options.zoom===void 0&&(_e.options.zoom=0),Se+=" /XYZ "+_e.options.left+" "+He+" "+_e.options.zoom+"]"}Se!=""&&(Se+=" >>",this.internal.write(Se))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var _e=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":_e.pageContext.annotations.push(r)}},e.link=function(r,_e,Ae,Se,Ee){var xe=this.internal.getCurrentPageInfo(),Te=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString;xe.pageContext.annotations.push({finalBounds:{x:Te(r),y:Ce(_e),w:Te(r+Ae),h:Ce(_e+Se)},options:Ee,type:"link"})},e.textWithLink=function(r,_e,Ae,Se){var Ee,xe,Te=this.getTextWidth(r),Ce=this.internal.getLineHeight()/this.internal.scaleFactor;if(Se.maxWidth!==void 0){xe=Se.maxWidth;var Re=this.splitTextToSize(r,xe).length;Ee=Math.ceil(Ce*Re)}else xe=Te,Ee=Ce;return this.text(r,_e,Ae,Se),Ae+=.2*Ce,Se.align==="center"&&(_e-=Te/2),Se.align==="right"&&(_e-=Te),this.link(_e,Ae-Ce,xe,Ee,Se),Te},e.getTextWidth=function(r){var _e=this.internal.getFontSize();return this.getStringUnitWidth(r)*_e/this.internal.scaleFactor}}(E.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},_e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Ae=[1570,1571,1573,1575];e.__arabicParser__={};var Se=e.__arabicParser__.isInArabicSubstitutionA=function(Oe){return t[Oe.charCodeAt(0)]!==void 0},Ee=e.__arabicParser__.isArabicLetter=function(Oe){return typeof Oe=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Oe)},xe=e.__arabicParser__.isArabicEndLetter=function(Oe){return Ee(Oe)&&Se(Oe)&&t[Oe.charCodeAt(0)].length<=2},Te=e.__arabicParser__.isArabicAlfLetter=function(Oe){return Ee(Oe)&&Ae.indexOf(Oe.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(Oe){return Ee(Oe)&&Se(Oe)&&t[Oe.charCodeAt(0)].length>=1};var Ce=e.__arabicParser__.arabicLetterHasFinalForm=function(Oe){return Ee(Oe)&&Se(Oe)&&t[Oe.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(Oe){return Ee(Oe)&&Se(Oe)&&t[Oe.charCodeAt(0)].length>=3};var Re=e.__arabicParser__.arabicLetterHasMedialForm=function(Oe){return Ee(Oe)&&Se(Oe)&&t[Oe.charCodeAt(0)].length==4},Ue=e.__arabicParser__.resolveLigatures=function(Oe){var Be=0,Ie=r,qe="",je=0;for(Be=0;Be<Oe.length;Be+=1)Ie[Oe.charCodeAt(Be)]!==void 0?(je++,typeof(Ie=Ie[Oe.charCodeAt(Be)])=="number"&&(qe+=String.fromCharCode(Ie),Ie=r,je=0),Be===Oe.length-1&&(Ie=r,qe+=Oe.charAt(Be-(je-1)),Be-=je-1,je=0)):(Ie=r,qe+=Oe.charAt(Be-je),Be-=je,je=0);return qe};e.__arabicParser__.isArabicDiacritic=function(Oe){return Oe!==void 0&&_e[Oe.charCodeAt(0)]!==void 0};var De=e.__arabicParser__.getCorrectForm=function(Oe,Be,Ie){return Ee(Oe)?Se(Oe)===!1?-1:!Ce(Oe)||!Ee(Be)&&!Ee(Ie)||!Ee(Ie)&&xe(Be)||xe(Oe)&&!Ee(Be)||xe(Oe)&&Te(Be)||xe(Oe)&&xe(Be)?0:Re(Oe)&&Ee(Be)&&!xe(Be)&&Ee(Ie)&&Ce(Ie)?3:xe(Oe)||!Ee(Ie)?1:2:-1},ke=function(Oe){var Be=0,Ie=0,qe=0,je="",ze="",Ve="",He=(Oe=Oe||"").split("\\s+"),Qe=[];for(Be=0;Be<He.length;Be+=1){for(Qe.push(""),Ie=0;Ie<He[Be].length;Ie+=1)je=He[Be][Ie],ze=He[Be][Ie-1],Ve=He[Be][Ie+1],Ee(je)?(qe=De(je,ze,Ve),Qe[Be]+=qe!==-1?String.fromCharCode(t[je.charCodeAt(0)][qe]):je):Qe[Be]+=je;Qe[Be]=Ue(Qe[Be])}return Qe.join(" ")},Me=e.__arabicParser__.processArabic=e.processArabic=function(){var Oe,Be=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ie=[];if(Array.isArray(Be)){var qe=0;for(Ie=[],qe=0;qe<Be.length;qe+=1)Array.isArray(Be[qe])?Ie.push([ke(Be[qe][0]),Be[qe][1],Be[qe][2]]):Ie.push([ke(Be[qe])]);Oe=Ie}else Oe=ke(Be);return typeof arguments[0]=="string"?Oe:(arguments[0].text=Oe,arguments[0])};e.events.push(["preProcessText",Me])}(E.API),E.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(xe){r=xe}});var _e=150;Object.defineProperty(this,"width",{get:function(){return _e},set:function(xe){_e=isNaN(xe)||Number.isInteger(xe)===!1||xe<0?150:xe,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_e+1)}});var Ae=300;Object.defineProperty(this,"height",{get:function(){return Ae},set:function(xe){Ae=isNaN(xe)||Number.isInteger(xe)===!1||xe<0?300:xe,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Ae+1)}});var Se=[];Object.defineProperty(this,"childNodes",{get:function(){return Se},set:function(xe){Se=xe}});var Ee={};Object.defineProperty(this,"style",{get:function(){return Ee},set:function(xe){Ee=xe}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,_e){var Ae;if((r=r||"2d")!=="2d")return null;for(Ae in _e)this.pdf.context2d.hasOwnProperty(Ae)&&(this.pdf.context2d[Ae]=_e[Ae]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(E.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,_e=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),Ae.call(this))},Ae=function(){this.internal.__cell__.lastCell=new Se,this.internal.__cell__.pages=1},Se=function(){var Te=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(Oe){Te=Oe}});var Ce=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Oe){Ce=Oe}});var Re=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Re},set:function(Oe){Re=Oe}});var Ue=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ue},set:function(Oe){Ue=Oe}});var De=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return De},set:function(Oe){De=Oe}});var ke=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return ke},set:function(Oe){ke=Oe}});var Me=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Me},set:function(Oe){Me=Oe}}),this};Se.prototype.clone=function(){return new Se(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Se.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(Te){return _e.call(this),this.internal.__cell__.headerFunction=typeof Te=="function"?Te:void 0,this},e.getTextDimensions=function(Te,Ce){_e.call(this);var Re=(Ce=Ce||{}).fontSize||this.getFontSize(),Ue=Ce.font||this.getFont(),De=Ce.scaleFactor||this.internal.scaleFactor,ke=0,Me=0,Oe=0,Be=this;if(!Array.isArray(Te)&&typeof Te!="string"){if(typeof Te!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Te=String(Te)}var Ie=Ce.maxWidth;Ie>0?typeof Te=="string"?Te=this.splitTextToSize(Te,Ie):Object.prototype.toString.call(Te)==="[object Array]"&&(Te=Te.reduce(function(je,ze){return je.concat(Be.splitTextToSize(ze,Ie))},[])):Te=Array.isArray(Te)?Te:[Te];for(var qe=0;qe<Te.length;qe++)ke<(Oe=this.getStringUnitWidth(Te[qe],{font:Ue})*Re)&&(ke=Oe);return ke!==0&&(Me=Te.length),{w:ke/=De,h:Math.max((Me*Re*this.getLineHeightFactor()-Re*(this.getLineHeightFactor()-1))/De,0)}},e.cellAddPage=function(){_e.call(this),this.addPage();var Te=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new Se(Te.left,Te.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ee=e.cell=function(){var Te;Te=arguments[0]instanceof Se?arguments[0]:new Se(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),_e.call(this);var Ce=this.internal.__cell__.lastCell,Re=this.internal.__cell__.padding,Ue=this.internal.__cell__.margins||t,De=this.internal.__cell__.tableHeaderRow,ke=this.internal.__cell__.printHeaders;return Ce.lineNumber!==void 0&&(Ce.lineNumber===Te.lineNumber?(Te.x=(Ce.x||0)+(Ce.width||0),Te.y=Ce.y||0):Ce.y+Ce.height+Te.height+Ue.bottom>this.getPageHeight()?(this.cellAddPage(),Te.y=Ue.top,ke&&De&&(this.printHeaderRow(Te.lineNumber,!0),Te.y+=De[0].height)):Te.y=Ce.y+Ce.height||Te.y),Te.text[0]!==void 0&&(this.rect(Te.x,Te.y,Te.width,Te.height,r===!0?"FD":void 0),Te.align==="right"?this.text(Te.text,Te.x+Te.width-Re,Te.y+Re,{align:"right",baseline:"top"}):Te.align==="center"?this.text(Te.text,Te.x+Te.width/2,Te.y+Re,{align:"center",baseline:"top",maxWidth:Te.width-Re-Re}):this.text(Te.text,Te.x+Re,Te.y+Re,{align:"left",baseline:"top",maxWidth:Te.width-Re-Re})),this.internal.__cell__.lastCell=Te,this};e.table=function(Te,Ce,Re,Ue,De){if(_e.call(this),!Re)throw new Error("No data for PDF table.");var ke,Me,Oe,Be,Ie=[],qe=[],je=[],ze={},Ve={},He=[],Qe=[],Je=(De=De||{}).autoSize||!1,dn=De.printHeaders!==!1,an=De.css&&De.css["font-size"]!==void 0?16*De.css["font-size"]:De.fontSize||12,Ke=De.margins||Object.assign({width:this.getPageWidth()},t),rn=typeof De.padding=="number"?De.padding:3,Cn=De.headerBackgroundColor||"#c8c8c8",Sn=De.headerTextColor||"#000";if(Ae.call(this),this.internal.__cell__.printHeaders=dn,this.internal.__cell__.margins=Ke,this.internal.__cell__.table_font_size=an,this.internal.__cell__.padding=rn,this.internal.__cell__.headerBackgroundColor=Cn,this.internal.__cell__.headerTextColor=Sn,this.setFontSize(an),Ue==null)qe=Ie=Object.keys(Re[0]),je=Ie.map(function(){return"left"});else if(Array.isArray(Ue)&&_typeof(Ue[0])==="object")for(Ie=Ue.map(function(Hn){return Hn.name}),qe=Ue.map(function(Hn){return Hn.prompt||Hn.name||""}),je=Ue.map(function(Hn){return Hn.align||"left"}),ke=0;ke<Ue.length;ke+=1)Ve[Ue[ke].name]=Ue[ke].width*(19.049976/25.4);else Array.isArray(Ue)&&typeof Ue[0]=="string"&&(qe=Ie=Ue,je=Ie.map(function(){return"left"}));if(Je||Array.isArray(Ue)&&typeof Ue[0]=="string")for(ke=0;ke<Ie.length;ke+=1){for(ze[Be=Ie[ke]]=Re.map(function(Hn){return Hn[Be]}),this.setFont(void 0,"bold"),He.push(this.getTextDimensions(qe[ke],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Me=ze[Be],this.setFont(void 0,"normal"),Oe=0;Oe<Me.length;Oe+=1)He.push(this.getTextDimensions(Me[Oe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ve[Be]=Math.max.apply(null,He)+rn+rn,He=[]}if(dn){var fn={};for(ke=0;ke<Ie.length;ke+=1)fn[Ie[ke]]={},fn[Ie[ke]].text=qe[ke],fn[Ie[ke]].align=je[ke];var gn=xe.call(this,fn,Ve);Qe=Ie.map(function(Hn){return new Se(Te,Ce,Ve[Hn],gn,fn[Hn].text,void 0,fn[Hn].align)}),this.setTableHeaderRow(Qe),this.printHeaderRow(1,!1)}var vn=Ue.reduce(function(Hn,Bn){return Hn[Bn.name]=Bn.align,Hn},{});for(ke=0;ke<Re.length;ke+=1){"rowStart"in De&&De.rowStart instanceof Function&&De.rowStart({row:ke,data:Re[ke]},this);var pn=xe.call(this,Re[ke],Ve);for(Oe=0;Oe<Ie.length;Oe+=1){var On=Re[ke][Ie[Oe]];"cellStart"in De&&De.cellStart instanceof Function&&De.cellStart({row:ke,col:Oe,data:On},this),Ee.call(this,new Se(Te,Ce,Ve[Ie[Oe]],pn,On,ke+2,vn[Ie[Oe]]))}}return this.internal.__cell__.table_x=Te,this.internal.__cell__.table_y=Ce,this};var xe=function(Te,Ce){var Re=this.internal.__cell__.padding,Ue=this.internal.__cell__.table_font_size,De=this.internal.scaleFactor;return Object.keys(Te).map(function(ke){var Me=Te[ke];return this.splitTextToSize(Me.hasOwnProperty("text")?Me.text:Me,Ce[ke]-Re-Re)},this).map(function(ke){return this.getLineHeightFactor()*ke.length*Ue/De+Re+Re},this).reduce(function(ke,Me){return Math.max(ke,Me)},0)};e.setTableHeaderRow=function(Te){_e.call(this),this.internal.__cell__.tableHeaderRow=Te},e.printHeaderRow=function(Te,Ce){if(_e.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Re;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ue=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Se(Ue[0],Ue[1],Ue[2],Ue[3],void 0,-1)}this.setFont(void 0,"bold");for(var De=[],ke=0;ke<this.internal.__cell__.tableHeaderRow.length;ke+=1){Re=this.internal.__cell__.tableHeaderRow[ke].clone(),Ce&&(Re.y=this.internal.__cell__.margins.top||0,De.push(Re)),Re.lineNumber=Te;var Me=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ee.call(this,Re),this.setTextColor(Me)}De.length>0&&this.setTableHeaderRow(De),this.setFont(void 0,"normal"),r=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(Se){return Pt[Se=Se||"normal"]?Se:"normal"}(e.style),_e=function(Se){if(!Se)return 400;if(typeof Se=="number")return Se>=100&&Se<=900&&Se%100==0?Se:400;if(/^\d00$/.test(Se))return parseInt(Se);switch(Se){case"bold":return 700;case"normal":default:return 400}}(e.weight),Ae=function(Se){return typeof It[Se=Se||"normal"]=="number"?Se:"normal"}(e.stretch);return{family:t,style:r,weight:_e,stretch:Ae,src:e.src||[],ref:e.ref||{name:t,style:[Ae,r,_e].join(" ")}}}function Ot(e,t,r,_e){var Ae;for(Ae=r;Ae>=0&&Ae<t.length;Ae+=_e)if(e[t[Ae]])return e[t[Ae]];for(Ae=r;Ae>=0&&Ae<t.length;Ae-=_e)if(e[t[Ae]])return e[t[Ae]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function qt(e,t,r){for(var _e=(r=r||{}).defaultFontFamily||"times",Ae=Object.assign({},Bt,r.genericFontFamilies||{}),Se=null,Ee=null,xe=0;xe<t.length;++xe)if(Ae[(Se=jt(t[xe])).family]&&(Se.family=Ae[Se.family]),e.hasOwnProperty(Se.family)){Ee=e[Se.family];break}if(!(Ee=Ee||e[_e]))throw new Error("Could not find a font-family for the rule '"+Et(Se)+"' and default family '"+_e+"'.");if(Ee=function(Te,Ce){if(Ce[Te])return Ce[Te];var Re=It[Te],Ue=Re<=It.normal?-1:1,De=Ot(Ce,kt,Re,Ue);if(!De)throw new Error("Could not find a matching font-stretch value for "+Te);return De}(Se.stretch,Ee),Ee=function(Te,Ce){if(Ce[Te])return Ce[Te];for(var Re=Pt[Te],Ue=0;Ue<Re.length;++Ue)if(Ce[Re[Ue]])return Ce[Re[Ue]];throw new Error("Could not find a matching font-style for "+Te)}(Se.style,Ee),!(Ee=function(Te,Ce){if(Ce[Te])return Ce[Te];if(Te===400&&Ce[500])return Ce[500];if(Te===500&&Ce[400])return Ce[400];var Re=Ct[Te],Ue=Ot(Ce,Ft,Re,Te<400?-1:1);if(!Ue)throw new Error("Could not find a matching font-weight for value "+Te);return Ue}(Se.weight,Ee)))throw new Error("Failed to resolve a font for the rule '"+Et(Se)+"'.");return Ee}function Dt(e){return e.trimLeft()}function Rt(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Tt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(e){var t,r,_e,Ae,Se,Ee,xe,Te,Ce,Re=function(Ze){return Ze=Ze||{},this.isStrokeTransparent=Ze.isStrokeTransparent||!1,this.strokeOpacity=Ze.strokeOpacity||1,this.strokeStyle=Ze.strokeStyle||"#000000",this.fillStyle=Ze.fillStyle||"#000000",this.isFillTransparent=Ze.isFillTransparent||!1,this.fillOpacity=Ze.fillOpacity||1,this.font=Ze.font||"10px sans-serif",this.textBaseline=Ze.textBaseline||"alphabetic",this.textAlign=Ze.textAlign||"left",this.lineWidth=Ze.lineWidth||1,this.lineJoin=Ze.lineJoin||"miter",this.lineCap=Ze.lineCap||"butt",this.path=Ze.path||[],this.transform=Ze.transform!==void 0?Ze.transform.clone():new Te,this.globalCompositeOperation=Ze.globalCompositeOperation||"normal",this.globalAlpha=Ze.globalAlpha||1,this.clip_path=Ze.clip_path||[],this.currentPoint=Ze.currentPoint||new Ee,this.miterLimit=Ze.miterLimit||10,this.lastPoint=Ze.lastPoint||new Ee,this.lineDashOffset=Ze.lineDashOffset||0,this.lineDash=Ze.lineDash||[],this.margin=Ze.margin||[0,0,0,0],this.prevPageLastElemOffset=Ze.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Ze.ignoreClearRect!="boolean"||Ze.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new Ue(this),t=this.internal.f2,r=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Ae=this.internal.getHorizontalCoordinate,Se=this.internal.getVerticalCoordinate,Ee=this.internal.Point,xe=this.internal.Rectangle,Te=this.internal.Matrix,Ce=new Re}]);var Ue=function(Ze){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Xe=Ze;Object.defineProperty(this,"pdf",{get:function(){return Xe}});var Ye=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ye},set:function(tn){Ye=Boolean(tn)}});var en=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return en},set:function(tn){en=Boolean(tn)}});var on=0;Object.defineProperty(this,"posX",{get:function(){return on},set:function(tn){isNaN(tn)||(on=tn)}});var hn=0;Object.defineProperty(this,"posY",{get:function(){return hn},set:function(tn){isNaN(tn)||(hn=tn)}}),Object.defineProperty(this,"margin",{get:function(){return Ce.margin},set:function(tn){var $e;typeof tn=="number"?$e=[tn,tn,tn,tn]:(($e=new Array(4))[0]=tn[0],$e[1]=tn.length>=2?tn[1]:$e[0],$e[2]=tn.length>=3?tn[2]:$e[0],$e[3]=tn.length>=4?tn[3]:$e[1]),Ce.margin=$e}});var bn=!1;Object.defineProperty(this,"autoPaging",{get:function(){return bn},set:function(tn){bn=tn}});var Ln=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ln},set:function(tn){Ln=tn}});var Vn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Vn},set:function(tn){Vn=tn}}),Object.defineProperty(this,"ctx",{get:function(){return Ce},set:function(tn){tn instanceof Re&&(Ce=tn)}}),Object.defineProperty(this,"path",{get:function(){return Ce.path},set:function(tn){Ce.path=tn}});var Wn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Wn},set:function(tn){Wn=tn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(tn){var $e;$e=De(tn),this.ctx.fillStyle=$e.style,this.ctx.isFillTransparent=$e.a===0,this.ctx.fillOpacity=$e.a,this.pdf.setFillColor($e.r,$e.g,$e.b,{a:$e.a}),this.pdf.setTextColor($e.r,$e.g,$e.b,{a:$e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(tn){var $e=De(tn);this.ctx.strokeStyle=$e.style,this.ctx.isStrokeTransparent=$e.a===0,this.ctx.strokeOpacity=$e.a,$e.a===0?this.pdf.setDrawColor(255,255,255):($e.a,this.pdf.setDrawColor($e.r,$e.g,$e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(tn){["butt","round","square"].indexOf(tn)!==-1&&(this.ctx.lineCap=tn,this.pdf.setLineCap(tn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(tn){isNaN(tn)||(this.ctx.lineWidth=tn,this.pdf.setLineWidth(tn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(tn){["bevel","round","miter"].indexOf(tn)!==-1&&(this.ctx.lineJoin=tn,this.pdf.setLineJoin(tn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(tn){isNaN(tn)||(this.ctx.miterLimit=tn,this.pdf.setMiterLimit(tn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(tn){this.ctx.textBaseline=tn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(tn){["right","end","center","left","start"].indexOf(tn)!==-1&&(this.ctx.textAlign=tn)}});var un=null;function mn(tn,$e){if(un===null){var yn=function(En){var cn=[];return Object.keys(En).forEach(function(Pn){En[Pn].forEach(function(Mn){var nn=null;switch(Mn){case"bold":nn={family:Pn,weight:"bold"};break;case"italic":nn={family:Pn,style:"italic"};break;case"bolditalic":nn={family:Pn,weight:"bold",style:"italic"};break;case"":case"normal":nn={family:Pn}}nn!==null&&(nn.ref={name:Pn,style:Mn},cn.push(nn))})}),cn}(tn.getFontList());un=function(En){for(var cn={},Pn=0;Pn<En.length;++Pn){var Mn=jt(En[Pn]),nn=Mn.family,xn=Mn.stretch,_n=Mn.style,zn=Mn.weight;cn[nn]=cn[nn]||{},cn[nn][xn]=cn[nn][xn]||{},cn[nn][xn][_n]=cn[nn][xn][_n]||{},cn[nn][xn][_n][zn]=Mn}return cn}(yn.concat($e))}return un}var St=null;Object.defineProperty(this,"fontFaces",{get:function(){return St},set:function(tn){un=null,St=tn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(tn){var $e;if(this.ctx.font=tn,($e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(tn))!==null){var yn=$e[1],En=($e[2],$e[3]),cn=$e[4],Pn=($e[5],$e[6]),Mn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(cn)[2];cn=Math.floor(Mn==="px"?parseFloat(cn)*this.pdf.internal.scaleFactor:Mn==="em"?parseFloat(cn)*this.pdf.getFontSize():parseFloat(cn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(cn);var nn=function(Xn){var li,oi,Ni=[],Ai=Xn.trim();if(Ai==="")return Wt;if(Ai in Mt)return[Mt[Ai]];for(;Ai!=="";){switch(oi=null,li=(Ai=Dt(Ai)).charAt(0)){case'"':case"'":oi=Rt(Ai.substring(1),li);break;default:oi=Tt(Ai)}if(oi===null||(Ni.push(oi[0]),(Ai=Dt(oi[1]))!==""&&Ai.charAt(0)!==","))return Wt;Ai=Ai.replace(/^,/,"")}return Ni}(Pn);if(this.fontFaces){var xn=qt(mn(this.pdf,this.fontFaces),nn.map(function(Xn){return{family:Xn,stretch:"normal",weight:En,style:yn}}));this.pdf.setFont(xn.ref.name,xn.ref.style)}else{var _n="";(En==="bold"||parseInt(En,10)>=700||yn==="bold")&&(_n="bold"),yn==="italic"&&(_n+="italic"),_n.length===0&&(_n="normal");for(var zn="",$n={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Yn=0;Yn<nn.length;Yn++){if(this.pdf.internal.getFont(nn[Yn],_n,{noFallback:!0,disableWarning:!0})!==void 0){zn=nn[Yn];break}if(_n==="bolditalic"&&this.pdf.internal.getFont(nn[Yn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zn=nn[Yn],_n="bold";else if(this.pdf.internal.getFont(nn[Yn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zn=nn[Yn],_n="normal";break}}if(zn===""){for(var jn=0;jn<nn.length;jn++)if($n[nn[jn]]){zn=$n[nn[jn]];break}}zn=zn===""?"Times":zn,this.pdf.setFont(zn,_n)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(tn){this.ctx.globalCompositeOperation=tn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(tn){this.ctx.globalAlpha=tn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(tn){this.ctx.lineDashOffset=tn,Bn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(tn){this.ctx.lineDash=tn,Bn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(tn){this.ctx.ignoreClearRect=Boolean(tn)}})};Ue.prototype.setLineDash=function(Ze){this.lineDash=Ze},Ue.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ue.prototype.fill=function(){ze.call(this,"fill",!1)},Ue.prototype.stroke=function(){ze.call(this,"stroke",!1)},Ue.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ue.prototype.moveTo=function(Ze,Xe){if(isNaN(Ze)||isNaN(Xe))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ye=this.ctx.transform.applyToPoint(new Ee(Ze,Xe));this.path.push({type:"mt",x:Ye.x,y:Ye.y}),this.ctx.lastPoint=new Ee(Ze,Xe)},Ue.prototype.closePath=function(){var Ze=new Ee(0,0),Xe=0;for(Xe=this.path.length-1;Xe!==-1;Xe--)if(this.path[Xe].type==="begin"&&_typeof(this.path[Xe+1])==="object"&&typeof this.path[Xe+1].x=="number"){Ze=new Ee(this.path[Xe+1].x,this.path[Xe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ee(Ze.x,Ze.y)},Ue.prototype.lineTo=function(Ze,Xe){if(isNaN(Ze)||isNaN(Xe))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ye=this.ctx.transform.applyToPoint(new Ee(Ze,Xe));this.path.push({type:"lt",x:Ye.x,y:Ye.y}),this.ctx.lastPoint=new Ee(Ye.x,Ye.y)},Ue.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ze.call(this,null,!0)},Ue.prototype.quadraticCurveTo=function(Ze,Xe,Ye,en){if(isNaN(Ye)||isNaN(en)||isNaN(Ze)||isNaN(Xe))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var on=this.ctx.transform.applyToPoint(new Ee(Ye,en)),hn=this.ctx.transform.applyToPoint(new Ee(Ze,Xe));this.path.push({type:"qct",x1:hn.x,y1:hn.y,x:on.x,y:on.y}),this.ctx.lastPoint=new Ee(on.x,on.y)},Ue.prototype.bezierCurveTo=function(Ze,Xe,Ye,en,on,hn){if(isNaN(on)||isNaN(hn)||isNaN(Ze)||isNaN(Xe)||isNaN(Ye)||isNaN(en))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var bn=this.ctx.transform.applyToPoint(new Ee(on,hn)),Ln=this.ctx.transform.applyToPoint(new Ee(Ze,Xe)),Vn=this.ctx.transform.applyToPoint(new Ee(Ye,en));this.path.push({type:"bct",x1:Ln.x,y1:Ln.y,x2:Vn.x,y2:Vn.y,x:bn.x,y:bn.y}),this.ctx.lastPoint=new Ee(bn.x,bn.y)},Ue.prototype.arc=function(Ze,Xe,Ye,en,on,hn){if(isNaN(Ze)||isNaN(Xe)||isNaN(Ye)||isNaN(en)||isNaN(on))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(hn=Boolean(hn),!this.ctx.transform.isIdentity){var bn=this.ctx.transform.applyToPoint(new Ee(Ze,Xe));Ze=bn.x,Xe=bn.y;var Ln=this.ctx.transform.applyToPoint(new Ee(0,Ye)),Vn=this.ctx.transform.applyToPoint(new Ee(0,0));Ye=Math.sqrt(Math.pow(Ln.x-Vn.x,2)+Math.pow(Ln.y-Vn.y,2))}Math.abs(on-en)>=2*Math.PI&&(en=0,on=2*Math.PI),this.path.push({type:"arc",x:Ze,y:Xe,radius:Ye,startAngle:en,endAngle:on,counterclockwise:hn})},Ue.prototype.arcTo=function(Ze,Xe,Ye,en,on){throw new Error("arcTo not implemented.")},Ue.prototype.rect=function(Ze,Xe,Ye,en){if(isNaN(Ze)||isNaN(Xe)||isNaN(Ye)||isNaN(en))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Ze,Xe),this.lineTo(Ze+Ye,Xe),this.lineTo(Ze+Ye,Xe+en),this.lineTo(Ze,Xe+en),this.lineTo(Ze,Xe),this.lineTo(Ze+Ye,Xe),this.lineTo(Ze,Xe)},Ue.prototype.fillRect=function(Ze,Xe,Ye,en){if(isNaN(Ze)||isNaN(Xe)||isNaN(Ye)||isNaN(en))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!ke.call(this)){var on={};this.lineCap!=="butt"&&(on.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(on.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Ze,Xe,Ye,en),this.fill(),on.hasOwnProperty("lineCap")&&(this.lineCap=on.lineCap),on.hasOwnProperty("lineJoin")&&(this.lineJoin=on.lineJoin)}},Ue.prototype.strokeRect=function(Ze,Xe,Ye,en){if(isNaN(Ze)||isNaN(Xe)||isNaN(Ye)||isNaN(en))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Me.call(this)||(this.beginPath(),this.rect(Ze,Xe,Ye,en),this.stroke())},Ue.prototype.clearRect=function(Ze,Xe,Ye,en){if(isNaN(Ze)||isNaN(Xe)||isNaN(Ye)||isNaN(en))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Ze,Xe,Ye,en))},Ue.prototype.save=function(Ze){Ze=typeof Ze!="boolean"||Ze;for(var Xe=this.pdf.internal.getCurrentPageInfo().pageNumber,Ye=0;Ye<this.pdf.internal.getNumberOfPages();Ye++)this.pdf.setPage(Ye+1),this.pdf.internal.out("q");if(this.pdf.setPage(Xe),Ze){this.ctx.fontSize=this.pdf.internal.getFontSize();var en=new Re(this.ctx);this.ctxStack.push(this.ctx),this.ctx=en}},Ue.prototype.restore=function(Ze){Ze=typeof Ze!="boolean"||Ze;for(var Xe=this.pdf.internal.getCurrentPageInfo().pageNumber,Ye=0;Ye<this.pdf.internal.getNumberOfPages();Ye++)this.pdf.setPage(Ye+1),this.pdf.internal.out("Q");this.pdf.setPage(Xe),Ze&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ue.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var De=function(Ze){var Xe,Ye,en,on;if(Ze.isCanvasGradient===!0&&(Ze=Ze.getColor()),!Ze)return{r:0,g:0,b:0,a:0,style:Ze};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Ze))Xe=0,Ye=0,en=0,on=0;else{var hn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Ze);if(hn!==null)Xe=parseInt(hn[1]),Ye=parseInt(hn[2]),en=parseInt(hn[3]),on=1;else if((hn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Ze))!==null)Xe=parseInt(hn[1]),Ye=parseInt(hn[2]),en=parseInt(hn[3]),on=parseFloat(hn[4]);else{if(on=1,typeof Ze=="string"&&Ze.charAt(0)!=="#"){var bn=new f(Ze);Ze=bn.ok?bn.toHex():"#000000"}Ze.length===4?(Xe=Ze.substring(1,2),Xe+=Xe,Ye=Ze.substring(2,3),Ye+=Ye,en=Ze.substring(3,4),en+=en):(Xe=Ze.substring(1,3),Ye=Ze.substring(3,5),en=Ze.substring(5,7)),Xe=parseInt(Xe,16),Ye=parseInt(Ye,16),en=parseInt(en,16)}}return{r:Xe,g:Ye,b:en,a:on,style:Ze}},ke=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Me=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ue.prototype.fillText=function(Ze,Xe,Ye,en){if(isNaN(Xe)||isNaN(Ye)||typeof Ze!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(en=isNaN(en)?void 0:en,!ke.call(this)){var on=pn(this.ctx.transform.rotation),hn=this.ctx.transform.scaleX;rn.call(this,{text:Ze,x:Xe,y:Ye,scale:hn,angle:on,align:this.textAlign,maxWidth:en})}},Ue.prototype.strokeText=function(Ze,Xe,Ye,en){if(isNaN(Xe)||isNaN(Ye)||typeof Ze!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Me.call(this)){en=isNaN(en)?void 0:en;var on=pn(this.ctx.transform.rotation),hn=this.ctx.transform.scaleX;rn.call(this,{text:Ze,x:Xe,y:Ye,scale:hn,renderingMode:"stroke",angle:on,align:this.textAlign,maxWidth:en})}},Ue.prototype.measureText=function(Ze){if(typeof Ze!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Xe=this.pdf,Ye=this.pdf.internal.scaleFactor,en=Xe.internal.getFontSize(),on=Xe.getStringUnitWidth(Ze)*en/Xe.internal.scaleFactor,hn=function(bn){var Ln=(bn=bn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ln}}),this};return new hn({width:on*=Math.round(96*Ye/72*1e4)/1e4})},Ue.prototype.scale=function(Ze,Xe){if(isNaN(Ze)||isNaN(Xe))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ye=new Te(Ze,0,0,Xe,0,0);this.ctx.transform=this.ctx.transform.multiply(Ye)},Ue.prototype.rotate=function(Ze){if(isNaN(Ze))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Xe=new Te(Math.cos(Ze),Math.sin(Ze),-Math.sin(Ze),Math.cos(Ze),0,0);this.ctx.transform=this.ctx.transform.multiply(Xe)},Ue.prototype.translate=function(Ze,Xe){if(isNaN(Ze)||isNaN(Xe))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ye=new Te(1,0,0,1,Ze,Xe);this.ctx.transform=this.ctx.transform.multiply(Ye)},Ue.prototype.transform=function(Ze,Xe,Ye,en,on,hn){if(isNaN(Ze)||isNaN(Xe)||isNaN(Ye)||isNaN(en)||isNaN(on)||isNaN(hn))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var bn=new Te(Ze,Xe,Ye,en,on,hn);this.ctx.transform=this.ctx.transform.multiply(bn)},Ue.prototype.setTransform=function(Ze,Xe,Ye,en,on,hn){Ze=isNaN(Ze)?1:Ze,Xe=isNaN(Xe)?0:Xe,Ye=isNaN(Ye)?0:Ye,en=isNaN(en)?1:en,on=isNaN(on)?0:on,hn=isNaN(hn)?0:hn,this.ctx.transform=new Te(Ze,Xe,Ye,en,on,hn)};var Oe=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ue.prototype.drawImage=function(Ze,Xe,Ye,en,on,hn,bn,Ln,Vn){var Wn=this.pdf.getImageProperties(Ze),un=1,mn=1,St=1,tn=1;en!==void 0&&Ln!==void 0&&(St=Ln/en,tn=Vn/on,un=Wn.width/en*Ln/en,mn=Wn.height/on*Vn/on),hn===void 0&&(hn=Xe,bn=Ye,Xe=0,Ye=0),en!==void 0&&Ln===void 0&&(Ln=en,Vn=on),en===void 0&&Ln===void 0&&(Ln=Wn.width,Vn=Wn.height);for(var $e,yn=this.ctx.transform.decompose(),En=pn(yn.rotate.shx),cn=new Te,Pn=(cn=(cn=(cn=cn.multiply(yn.translate)).multiply(yn.skew)).multiply(yn.scale)).applyToRectangle(new xe(hn-Xe*St,bn-Ye*tn,en*un,on*mn)),Mn=Be.call(this,Pn),nn=[],xn=0;xn<Mn.length;xn+=1)nn.indexOf(Mn[xn])===-1&&nn.push(Mn[xn]);if(je(nn),this.autoPaging)for(var _n=nn[0],zn=nn[nn.length-1],$n=_n;$n<zn+1;$n++){this.pdf.setPage($n);var Yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jn=$n===1?this.posY+this.margin[0]:this.margin[0],Xn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],li=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oi=$n===1?0:Xn+($n-2)*li;if(this.ctx.clip_path.length!==0){var Ni=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=qe($e,this.posX+this.margin[3],-oi+jn+this.ctx.prevPageLastElemOffset),Ve.call(this,"fill",!0),this.path=Ni}var Ai=JSON.parse(JSON.stringify(Pn));Ai=qe([Ai],this.posX+this.margin[3],-oi+jn+this.ctx.prevPageLastElemOffset)[0];var Li=($n>_n||$n<zn)&&Oe.call(this);Li&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yn,li,null).clip().discardPath()),this.pdf.addImage(Ze,"JPEG",Ai.x,Ai.y,Ai.w,Ai.h,null,null,En),Li&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Ze,"JPEG",Pn.x,Pn.y,Pn.w,Pn.h,null,null,En)};var Be=function(Ze,Xe,Ye){var en=[];Xe=Xe||this.pdf.internal.pageSize.width,Ye=Ye||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var on=this.posY+this.ctx.prevPageLastElemOffset;switch(Ze.type){default:case"mt":case"lt":en.push(Math.floor((Ze.y+on)/Ye)+1);break;case"arc":en.push(Math.floor((Ze.y+on-Ze.radius)/Ye)+1),en.push(Math.floor((Ze.y+on+Ze.radius)/Ye)+1);break;case"qct":var hn=On(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ze.x1,Ze.y1,Ze.x,Ze.y);en.push(Math.floor((hn.y+on)/Ye)+1),en.push(Math.floor((hn.y+hn.h+on)/Ye)+1);break;case"bct":var bn=Hn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Ze.x1,Ze.y1,Ze.x2,Ze.y2,Ze.x,Ze.y);en.push(Math.floor((bn.y+on)/Ye)+1),en.push(Math.floor((bn.y+bn.h+on)/Ye)+1);break;case"rect":en.push(Math.floor((Ze.y+on)/Ye)+1),en.push(Math.floor((Ze.y+Ze.h+on)/Ye)+1)}for(var Ln=0;Ln<en.length;Ln+=1)for(;this.pdf.internal.getNumberOfPages()<en[Ln];)Ie.call(this);return en},Ie=function(){var Ze=this.fillStyle,Xe=this.strokeStyle,Ye=this.font,en=this.lineCap,on=this.lineWidth,hn=this.lineJoin;this.pdf.addPage(),this.fillStyle=Ze,this.strokeStyle=Xe,this.font=Ye,this.lineCap=en,this.lineWidth=on,this.lineJoin=hn},qe=function(Ze,Xe,Ye){for(var en=0;en<Ze.length;en++)switch(Ze[en].type){case"bct":Ze[en].x2+=Xe,Ze[en].y2+=Ye;case"qct":Ze[en].x1+=Xe,Ze[en].y1+=Ye;case"mt":case"lt":case"arc":default:Ze[en].x+=Xe,Ze[en].y+=Ye}return Ze},je=function(Ze){return Ze.sort(function(Xe,Ye){return Xe-Ye})},ze=function(Ze,Xe){for(var Ye,en,on=this.fillStyle,hn=this.strokeStyle,bn=this.lineCap,Ln=this.lineWidth,Vn=Math.abs(Ln*this.ctx.transform.scaleX),Wn=this.lineJoin,un=JSON.parse(JSON.stringify(this.path)),mn=JSON.parse(JSON.stringify(this.path)),St=[],tn=0;tn<mn.length;tn++)if(mn[tn].x!==void 0)for(var $e=Be.call(this,mn[tn]),yn=0;yn<$e.length;yn+=1)St.indexOf($e[yn])===-1&&St.push($e[yn]);for(var En=0;En<St.length;En++)for(;this.pdf.internal.getNumberOfPages()<St[En];)Ie.call(this);if(je(St),this.autoPaging)for(var cn=St[0],Pn=St[St.length-1],Mn=cn;Mn<Pn+1;Mn++){this.pdf.setPage(Mn),this.fillStyle=on,this.strokeStyle=hn,this.lineCap=bn,this.lineWidth=Vn,this.lineJoin=Wn;var nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xn=Mn===1?this.posY+this.margin[0]:this.margin[0],_n=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$n=Mn===1?0:_n+(Mn-2)*zn;if(this.ctx.clip_path.length!==0){var Yn=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=qe(Ye,this.posX+this.margin[3],-$n+xn+this.ctx.prevPageLastElemOffset),Ve.call(this,Ze,!0),this.path=Yn}if(en=JSON.parse(JSON.stringify(un)),this.path=qe(en,this.posX+this.margin[3],-$n+xn+this.ctx.prevPageLastElemOffset),Xe===!1||Mn===0){var jn=(Mn>cn||Mn<Pn)&&Oe.call(this);jn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nn,zn,null).clip().discardPath()),Ve.call(this,Ze,Xe),jn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ln}else this.lineWidth=Vn,Ve.call(this,Ze,Xe),this.lineWidth=Ln;this.path=un},Ve=function(Ze,Xe){if((Ze!=="stroke"||Xe||!Me.call(this))&&(Ze==="stroke"||Xe||!ke.call(this))){for(var Ye,en,on=[],hn=this.path,bn=0;bn<hn.length;bn++){var Ln=hn[bn];switch(Ln.type){case"begin":on.push({begin:!0});break;case"close":on.push({close:!0});break;case"mt":on.push({start:Ln,deltas:[],abs:[]});break;case"lt":var Vn=on.length;if(hn[bn-1]&&!isNaN(hn[bn-1].x)&&(Ye=[Ln.x-hn[bn-1].x,Ln.y-hn[bn-1].y],Vn>0)){for(;Vn>=0;Vn--)if(on[Vn-1].close!==!0&&on[Vn-1].begin!==!0){on[Vn-1].deltas.push(Ye),on[Vn-1].abs.push(Ln);break}}break;case"bct":Ye=[Ln.x1-hn[bn-1].x,Ln.y1-hn[bn-1].y,Ln.x2-hn[bn-1].x,Ln.y2-hn[bn-1].y,Ln.x-hn[bn-1].x,Ln.y-hn[bn-1].y],on[on.length-1].deltas.push(Ye);break;case"qct":var Wn=hn[bn-1].x+2/3*(Ln.x1-hn[bn-1].x),un=hn[bn-1].y+2/3*(Ln.y1-hn[bn-1].y),mn=Ln.x+2/3*(Ln.x1-Ln.x),St=Ln.y+2/3*(Ln.y1-Ln.y),tn=Ln.x,$e=Ln.y;Ye=[Wn-hn[bn-1].x,un-hn[bn-1].y,mn-hn[bn-1].x,St-hn[bn-1].y,tn-hn[bn-1].x,$e-hn[bn-1].y],on[on.length-1].deltas.push(Ye);break;case"arc":on.push({deltas:[],abs:[],arc:!0}),Array.isArray(on[on.length-1].abs)&&on[on.length-1].abs.push(Ln)}}en=Xe?null:Ze==="stroke"?"stroke":"fill";for(var yn=!1,En=0;En<on.length;En++)if(on[En].arc)for(var cn=on[En].abs,Pn=0;Pn<cn.length;Pn++){var Mn=cn[Pn];Mn.type==="arc"?Je.call(this,Mn.x,Mn.y,Mn.radius,Mn.startAngle,Mn.endAngle,Mn.counterclockwise,void 0,Xe,!yn):Cn.call(this,Mn.x,Mn.y),yn=!0}else if(on[En].close===!0)this.pdf.internal.out("h"),yn=!1;else if(on[En].begin!==!0){var nn=on[En].start.x,xn=on[En].start.y;Sn.call(this,on[En].deltas,nn,xn),yn=!0}en&&dn.call(this,en),Xe&&an.call(this)}},He=function(Ze){var Xe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ye=Xe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Ze-Ye;case"top":return Ze+Xe-Ye;case"hanging":return Ze+Xe-2*Ye;case"middle":return Ze+Xe/2-Ye;case"ideographic":return Ze;case"alphabetic":default:return Ze}},Qe=function(Ze){return Ze+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ue.prototype.createLinearGradient=function(){var Ze=function(){};return Ze.colorStops=[],Ze.addColorStop=function(Xe,Ye){this.colorStops.push([Xe,Ye])},Ze.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Ze.isCanvasGradient=!0,Ze},Ue.prototype.createPattern=function(){return this.createLinearGradient()},Ue.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Je=function(Ze,Xe,Ye,en,on,hn,bn,Ln,Vn){for(var Wn=gn.call(this,Ye,en,on,hn),un=0;un<Wn.length;un++){var mn=Wn[un];un===0&&(Vn?Ke.call(this,mn.x1+Ze,mn.y1+Xe):Cn.call(this,mn.x1+Ze,mn.y1+Xe)),fn.call(this,Ze,Xe,mn.x2,mn.y2,mn.x3,mn.y3,mn.x4,mn.y4)}Ln?an.call(this):dn.call(this,bn)},dn=function(Ze){switch(Ze){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},an=function(){this.pdf.clip(),this.pdf.discardPath()},Ke=function(Ze,Xe){this.pdf.internal.out(r(Ze)+" "+_e(Xe)+" m")},rn=function(Ze){var Xe;switch(Ze.align){case"right":case"end":Xe="right";break;case"center":Xe="center";break;case"left":case"start":default:Xe="left"}var Ye=this.pdf.getTextDimensions(Ze.text),en=He.call(this,Ze.y),on=Qe.call(this,en)-Ye.h,hn=this.ctx.transform.applyToPoint(new Ee(Ze.x,en)),bn=this.ctx.transform.decompose(),Ln=new Te;Ln=(Ln=(Ln=Ln.multiply(bn.translate)).multiply(bn.skew)).multiply(bn.scale);for(var Vn,Wn,un,mn=this.ctx.transform.applyToRectangle(new xe(Ze.x,en,Ye.w,Ye.h)),St=Ln.applyToRectangle(new xe(Ze.x,on,Ye.w,Ye.h)),tn=Be.call(this,St),$e=[],yn=0;yn<tn.length;yn+=1)$e.indexOf(tn[yn])===-1&&$e.push(tn[yn]);if(je($e),this.autoPaging)for(var En=$e[0],cn=$e[$e.length-1],Pn=En;Pn<cn+1;Pn++){this.pdf.setPage(Pn);var Mn=Pn===1?this.posY+this.margin[0]:this.margin[0],nn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xn=this.pdf.internal.pageSize.height-this.margin[2],_n=xn-this.margin[0],zn=this.pdf.internal.pageSize.width-this.margin[1],$n=zn-this.margin[3],Yn=Pn===1?0:nn+(Pn-2)*_n;if(this.ctx.clip_path.length!==0){var jn=this.path;Vn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=qe(Vn,this.posX+this.margin[3],-1*Yn+Mn),Ve.call(this,"fill",!0),this.path=jn}var Xn=qe([JSON.parse(JSON.stringify(St))],this.posX+this.margin[3],-Yn+Mn+this.ctx.prevPageLastElemOffset)[0];Ze.scale>=.01&&(Wn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wn*Ze.scale),un=this.lineWidth,this.lineWidth=un*Ze.scale);var li=this.autoPaging!=="text";if(li||Xn.y+Xn.h<=xn){if(li||Xn.y>=Mn&&Xn.x<=zn){var oi=li?Ze.text:this.pdf.splitTextToSize(Ze.text,Ze.maxWidth||zn-Xn.x)[0],Ni=qe([JSON.parse(JSON.stringify(mn))],this.posX+this.margin[3],-Yn+Mn+this.ctx.prevPageLastElemOffset)[0],Ai=li&&(Pn>En||Pn<cn)&&Oe.call(this);Ai&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$n,_n,null).clip().discardPath()),this.pdf.text(oi,Ni.x,Ni.y,{angle:Ze.angle,align:Xe,renderingMode:Ze.renderingMode}),Ai&&this.pdf.restoreGraphicsState()}}else Xn.y<xn&&(this.ctx.prevPageLastElemOffset+=xn-Xn.y);Ze.scale>=.01&&(this.pdf.setFontSize(Wn),this.lineWidth=un)}else Ze.scale>=.01&&(Wn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wn*Ze.scale),un=this.lineWidth,this.lineWidth=un*Ze.scale),this.pdf.text(Ze.text,hn.x+this.posX,hn.y+this.posY,{angle:Ze.angle,align:Xe,renderingMode:Ze.renderingMode,maxWidth:Ze.maxWidth}),Ze.scale>=.01&&(this.pdf.setFontSize(Wn),this.lineWidth=un)},Cn=function(Ze,Xe,Ye,en){Ye=Ye||0,en=en||0,this.pdf.internal.out(r(Ze+Ye)+" "+_e(Xe+en)+" l")},Sn=function(Ze,Xe,Ye){return this.pdf.lines(Ze,Xe,Ye,null,null)},fn=function(Ze,Xe,Ye,en,on,hn,bn,Ln){this.pdf.internal.out([t(Ae(Ye+Ze)),t(Se(en+Xe)),t(Ae(on+Ze)),t(Se(hn+Xe)),t(Ae(bn+Ze)),t(Se(Ln+Xe)),"c"].join(" "))},gn=function(Ze,Xe,Ye,en){for(var on=2*Math.PI,hn=Math.PI/2;Xe>Ye;)Xe-=on;var bn=Math.abs(Ye-Xe);bn<on&&en&&(bn=on-bn);for(var Ln=[],Vn=en?-1:1,Wn=Xe;bn>1e-5;){var un=Wn+Vn*Math.min(bn,hn);Ln.push(vn.call(this,Ze,Wn,un)),bn-=Math.abs(un-Wn),Wn=un}return Ln},vn=function(Ze,Xe,Ye){var en=(Ye-Xe)/2,on=Ze*Math.cos(en),hn=Ze*Math.sin(en),bn=on,Ln=-hn,Vn=bn*bn+Ln*Ln,Wn=Vn+bn*on+Ln*hn,un=4/3*(Math.sqrt(2*Vn*Wn)-Wn)/(bn*hn-Ln*on),mn=bn-un*Ln,St=Ln+un*bn,tn=mn,$e=-St,yn=en+Xe,En=Math.cos(yn),cn=Math.sin(yn);return{x1:Ze*Math.cos(Xe),y1:Ze*Math.sin(Xe),x2:mn*En-St*cn,y2:mn*cn+St*En,x3:tn*En-$e*cn,y3:tn*cn+$e*En,x4:Ze*Math.cos(Ye),y4:Ze*Math.sin(Ye)}},pn=function(Ze){return 180*Ze/Math.PI},On=function(Ze,Xe,Ye,en,on,hn){var bn=Ze+.5*(Ye-Ze),Ln=Xe+.5*(en-Xe),Vn=on+.5*(Ye-on),Wn=hn+.5*(en-hn),un=Math.min(Ze,on,bn,Vn),mn=Math.max(Ze,on,bn,Vn),St=Math.min(Xe,hn,Ln,Wn),tn=Math.max(Xe,hn,Ln,Wn);return new xe(un,St,mn-un,tn-St)},Hn=function(Ze,Xe,Ye,en,on,hn,bn,Ln){var Vn,Wn,un,mn,St,tn,$e,yn,En,cn,Pn,Mn,nn,xn,_n=Ye-Ze,zn=en-Xe,$n=on-Ye,Yn=hn-en,jn=bn-on,Xn=Ln-hn;for(Wn=0;Wn<41;Wn++)En=($e=(un=Ze+(Vn=Wn/40)*_n)+Vn*((St=Ye+Vn*$n)-un))+Vn*(St+Vn*(on+Vn*jn-St)-$e),cn=(yn=(mn=Xe+Vn*zn)+Vn*((tn=en+Vn*Yn)-mn))+Vn*(tn+Vn*(hn+Vn*Xn-tn)-yn),Wn==0?(Pn=En,Mn=cn,nn=En,xn=cn):(Pn=Math.min(Pn,En),Mn=Math.min(Mn,cn),nn=Math.max(nn,En),xn=Math.max(xn,cn));return new xe(Math.round(Pn),Math.round(Mn),Math.round(nn-Pn),Math.round(xn-Mn))},Bn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ze,Xe,Ye=(Ze=this.ctx.lineDash,Xe=this.ctx.lineDashOffset,JSON.stringify({lineDash:Ze,lineDashOffset:Xe}));this.prevLineDash!==Ye&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ye)}}})(E.API),function(e){var t=function(Se){var Ee,xe,Te,Ce,Re,Ue,De,ke,Me,Oe;for(/[^\x00-\xFF]/.test(Se),xe=[],Te=0,Ce=(Se+=Ee="\0\0\0\0".slice(Se.length%4||4)).length;Ce>Te;Te+=4)(Re=(Se.charCodeAt(Te)<<24)+(Se.charCodeAt(Te+1)<<16)+(Se.charCodeAt(Te+2)<<8)+Se.charCodeAt(Te+3))!==0?(Ue=(Re=((Re=((Re=((Re=(Re-(Oe=Re%85))/85)-(Me=Re%85))/85)-(ke=Re%85))/85)-(De=Re%85))/85)%85,xe.push(Ue+33,De+33,ke+33,Me+33,Oe+33)):xe.push(122);return function(Be,Ie){for(var qe=Ie;qe>0;qe--)Be.pop()}(xe,Ee.length),String.fromCharCode.apply(String,xe)+"~>"},r=function(Se){var Ee,xe,Te,Ce,Re,Ue=String,De="length",ke=255,Me="charCodeAt",Oe="slice",Be="replace";for(Se[Oe](-2),Se=Se[Oe](0,-2)[Be](/\s/g,"")[Be]("z","!!!!!"),Te=[],Ce=0,Re=(Se+=Ee="uuuuu"[Oe](Se[De]%5||5))[De];Re>Ce;Ce+=5)xe=52200625*(Se[Me](Ce)-33)+614125*(Se[Me](Ce+1)-33)+7225*(Se[Me](Ce+2)-33)+85*(Se[Me](Ce+3)-33)+(Se[Me](Ce+4)-33),Te.push(ke&xe>>24,ke&xe>>16,ke&xe>>8,ke&xe);return function(Ie,qe){for(var je=qe;je>0;je--)Ie.pop()}(Te,Ee[De]),Ue.fromCharCode.apply(Ue,Te)},_e=function(Se){var Ee=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Se=Se.replace(/\s/g,"")).indexOf(">")!==-1&&(Se=Se.substr(0,Se.indexOf(">"))),Se.length%2&&(Se+="0"),Ee.test(Se)===!1)return"";for(var xe="",Te=0;Te<Se.length;Te+=2)xe+=String.fromCharCode("0x"+(Se[Te]+Se[Te+1]));return xe},Ae=function(Se){for(var Ee=new Uint8Array(Se.length),xe=Se.length;xe--;)Ee[xe]=Se.charCodeAt(xe);return Se=(Ee=zlibSync(Ee)).reduce(function(Te,Ce){return Te+String.fromCharCode(Ce)},"")};e.processDataByFilters=function(Se,Ee){var xe=0,Te=Se||"",Ce=[];for(typeof(Ee=Ee||[])=="string"&&(Ee=[Ee]),xe=0;xe<Ee.length;xe+=1)switch(Ee[xe]){case"ASCII85Decode":case"/ASCII85Decode":Te=r(Te),Ce.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Te=t(Te),Ce.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Te=_e(Te),Ce.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Te=Te.split("").map(function(Re){return("0"+Re.charCodeAt().toString(16)).slice(-2)}).join("")+">",Ce.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Te=Ae(Te),Ce.push("/FlateDecode");break;default:throw new Error('The filter: "'+Ee[xe]+'" is not implemented')}return{data:Te,reverseChain:Ce.reverse().join(" ")}}}(E.API),function(e){e.loadFile=function(t,r,_e){return function(Ae,Se,Ee){Se=Se!==!1,Ee=typeof Ee=="function"?Ee:function(){};var xe=void 0;try{xe=function(Te,Ce,Re){var Ue=new XMLHttpRequest,De=0,ke=function(Me){var Oe=Me.length,Be=[],Ie=String.fromCharCode;for(De=0;De<Oe;De+=1)Be.push(Ie(255&Me.charCodeAt(De)));return Be.join("")};if(Ue.open("GET",Te,!Ce),Ue.overrideMimeType("text/plain; charset=x-user-defined"),Ce===!1&&(Ue.onload=function(){Ue.status===200?Re(ke(this.responseText)):Re(void 0)}),Ue.send(null),Ce&&Ue.status===200)return ke(Ue.responseText)}(Ae,Se,Ee)}catch{}return xe}(t,r,_e)},e.loadImageFile=e.loadFile}(E.API),function(e){function t(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm.0eae2bf4.js"),[])).catch(function(Ee){return Promise.reject(new Error("Could not load html2canvas: "+Ee))}).then(function(Ee){return Ee.default?Ee.default:Ee})}function r(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es.b8146866.js"),[])).catch(function(Ee){return Promise.reject(new Error("Could not load dompurify: "+Ee))}).then(function(Ee){return Ee.default?Ee.default:Ee})}var _e=function(Ee){var xe=_typeof(Ee);return xe==="undefined"?"undefined":xe==="string"||Ee instanceof String?"string":xe==="number"||Ee instanceof Number?"number":xe==="function"||Ee instanceof Function?"function":Ee&&Ee.constructor===Array?"array":Ee&&Ee.nodeType===1?"element":xe==="object"?"object":"unknown"},Ae=function(Ee,xe){var Te=document.createElement(Ee);for(var Ce in xe.className&&(Te.className=xe.className),xe.innerHTML&&xe.dompurify&&(Te.innerHTML=xe.dompurify.sanitize(xe.innerHTML)),xe.style)Te.style[Ce]=xe.style[Ce];return Te},Se=function Ee(xe){var Te=Object.assign(Ee.convert(Promise.resolve()),JSON.parse(JSON.stringify(Ee.template))),Ce=Ee.convert(Promise.resolve(),Te);return Ce=(Ce=Ce.setProgress(1,Ee,1,[Ee])).set(xe)};(Se.prototype=Object.create(Promise.prototype)).constructor=Se,Se.convert=function(Ee,xe){return Ee.__proto__=xe||Se.prototype,Ee},Se.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Se.prototype.from=function(Ee,xe){return this.then(function(){switch(xe=xe||function(Te){switch(_e(Te)){case"string":return"string";case"element":return Te.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Ee)){case"string":return this.then(r).then(function(Te){return this.set({src:Ae("div",{innerHTML:Ee,dompurify:Te})})});case"element":return this.set({src:Ee});case"canvas":return this.set({canvas:Ee});case"img":return this.set({img:Ee});default:return this.error("Unknown source type.")}})},Se.prototype.to=function(Ee){switch(Ee){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Se.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Ee={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},xe=function Te(Ce,Re){for(var Ue=Ce.nodeType===3?document.createTextNode(Ce.nodeValue):Ce.cloneNode(!1),De=Ce.firstChild;De;De=De.nextSibling)Re!==!0&&De.nodeType===1&&De.nodeName==="SCRIPT"||Ue.appendChild(Te(De,Re));return Ce.nodeType===1&&(Ce.nodeName==="CANVAS"?(Ue.width=Ce.width,Ue.height=Ce.height,Ue.getContext("2d").drawImage(Ce,0,0)):Ce.nodeName!=="TEXTAREA"&&Ce.nodeName!=="SELECT"||(Ue.value=Ce.value),Ue.addEventListener("load",function(){Ue.scrollTop=Ce.scrollTop,Ue.scrollLeft=Ce.scrollLeft},!0)),Ue}(this.prop.src,this.opt.html2canvas.javascriptEnabled);xe.tagName==="BODY"&&(Ee.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Ae("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Ae("div",{className:"html2pdf__container",style:Ee}),this.prop.container.appendChild(xe),this.prop.container.firstChild.appendChild(Ae("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Se.prototype.toCanvas=function(){var Ee=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ee).then(t).then(function(xe){var Te=Object.assign({},this.opt.html2canvas);return delete Te.onrendered,xe(this.prop.container,Te)}).then(function(xe){(this.opt.html2canvas.onrendered||function(){})(xe),this.prop.canvas=xe,document.body.removeChild(this.prop.overlay)})},Se.prototype.toContext2d=function(){var Ee=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ee).then(t).then(function(xe){var Te=this.opt.jsPDF,Ce=this.opt.fontFaces,Re=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Ue=Object.assign({async:!0,allowTaint:!0,scale:Re,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Ue.onrendered,Te.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Te.context2d.posX=this.opt.x,Te.context2d.posY=this.opt.y,Te.context2d.margin=this.opt.margin,Te.context2d.fontFaces=Ce,Ce)for(var De=0;De<Ce.length;++De){var ke=Ce[De],Me=ke.src.find(function(Oe){return Oe.format==="truetype"});Me&&Te.addFont(Me.url,ke.ref.name,ke.ref.style)}return Ue.windowHeight=Ue.windowHeight||0,Ue.windowHeight=Ue.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Ue.windowHeight,Te.context2d.save(!0),xe(this.prop.container,Ue)}).then(function(xe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(xe),this.prop.canvas=xe,document.body.removeChild(this.prop.overlay)})},Se.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Ee=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Ee})},Se.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Se.prototype.output=function(Ee,xe,Te){return(Te=Te||"pdf").toLowerCase()==="img"||Te.toLowerCase()==="image"?this.outputImg(Ee,xe):this.outputPdf(Ee,xe)},Se.prototype.outputPdf=function(Ee,xe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Ee,xe)})},Se.prototype.outputImg=function(Ee){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Ee){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Ee+'" is not supported.'}})},Se.prototype.save=function(Ee){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Ee?{filename:Ee}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Se.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Se.prototype.set=function(Ee){if(_e(Ee)!=="object")return this;var xe=Object.keys(Ee||{}).map(function(Te){if(Te in Se.template.prop)return function(){this.prop[Te]=Ee[Te]};switch(Te){case"margin":return this.setMargin.bind(this,Ee.margin);case"jsPDF":return function(){return this.opt.jsPDF=Ee.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Ee.pageSize);default:return function(){this.opt[Te]=Ee[Te]}}},this);return this.then(function(){return this.thenList(xe)})},Se.prototype.get=function(Ee,xe){return this.then(function(){var Te=Ee in Se.template.prop?this.prop[Ee]:this.opt[Ee];return xe?xe(Te):Te})},Se.prototype.setMargin=function(Ee){return this.then(function(){switch(_e(Ee)){case"number":Ee=[Ee,Ee,Ee,Ee];case"array":if(Ee.length===2&&(Ee=[Ee[0],Ee[1],Ee[0],Ee[1]]),Ee.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Ee}).then(this.setPageSize)},Se.prototype.setPageSize=function(Ee){function xe(Te,Ce){return Math.floor(Te*Ce/72*96)}return this.then(function(){(Ee=Ee||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Ee.inner={width:Ee.width-this.opt.margin[1]-this.opt.margin[3],height:Ee.height-this.opt.margin[0]-this.opt.margin[2]},Ee.inner.px={width:xe(Ee.inner.width,Ee.k),height:xe(Ee.inner.height,Ee.k)},Ee.inner.ratio=Ee.inner.height/Ee.inner.width),this.prop.pageSize=Ee})},Se.prototype.setProgress=function(Ee,xe,Te,Ce){return Ee!=null&&(this.progress.val=Ee),xe!=null&&(this.progress.state=xe),Te!=null&&(this.progress.n=Te),Ce!=null&&(this.progress.stack=Ce),this.progress.ratio=this.progress.val/this.progress.state,this},Se.prototype.updateProgress=function(Ee,xe,Te,Ce){return this.setProgress(Ee?this.progress.val+Ee:null,xe||null,Te?this.progress.n+Te:null,Ce?this.progress.stack.concat(Ce):null)},Se.prototype.then=function(Ee,xe){var Te=this;return this.thenCore(Ee,xe,function(Ce,Re){return Te.updateProgress(null,null,1,[Ce]),Promise.prototype.then.call(this,function(Ue){return Te.updateProgress(null,Ce),Ue}).then(Ce,Re).then(function(Ue){return Te.updateProgress(1),Ue})})},Se.prototype.thenCore=function(Ee,xe,Te){Te=Te||Promise.prototype.then,Ee&&(Ee=Ee.bind(this)),xe&&(xe=xe.bind(this));var Ce=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Se.convert(Object.assign({},this),Promise.prototype),Re=Te.call(Ce,Ee,xe);return Se.convert(Re,this.__proto__)},Se.prototype.thenExternal=function(Ee,xe){return Promise.prototype.then.call(this,Ee,xe)},Se.prototype.thenList=function(Ee){var xe=this;return Ee.forEach(function(Te){xe=xe.thenCore(Te)}),xe},Se.prototype.catch=function(Ee){Ee&&(Ee=Ee.bind(this));var xe=Promise.prototype.catch.call(this,Ee);return Se.convert(xe,this)},Se.prototype.catchExternal=function(Ee){return Promise.prototype.catch.call(this,Ee)},Se.prototype.error=function(Ee){return this.then(function(){throw new Error(Ee)})},Se.prototype.using=Se.prototype.set,Se.prototype.saveAs=Se.prototype.save,Se.prototype.export=Se.prototype.output,Se.prototype.run=Se.prototype.then,E.getPageSize=function(Ee,xe,Te){if(_typeof(Ee)==="object"){var Ce=Ee;Ee=Ce.orientation,xe=Ce.unit||xe,Te=Ce.format||Te}xe=xe||"mm",Te=Te||"a4",Ee=(""+(Ee||"P")).toLowerCase();var Re,Ue=(""+Te).toLowerCase(),De={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(xe){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=.75;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:throw"Invalid unit: "+xe}var ke,Me=0,Oe=0;if(De.hasOwnProperty(Ue))Me=De[Ue][1]/Re,Oe=De[Ue][0]/Re;else try{Me=Te[1],Oe=Te[0]}catch{throw new Error("Invalid format: "+Te)}if(Ee==="p"||Ee==="portrait")Ee="p",Oe>Me&&(ke=Oe,Oe=Me,Me=ke);else{if(Ee!=="l"&&Ee!=="landscape")throw"Invalid orientation: "+Ee;Ee="l",Me>Oe&&(ke=Oe,Oe=Me,Me=ke)}return{width:Oe,height:Me,unit:xe,k:Re,orientation:Ee}},e.html=function(Ee,xe){(xe=xe||{}).callback=xe.callback||function(){},xe.html2canvas=xe.html2canvas||{},xe.html2canvas.canvas=xe.html2canvas.canvas||this.canvas,xe.jsPDF=xe.jsPDF||this,xe.fontFaces=xe.fontFaces?xe.fontFaces.map(jt):null;var Te=new Se(xe);return xe.worker?Te:Te.from(Ee).doCallback()}}(E.API),E.API.addJS=function(e){return Ht=e,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,_e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Ae=r.outline.render().split(/\r\n/),Se=0;Se<Ae.length;Se++){var Ee=Ae[Se],xe=_e.exec(Ee);if(xe!=null){var Te=xe[1];r.internal.newObjectDeferredBegin(Te,!1)}r.internal.write(Ee)}if(this.outline.createNamedDestinations){var Ce=this.internal.pages.length,Re=[];for(Se=0;Se<Ce;Se++){var Ue=r.internal.newObject();Re.push(Ue);var De=r.internal.getPageInfo(Se+1);r.internal.write("<< /D["+De.objId+" 0 R /XYZ null null null]>> endobj")}var ke=r.internal.newObject();for(r.internal.write("<< /Names [ "),Se=0;Se<Re.length;Se++)r.internal.write("(page_"+(Se+1)+")"+Re[Se]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+ke+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(_e,Ae,Se){var Ee={title:Ae,options:Se,children:[]};return _e==null&&(_e=this.root),_e.children.push(Ee),Ee},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(_e){_e.id=r.internal.newObjectDeferred();for(var Ae=0;Ae<_e.children.length;Ae++)this.genIds_r(_e.children[Ae])},r.outline.renderRoot=function(_e){this.objStart(_e),this.line("/Type /Outlines"),_e.children.length>0&&(this.line("/First "+this.makeRef(_e.children[0])),this.line("/Last "+this.makeRef(_e.children[_e.children.length-1]))),this.line("/Count "+this.count_r({count:0},_e)),this.objEnd()},r.outline.renderItems=function(_e){for(var Ae=this.ctx.pdf.internal.getVerticalCoordinateString,Se=0;Se<_e.children.length;Se++){var Ee=_e.children[Se];this.objStart(Ee),this.line("/Title "+this.makeString(Ee.title)),this.line("/Parent "+this.makeRef(_e)),Se>0&&this.line("/Prev "+this.makeRef(_e.children[Se-1])),Se<_e.children.length-1&&this.line("/Next "+this.makeRef(_e.children[Se+1])),Ee.children.length>0&&(this.line("/First "+this.makeRef(Ee.children[0])),this.line("/Last "+this.makeRef(Ee.children[Ee.children.length-1])));var xe=this.count=this.count_r({count:0},Ee);if(xe>0&&this.line("/Count "+xe),Ee.options&&Ee.options.pageNumber){var Te=r.internal.getPageInfo(Ee.options.pageNumber);this.line("/Dest ["+Te.objId+" 0 R /XYZ 0 "+Ae(0)+" 0]")}this.objEnd()}for(var Ce=0;Ce<_e.children.length;Ce++)this.renderItems(_e.children[Ce])},r.outline.line=function(_e){this.ctx.val+=_e+`\r
`},r.outline.makeRef=function(_e){return _e.id+" 0 R"},r.outline.makeString=function(_e){return"("+r.internal.pdfEscape(_e)+")"},r.outline.objStart=function(_e){this.ctx.val+=`\r
`+_e.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(_e,Ae){for(var Se=0;Se<Ae.children.length;Se++)_e.count++,this.count_r(_e,Ae.children[Se]);return _e.count}}])}(E.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,_e,Ae,Se,Ee,xe){var Te,Ce=this.decode.DCT_DECODE,Re=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=Ee||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(Te=function(Ue){for(var De,ke=256*Ue.charCodeAt(4)+Ue.charCodeAt(5),Me=Ue.length,Oe={width:0,height:0,numcomponents:1},Be=4;Be<Me;Be+=2){if(Be+=ke,t.indexOf(Ue.charCodeAt(Be+1))!==-1){De=256*Ue.charCodeAt(Be+5)+Ue.charCodeAt(Be+6),Oe={width:256*Ue.charCodeAt(Be+7)+Ue.charCodeAt(Be+8),height:De,numcomponents:Ue.charCodeAt(Be+9)};break}ke=256*Ue.charCodeAt(Be+2)+Ue.charCodeAt(Be+3)}return Oe}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:xe=this.color_spaces.DEVICE_GRAY;break;case 4:xe=this.color_spaces.DEVICE_CMYK;break;case 3:xe=this.color_spaces.DEVICE_RGB}Re={data:r,width:Te.width,height:Te.height,colorSpace:xe,bitsPerComponent:8,filter:Ce,index:_e,alias:Ae}}return Re}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var e,t,r;function _e(Se){var Ee,xe,Te,Ce,Re,Ue,De,ke,Me,Oe,Be,Ie,qe,je;for(this.data=Se,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Ue=null;;){switch(Ee=this.readUInt32(),Me=function(){var ze,Ve;for(Ve=[],ze=0;ze<4;++ze)Ve.push(String.fromCharCode(this.data[this.pos++]));return Ve}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Ee);break;case"fcTL":Ue&&this.animation.frames.push(Ue),this.pos+=4,Ue={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Re=this.readUInt16(),Ce=this.readUInt16()||100,Ue.delay=1e3*Re/Ce,Ue.disposeOp=this.data[this.pos++],Ue.blendOp=this.data[this.pos++],Ue.data=[];break;case"IDAT":case"fdAT":for(Me==="fdAT"&&(this.pos+=4,Ee-=4),Se=(Ue!=null?Ue.data:void 0)||this.imgData,Ie=0;0<=Ee?Ie<Ee:Ie>Ee;0<=Ee?++Ie:--Ie)Se.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Te=this.palette.length/3,this.transparency.indexed=this.read(Ee),this.transparency.indexed.length>Te)throw new Error("More transparent colors than palette size");if((Oe=Te-this.transparency.indexed.length)>0)for(qe=0;0<=Oe?qe<Oe:qe>Oe;0<=Oe?++qe:--qe)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Ee)[0];break;case 2:this.transparency.rgb=this.read(Ee)}break;case"tEXt":De=(Be=this.read(Ee)).indexOf(0),ke=String.fromCharCode.apply(String,Be.slice(0,De)),this.text[ke]=String.fromCharCode.apply(String,Be.slice(De+1));break;case"IEND":return Ue&&this.animation.frames.push(Ue),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(je=this.colorType)===4||je===6,xe=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*xe,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Ee}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}_e.prototype.read=function(Se){var Ee,xe;for(xe=[],Ee=0;0<=Se?Ee<Se:Ee>Se;0<=Se?++Ee:--Ee)xe.push(this.data[this.pos++]);return xe},_e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.decodePixels=function(Se){var Ee=this.pixelBitlength/8,xe=new Uint8Array(this.width*this.height*Ee),Te=0,Ce=this;if(Se==null&&(Se=this.imgData),Se.length===0)return new Uint8Array(0);function Re(Ue,De,ke,Me){var Oe,Be,Ie,qe,je,ze,Ve,He,Qe,Je,dn,an,Ke,rn,Cn,Sn,fn,gn,vn,pn,On,Hn=Math.ceil((Ce.width-Ue)/ke),Bn=Math.ceil((Ce.height-De)/Me),Ze=Ce.width==Hn&&Ce.height==Bn;for(rn=Ee*Hn,an=Ze?xe:new Uint8Array(rn*Bn),ze=Se.length,Ke=0,Be=0;Ke<Bn&&Te<ze;){switch(Se[Te++]){case 0:for(qe=fn=0;fn<rn;qe=fn+=1)an[Be++]=Se[Te++];break;case 1:for(qe=gn=0;gn<rn;qe=gn+=1)Oe=Se[Te++],je=qe<Ee?0:an[Be-Ee],an[Be++]=(Oe+je)%256;break;case 2:for(qe=vn=0;vn<rn;qe=vn+=1)Oe=Se[Te++],Ie=(qe-qe%Ee)/Ee,Cn=Ke&&an[(Ke-1)*rn+Ie*Ee+qe%Ee],an[Be++]=(Cn+Oe)%256;break;case 3:for(qe=pn=0;pn<rn;qe=pn+=1)Oe=Se[Te++],Ie=(qe-qe%Ee)/Ee,je=qe<Ee?0:an[Be-Ee],Cn=Ke&&an[(Ke-1)*rn+Ie*Ee+qe%Ee],an[Be++]=(Oe+Math.floor((je+Cn)/2))%256;break;case 4:for(qe=On=0;On<rn;qe=On+=1)Oe=Se[Te++],Ie=(qe-qe%Ee)/Ee,je=qe<Ee?0:an[Be-Ee],Ke===0?Cn=Sn=0:(Cn=an[(Ke-1)*rn+Ie*Ee+qe%Ee],Sn=Ie&&an[(Ke-1)*rn+(Ie-1)*Ee+qe%Ee]),Ve=je+Cn-Sn,He=Math.abs(Ve-je),Je=Math.abs(Ve-Cn),dn=Math.abs(Ve-Sn),Qe=He<=Je&&He<=dn?je:Je<=dn?Cn:Sn,an[Be++]=(Oe+Qe)%256;break;default:throw new Error("Invalid filter algorithm: "+Se[Te-1])}if(!Ze){var Xe=((De+Ke*Me)*Ce.width+Ue)*Ee,Ye=Ke*rn;for(qe=0;qe<Hn;qe+=1){for(var en=0;en<Ee;en+=1)xe[Xe++]=an[Ye++];Xe+=(ke-1)*Ee}}Ke++}}return Se=unzlibSync(Se),Ce.interlaceMethod==1?(Re(0,0,8,8),Re(4,0,8,8),Re(0,4,4,8),Re(2,0,4,4),Re(0,2,2,4),Re(1,0,2,2),Re(0,1,1,2)):Re(0,0,1,1),xe},_e.prototype.decodePalette=function(){var Se,Ee,xe,Te,Ce,Re,Ue,De,ke;for(xe=this.palette,Re=this.transparency.indexed||[],Ce=new Uint8Array((Re.length||0)+xe.length),Te=0,Se=0,Ee=Ue=0,De=xe.length;Ue<De;Ee=Ue+=3)Ce[Te++]=xe[Ee],Ce[Te++]=xe[Ee+1],Ce[Te++]=xe[Ee+2],Ce[Te++]=(ke=Re[Se++])!=null?ke:255;return Ce},_e.prototype.copyToImageData=function(Se,Ee){var xe,Te,Ce,Re,Ue,De,ke,Me,Oe,Be,Ie;if(Te=this.colors,Oe=null,xe=this.hasAlphaChannel,this.palette.length&&(Oe=(Ie=this._decodedPalette)!=null?Ie:this._decodedPalette=this.decodePalette(),Te=4,xe=!0),Me=(Ce=Se.data||Se).length,Ue=Oe||Ee,Re=De=0,Te===1)for(;Re<Me;)ke=Oe?4*Ee[Re/4]:De,Be=Ue[ke++],Ce[Re++]=Be,Ce[Re++]=Be,Ce[Re++]=Be,Ce[Re++]=xe?Ue[ke++]:255,De=ke;else for(;Re<Me;)ke=Oe?4*Ee[Re/4]:De,Ce[Re++]=Ue[ke++],Ce[Re++]=Ue[ke++],Ce[Re++]=Ue[ke++],Ce[Re++]=xe?Ue[ke++]:255,De=ke},_e.prototype.decode=function(){var Se;return Se=new Uint8Array(this.width*this.height*4),this.copyToImageData(Se,this.decodePixels()),Se};var Ae=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{t=n.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return Ae(),e=function(Se){var Ee;if(Ae()===!0)return r.width=Se.width,r.height=Se.height,r.clearRect(0,0,Se.width,Se.height),r.putImageData(Se,0,0),(Ee=new Image).src=t.toDataURL(),Ee;throw new Error("This method requires a Browser with Canvas-capability.")},_e.prototype.decodeFrames=function(Se){var Ee,xe,Te,Ce,Re,Ue,De,ke;if(this.animation){for(ke=[],xe=Re=0,Ue=(De=this.animation.frames).length;Re<Ue;xe=++Re)Ee=De[xe],Te=Se.createImageData(Ee.width,Ee.height),Ce=this.decodePixels(new Uint8Array(Ee.data)),this.copyToImageData(Te,Ce),Ee.imageData=Te,ke.push(Ee.image=e(Te));return ke}},_e.prototype.renderFrame=function(Se,Ee){var xe,Te,Ce;return xe=(Te=this.animation.frames)[Ee],Ce=Te[Ee-1],Ee===0&&Se.clearRect(0,0,this.width,this.height),(Ce!=null?Ce.disposeOp:void 0)===1?Se.clearRect(Ce.xOffset,Ce.yOffset,Ce.width,Ce.height):(Ce!=null?Ce.disposeOp:void 0)===2&&Se.putImageData(Ce.imageData,Ce.xOffset,Ce.yOffset),xe.blendOp===0&&Se.clearRect(xe.xOffset,xe.yOffset,xe.width,xe.height),Se.drawImage(xe.image,xe.xOffset,xe.yOffset)},_e.prototype.animate=function(Se){var Ee,xe,Te,Ce,Re,Ue,De=this;return xe=0,Ue=this.animation,Ce=Ue.numFrames,Te=Ue.frames,Re=Ue.numPlays,(Ee=function(){var ke,Me;if(ke=xe++%Ce,Me=Te[ke],De.renderFrame(Se,ke),Ce>1&&xe/Ce<Re)return De.animation._timeout=setTimeout(Ee,Me.delay)})()},_e.prototype.stopAnimation=function(){var Se;return clearTimeout((Se=this.animation)!=null?Se._timeout:void 0)},_e.prototype.render=function(Se){var Ee,xe;return Se._png&&Se._png.stopAnimation(),Se._png=this,Se.width=this.width,Se.height=this.height,Ee=Se.getContext("2d"),this.animation?(this.decodeFrames(Ee),this.animate(Ee)):(xe=Ee.createImageData(this.width,this.height),this.copyToImageData(xe,this.decodePixels()),Ee.putImageData(xe,0,0))},_e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,_e=e[t++]|e[t++]<<8,Ae=e[t++],Se=Ae>>7,Ee=1<<(7&Ae)+1;e[t++],e[t++];var xe=null,Te=null;Se&&(xe=t,Te=Ee,t+=3*Ee);var Ce=!0,Re=[],Ue=0,De=null,ke=0,Me=null;for(this.width=r,this.height=_e;Ce&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,Me=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((Ke=e[t++])>=0))throw Error("Invalid block size");if(Ke===0)break;t+=Ke}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var Oe=e[t++];Ue=e[t++]|e[t++]<<8,De=e[t++],(1&Oe)==0&&(De=null),ke=Oe>>2&7,t++;break;case 254:for(;;){if(!((Ke=e[t++])>=0))throw Error("Invalid block size");if(Ke===0)break;t+=Ke}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var Be=e[t++]|e[t++]<<8,Ie=e[t++]|e[t++]<<8,qe=e[t++]|e[t++]<<8,je=e[t++]|e[t++]<<8,ze=e[t++],Ve=ze>>6&1,He=1<<(7&ze)+1,Qe=xe,Je=Te,dn=!1;ze>>7&&(dn=!0,Qe=t,Je=He,t+=3*He);var an=t;for(t++;;){var Ke;if(!((Ke=e[t++])>=0))throw Error("Invalid block size");if(Ke===0)break;t+=Ke}Re.push({x:Be,y:Ie,width:qe,height:je,has_local_palette:dn,palette_offset:Qe,palette_size:Je,data_offset:an,data_length:t-an,transparent_index:De,interlaced:!!Ve,delay:Ue,disposal:ke});break;case 59:Ce=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return Re.length},this.loopCount=function(){return Me},this.frameInfo=function(rn){if(rn<0||rn>=Re.length)throw new Error("Frame index out of range.");return Re[rn]},this.decodeAndBlitFrameBGRA=function(rn,Cn){var Sn=this.frameInfo(rn),fn=Sn.width*Sn.height,gn=new Uint8Array(fn);$t(e,Sn.data_offset,gn,fn);var vn=Sn.palette_offset,pn=Sn.transparent_index;pn===null&&(pn=256);var On=Sn.width,Hn=r-On,Bn=On,Ze=4*(Sn.y*r+Sn.x),Xe=4*((Sn.y+Sn.height)*r+Sn.x),Ye=Ze,en=4*Hn;Sn.interlaced===!0&&(en+=4*r*7);for(var on=8,hn=0,bn=gn.length;hn<bn;++hn){var Ln=gn[hn];if(Bn===0&&(Bn=On,(Ye+=en)>=Xe&&(en=4*Hn+4*r*(on-1),Ye=Ze+(On+Hn)*(on<<1),on>>=1)),Ln===pn)Ye+=4;else{var Vn=e[vn+3*Ln],Wn=e[vn+3*Ln+1],un=e[vn+3*Ln+2];Cn[Ye++]=un,Cn[Ye++]=Wn,Cn[Ye++]=Vn,Cn[Ye++]=255}--Bn}},this.decodeAndBlitFrameRGBA=function(rn,Cn){var Sn=this.frameInfo(rn),fn=Sn.width*Sn.height,gn=new Uint8Array(fn);$t(e,Sn.data_offset,gn,fn);var vn=Sn.palette_offset,pn=Sn.transparent_index;pn===null&&(pn=256);var On=Sn.width,Hn=r-On,Bn=On,Ze=4*(Sn.y*r+Sn.x),Xe=4*((Sn.y+Sn.height)*r+Sn.x),Ye=Ze,en=4*Hn;Sn.interlaced===!0&&(en+=4*r*7);for(var on=8,hn=0,bn=gn.length;hn<bn;++hn){var Ln=gn[hn];if(Bn===0&&(Bn=On,(Ye+=en)>=Xe&&(en=4*Hn+4*r*(on-1),Ye=Ze+(On+Hn)*(on<<1),on>>=1)),Ln===pn)Ye+=4;else{var Vn=e[vn+3*Ln],Wn=e[vn+3*Ln+1],un=e[vn+3*Ln+2];Cn[Ye++]=Vn,Cn[Ye++]=Wn,Cn[Ye++]=un,Cn[Ye++]=255}--Bn}}}function $t(e,t,r,_e){for(var Ae=e[t++],Se=1<<Ae,Ee=Se+1,xe=Ee+1,Te=Ae+1,Ce=(1<<Te)-1,Re=0,Ue=0,De=0,ke=e[t++],Me=new Int32Array(4096),Oe=null;;){for(;Re<16&&ke!==0;)Ue|=e[t++]<<Re,Re+=8,ke===1?ke=e[t++]:--ke;if(Re<Te)break;var Be=Ue&Ce;if(Ue>>=Te,Re-=Te,Be!==Se){if(Be===Ee)break;for(var Ie=Be<xe?Be:Oe,qe=0,je=Ie;je>Se;)je=Me[je]>>8,++qe;var ze=je;if(De+qe+(Ie!==Be?1:0)>_e)return void a.log("Warning, gif stream longer than expected.");r[De++]=ze;var Ve=De+=qe;for(Ie!==Be&&(r[De++]=ze),je=Ie;qe--;)je=Me[je],r[--Ve]=255&je,je>>=8;Oe!==null&&xe<4096&&(Me[xe++]=Oe<<8|ze,xe>=Ce+1&&Te<12&&(++Te,Ce=Ce<<1|1)),Oe=Be}else xe=Ee+1,Ce=(1<<(Te=Ae+1))-1,Oe=null}return De!==_e&&a.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(e){var t,r,_e,Ae,Se,Ee=Math.floor,xe=new Array(64),Te=new Array(64),Ce=new Array(64),Re=new Array(64),Ue=new Array(65535),De=new Array(65535),ke=new Array(64),Me=new Array(64),Oe=[],Be=0,Ie=7,qe=new Array(64),je=new Array(64),ze=new Array(64),Ve=new Array(256),He=new Array(2048),Qe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Je=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],dn=[0,1,2,3,4,5,6,7,8,9,10,11],an=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ke=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],rn=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Cn=[0,1,2,3,4,5,6,7,8,9,10,11],Sn=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function gn(Ze,Xe){for(var Ye=0,en=0,on=new Array,hn=1;hn<=16;hn++){for(var bn=1;bn<=Ze[hn];bn++)on[Xe[en]]=[],on[Xe[en]][0]=Ye,on[Xe[en]][1]=hn,en++,Ye++;Ye*=2}return on}function vn(Ze){for(var Xe=Ze[0],Ye=Ze[1]-1;Ye>=0;)Xe&1<<Ye&&(Be|=1<<Ie),Ye--,--Ie<0&&(Be==255?(pn(255),pn(0)):pn(Be),Ie=7,Be=0)}function pn(Ze){Oe.push(Ze)}function On(Ze){pn(Ze>>8&255),pn(255&Ze)}function Hn(Ze,Xe,Ye,en,on){for(var hn,bn=on[0],Ln=on[240],Vn=function(cn,Pn){var Mn,nn,xn,_n,zn,$n,Yn,jn,Xn,li,oi=0;for(Xn=0;Xn<8;++Xn){Mn=cn[oi],nn=cn[oi+1],xn=cn[oi+2],_n=cn[oi+3],zn=cn[oi+4],$n=cn[oi+5],Yn=cn[oi+6];var Ni=Mn+(jn=cn[oi+7]),Ai=Mn-jn,Li=nn+Yn,Ei=nn-Yn,ui=xn+$n,In=xn-$n,Rn=_n+zn,Un=_n-zn,ti=Ni+Rn,pi=Ni-Rn,Si=Li+ui,fi=Li-ui;cn[oi]=ti+Si,cn[oi+4]=ti-Si;var di=.707106781*(fi+pi);cn[oi+2]=pi+di,cn[oi+6]=pi-di;var wi=.382683433*((ti=Un+In)-(fi=Ei+Ai)),Ri=.5411961*ti+wi,Fi=1.306562965*fi+wi,Oi=.707106781*(Si=In+Ei),Ii=Ai+Oi,xi=Ai-Oi;cn[oi+5]=xi+Ri,cn[oi+3]=xi-Ri,cn[oi+1]=Ii+Fi,cn[oi+7]=Ii-Fi,oi+=8}for(oi=0,Xn=0;Xn<8;++Xn){Mn=cn[oi],nn=cn[oi+8],xn=cn[oi+16],_n=cn[oi+24],zn=cn[oi+32],$n=cn[oi+40],Yn=cn[oi+48];var Bi=Mn+(jn=cn[oi+56]),Qi=Mn-jn,Xi=nn+Yn,Hi=nn-Yn,Ui=xn+$n,ir=xn-$n,tr=_n+zn,Ji=_n-zn,Yi=Bi+tr,rr=Bi-tr,vr=Xi+Ui,Jr=Xi-Ui;cn[oi]=Yi+vr,cn[oi+32]=Yi-vr;var Mr=.707106781*(Jr+rr);cn[oi+16]=rr+Mr,cn[oi+48]=rr-Mr;var Qr=.382683433*((Yi=Ji+ir)-(Jr=Hi+Qi)),Ns=.5411961*Yi+Qr,Ds=1.306562965*Jr+Qr,Bs=.707106781*(vr=ir+Hi),js=Qi+Bs,Us=Qi-Bs;cn[oi+40]=Us+Ns,cn[oi+24]=Us-Ns,cn[oi+8]=js+Ds,cn[oi+56]=js-Ds,oi++}for(Xn=0;Xn<64;++Xn)li=cn[Xn]*Pn[Xn],ke[Xn]=li>0?li+.5|0:li-.5|0;return ke}(Ze,Xe),Wn=0;Wn<64;++Wn)Me[Qe[Wn]]=Vn[Wn];var un=Me[0]-Ye;Ye=Me[0],un==0?vn(en[0]):(vn(en[De[hn=32767+un]]),vn(Ue[hn]));for(var mn=63;mn>0&&Me[mn]==0;)mn--;if(mn==0)return vn(bn),Ye;for(var St,tn=1;tn<=mn;){for(var $e=tn;Me[tn]==0&&tn<=mn;)++tn;var yn=tn-$e;if(yn>=16){St=yn>>4;for(var En=1;En<=St;++En)vn(Ln);yn&=15}hn=32767+Me[tn],vn(on[(yn<<4)+De[hn]]),vn(Ue[hn]),tn++}return mn!=63&&vn(bn),Ye}function Bn(Ze){Ze=Math.min(Math.max(Ze,1),100),Se!=Ze&&(function(Xe){for(var Ye=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],en=0;en<64;en++){var on=Ee((Ye[en]*Xe+50)/100);on=Math.min(Math.max(on,1),255),xe[Qe[en]]=on}for(var hn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],bn=0;bn<64;bn++){var Ln=Ee((hn[bn]*Xe+50)/100);Ln=Math.min(Math.max(Ln,1),255),Te[Qe[bn]]=Ln}for(var Vn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Wn=0,un=0;un<8;un++)for(var mn=0;mn<8;mn++)Ce[Wn]=1/(xe[Qe[Wn]]*Vn[un]*Vn[mn]*8),Re[Wn]=1/(Te[Qe[Wn]]*Vn[un]*Vn[mn]*8),Wn++}(Ze<50?Math.floor(5e3/Ze):Math.floor(200-2*Ze)),Se=Ze)}this.encode=function(Ze,Xe){Xe&&Bn(Xe),Oe=new Array,Be=0,Ie=7,On(65496),On(65504),On(16),pn(74),pn(70),pn(73),pn(70),pn(0),pn(1),pn(1),pn(0),On(1),On(1),pn(0),pn(0),function(){On(65499),On(132),pn(0);for(var nn=0;nn<64;nn++)pn(xe[nn]);pn(1);for(var xn=0;xn<64;xn++)pn(Te[xn])}(),function(nn,xn){On(65472),On(17),pn(8),On(xn),On(nn),pn(3),pn(1),pn(17),pn(0),pn(2),pn(17),pn(1),pn(3),pn(17),pn(1)}(Ze.width,Ze.height),function(){On(65476),On(418),pn(0);for(var nn=0;nn<16;nn++)pn(Je[nn+1]);for(var xn=0;xn<=11;xn++)pn(dn[xn]);pn(16);for(var _n=0;_n<16;_n++)pn(an[_n+1]);for(var zn=0;zn<=161;zn++)pn(Ke[zn]);pn(1);for(var $n=0;$n<16;$n++)pn(rn[$n+1]);for(var Yn=0;Yn<=11;Yn++)pn(Cn[Yn]);pn(17);for(var jn=0;jn<16;jn++)pn(Sn[jn+1]);for(var Xn=0;Xn<=161;Xn++)pn(fn[Xn])}(),On(65498),On(12),pn(3),pn(1),pn(0),pn(2),pn(17),pn(3),pn(17),pn(0),pn(63),pn(0);var Ye=0,en=0,on=0;Be=0,Ie=7,this.encode.displayName="_encode_";for(var hn,bn,Ln,Vn,Wn,un,mn,St,tn,$e=Ze.data,yn=Ze.width,En=Ze.height,cn=4*yn,Pn=0;Pn<En;){for(hn=0;hn<cn;){for(Wn=cn*Pn+hn,mn=-1,St=0,tn=0;tn<64;tn++)un=Wn+(St=tn>>3)*cn+(mn=4*(7&tn)),Pn+St>=En&&(un-=cn*(Pn+1+St-En)),hn+mn>=cn&&(un-=hn+mn-cn+4),bn=$e[un++],Ln=$e[un++],Vn=$e[un++],qe[tn]=(He[bn]+He[Ln+256>>0]+He[Vn+512>>0]>>16)-128,je[tn]=(He[bn+768>>0]+He[Ln+1024>>0]+He[Vn+1280>>0]>>16)-128,ze[tn]=(He[bn+1280>>0]+He[Ln+1536>>0]+He[Vn+1792>>0]>>16)-128;Ye=Hn(qe,Ce,Ye,t,_e),en=Hn(je,Re,en,r,Ae),on=Hn(ze,Re,on,r,Ae),hn+=32}Pn+=8}if(Ie>=0){var Mn=[];Mn[1]=Ie+1,Mn[0]=(1<<Ie+1)-1,vn(Mn)}return On(65497),new Uint8Array(Oe)},e=e||50,function(){for(var Ze=String.fromCharCode,Xe=0;Xe<256;Xe++)Ve[Xe]=Ze(Xe)}(),t=gn(Je,dn),r=gn(rn,Cn),_e=gn(an,Ke),Ae=gn(Sn,fn),function(){for(var Ze=1,Xe=2,Ye=1;Ye<=15;Ye++){for(var en=Ze;en<Xe;en++)De[32767+en]=Ye,Ue[32767+en]=[],Ue[32767+en][1]=Ye,Ue[32767+en][0]=en;for(var on=-(Xe-1);on<=-Ze;on++)De[32767+on]=Ye,Ue[32767+on]=[],Ue[32767+on][1]=Ye,Ue[32767+on][0]=Xe-1+on;Ze<<=1,Xe<<=1}}(),function(){for(var Ze=0;Ze<256;Ze++)He[Ze]=19595*Ze,He[Ze+256>>0]=38470*Ze,He[Ze+512>>0]=7471*Ze+32768,He[Ze+768>>0]=-11059*Ze,He[Ze+1024>>0]=-21709*Ze,He[Ze+1280>>0]=32768*Ze+8421375,He[Ze+1536>>0]=-27439*Ze,He[Ze+1792>>0]=-5329*Ze}(),Bn(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(e){function t(Je){if(!Je)throw Error("assert :P")}function r(Je,dn,an){for(var Ke=0;4>Ke;Ke++)if(Je[dn+Ke]!=an.charCodeAt(Ke))return!0;return!1}function _e(Je,dn,an,Ke,rn){for(var Cn=0;Cn<rn;Cn++)Je[dn+Cn]=an[Ke+Cn]}function Ae(Je,dn,an,Ke){for(var rn=0;rn<Ke;rn++)Je[dn+rn]=an}function Se(Je){return new Int32Array(Je)}function Ee(Je,dn){for(var an=[],Ke=0;Ke<Je;Ke++)an.push(new dn);return an}function xe(Je,dn){var an=[];return function Ke(rn,Cn,Sn){for(var fn=Sn[Cn],gn=0;gn<fn&&(rn.push(Sn.length>Cn+1?[]:new dn),!(Sn.length<Cn+1));gn++)Ke(rn[gn],Cn+1,Sn)}(an,0,Je),an}var Te=function(){var Je=this;function dn(Pe,Fe){for(var Ge=1<<Fe-1>>>0;Pe&Ge;)Ge>>>=1;return Ge?(Pe&Ge-1)+Ge:Pe}function an(Pe,Fe,Ge,sn,An){t(!(sn%Ge));do Pe[Fe+(sn-=Ge)]=An;while(0<sn)}function Ke(Pe,Fe,Ge,sn,An){if(t(2328>=An),512>=An)var Tn=Se(512);else if((Tn=Se(An))==null)return 0;return function(kn,Fn,Dn,qn,Jn,si){var ai,ni,vi=Fn,ci=1<<Dn,Qn=Se(16),Zn=Se(16);for(t(Jn!=0),t(qn!=null),t(kn!=null),t(0<Dn),ni=0;ni<Jn;++ni){if(15<qn[ni])return 0;++Qn[qn[ni]]}if(Qn[0]==Jn)return 0;for(Zn[1]=0,ai=1;15>ai;++ai){if(Qn[ai]>1<<ai)return 0;Zn[ai+1]=Zn[ai]+Qn[ai]}for(ni=0;ni<Jn;++ni)ai=qn[ni],0<qn[ni]&&(si[Zn[ai]++]=ni);if(Zn[15]==1)return(qn=new rn).g=0,qn.value=si[0],an(kn,vi,1,ci,qn),ci;var gi,yi=-1,mi=ci-1,ki=0,Pi=1,Di=1,Ci=1<<Dn;for(ni=0,ai=1,Jn=2;ai<=Dn;++ai,Jn<<=1){if(Pi+=Di<<=1,0>(Di-=Qn[ai]))return 0;for(;0<Qn[ai];--Qn[ai])(qn=new rn).g=ai,qn.value=si[ni++],an(kn,vi+ki,Jn,Ci,qn),ki=dn(ki,ai)}for(ai=Dn+1,Jn=2;15>=ai;++ai,Jn<<=1){if(Pi+=Di<<=1,0>(Di-=Qn[ai]))return 0;for(;0<Qn[ai];--Qn[ai]){if(qn=new rn,(ki&mi)!=yi){for(vi+=Ci,gi=1<<(yi=ai)-Dn;15>yi&&!(0>=(gi-=Qn[yi]));)++yi,gi<<=1;ci+=Ci=1<<(gi=yi-Dn),kn[Fn+(yi=ki&mi)].g=gi+Dn,kn[Fn+yi].value=vi-Fn-yi}qn.g=ai-Dn,qn.value=si[ni++],an(kn,vi+(ki>>Dn),Jn,Ci,qn),ki=dn(ki,ai)}}return Pi!=2*Zn[15]-1?0:ci}(Pe,Fe,Ge,sn,An,Tn)}function rn(){this.value=this.g=0}function Cn(){this.value=this.g=0}function Sn(){this.G=Ee(5,rn),this.H=Se(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ee(Cr,Cn)}function fn(Pe,Fe,Ge,sn){t(Pe!=null),t(Fe!=null),t(2147483648>sn),Pe.Ca=254,Pe.I=0,Pe.b=-8,Pe.Ka=0,Pe.oa=Fe,Pe.pa=Ge,Pe.Jd=Fe,Pe.Yc=Ge+sn,Pe.Zc=4<=sn?Ge+sn-4+1:Ge,hn(Pe)}function gn(Pe,Fe){for(var Ge=0;0<Fe--;)Ge|=Ln(Pe,128)<<Fe;return Ge}function vn(Pe,Fe){var Ge=gn(Pe,Fe);return bn(Pe)?-Ge:Ge}function pn(Pe,Fe,Ge,sn){var An,Tn=0;for(t(Pe!=null),t(Fe!=null),t(4294967288>sn),Pe.Sb=sn,Pe.Ra=0,Pe.u=0,Pe.h=0,4<sn&&(sn=4),An=0;An<sn;++An)Tn+=Fe[Ge+An]<<8*An;Pe.Ra=Tn,Pe.bb=sn,Pe.oa=Fe,Pe.pa=Ge}function On(Pe){for(;8<=Pe.u&&Pe.bb<Pe.Sb;)Pe.Ra>>>=8,Pe.Ra+=Pe.oa[Pe.pa+Pe.bb]<<ta-8>>>0,++Pe.bb,Pe.u-=8;Ye(Pe)&&(Pe.h=1,Pe.u=0)}function Hn(Pe,Fe){if(t(0<=Fe),!Pe.h&&Fe<=ea){var Ge=Xe(Pe)&Zs[Fe];return Pe.u+=Fe,On(Pe),Ge}return Pe.h=1,Pe.u=0}function Bn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Ze(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Xe(Pe){return Pe.Ra>>>(Pe.u&ta-1)>>>0}function Ye(Pe){return t(Pe.bb<=Pe.Sb),Pe.h||Pe.bb==Pe.Sb&&Pe.u>ta}function en(Pe,Fe){Pe.u=Fe,Pe.h=Ye(Pe)}function on(Pe){Pe.u>=Ra&&(t(Pe.u>=Ra),On(Pe))}function hn(Pe){t(Pe!=null&&Pe.oa!=null),Pe.pa<Pe.Zc?(Pe.I=(Pe.oa[Pe.pa++]|Pe.I<<8)>>>0,Pe.b+=8):(t(Pe!=null&&Pe.oa!=null),Pe.pa<Pe.Yc?(Pe.b+=8,Pe.I=Pe.oa[Pe.pa++]|Pe.I<<8):Pe.Ka?Pe.b=0:(Pe.I<<=8,Pe.b+=8,Pe.Ka=1))}function bn(Pe){return gn(Pe,1)}function Ln(Pe,Fe){var Ge=Pe.Ca;0>Pe.b&&hn(Pe);var sn=Pe.b,An=Ge*Fe>>>8,Tn=(Pe.I>>>sn>An)+0;for(Tn?(Ge-=An,Pe.I-=An+1<<sn>>>0):Ge=An+1,sn=Ge,An=0;256<=sn;)An+=8,sn>>=8;return sn=7^An+Lr[sn],Pe.b-=sn,Pe.Ca=(Ge<<sn)-1,Tn}function Vn(Pe,Fe,Ge){Pe[Fe+0]=Ge>>24&255,Pe[Fe+1]=Ge>>16&255,Pe[Fe+2]=Ge>>8&255,Pe[Fe+3]=Ge>>0&255}function Wn(Pe,Fe){return Pe[Fe+0]<<0|Pe[Fe+1]<<8}function un(Pe,Fe){return Wn(Pe,Fe)|Pe[Fe+2]<<16}function mn(Pe,Fe){return Wn(Pe,Fe)|Wn(Pe,Fe+2)<<16}function St(Pe,Fe){var Ge=1<<Fe;return t(Pe!=null),t(0<Fe),Pe.X=Se(Ge),Pe.X==null?0:(Pe.Mb=32-Fe,Pe.Xa=Fe,1)}function tn(Pe,Fe){t(Pe!=null),t(Fe!=null),t(Pe.Xa==Fe.Xa),_e(Fe.X,0,Pe.X,0,1<<Fe.Xa)}function $e(){this.X=[],this.Xa=this.Mb=0}function yn(Pe,Fe,Ge,sn){t(Ge!=null),t(sn!=null);var An=Ge[0],Tn=sn[0];return An==0&&(An=(Pe*Tn+Fe/2)/Fe),Tn==0&&(Tn=(Fe*An+Pe/2)/Pe),0>=An||0>=Tn?0:(Ge[0]=An,sn[0]=Tn,1)}function En(Pe,Fe){return Pe+(1<<Fe)-1>>>Fe}function cn(Pe,Fe){return((4278255360&Pe)+(4278255360&Fe)>>>0&4278255360)+((16711935&Pe)+(16711935&Fe)>>>0&16711935)>>>0}function Pn(Pe,Fe){Je[Fe]=function(Ge,sn,An,Tn,kn,Fn,Dn){var qn;for(qn=0;qn<kn;++qn){var Jn=Je[Pe](Fn[Dn+qn-1],An,Tn+qn);Fn[Dn+qn]=cn(Ge[sn+qn],Jn)}}}function Mn(){this.ud=this.hd=this.jd=0}function nn(Pe,Fe){return((4278124286&(Pe^Fe))>>>1)+(Pe&Fe)>>>0}function xn(Pe){return 0<=Pe&&256>Pe?Pe:0>Pe?0:255<Pe?255:void 0}function _n(Pe,Fe){return xn(Pe+(Pe-Fe+.5>>1))}function zn(Pe,Fe,Ge){return Math.abs(Fe-Ge)-Math.abs(Pe-Ge)}function $n(Pe,Fe,Ge,sn,An,Tn,kn){for(sn=Tn[kn-1],Ge=0;Ge<An;++Ge)Tn[kn+Ge]=sn=cn(Pe[Fe+Ge],sn)}function Yn(Pe,Fe,Ge,sn,An){var Tn;for(Tn=0;Tn<Ge;++Tn){var kn=Pe[Fe+Tn],Fn=kn>>8&255,Dn=16711935&(Dn=(Dn=16711935&kn)+((Fn<<16)+Fn));sn[An+Tn]=(4278255360&kn)+Dn>>>0}}function jn(Pe,Fe){Fe.jd=Pe>>0&255,Fe.hd=Pe>>8&255,Fe.ud=Pe>>16&255}function Xn(Pe,Fe,Ge,sn,An,Tn){var kn;for(kn=0;kn<sn;++kn){var Fn=Fe[Ge+kn],Dn=Fn>>>8,qn=Fn,Jn=255&(Jn=(Jn=Fn>>>16)+((Pe.jd<<24>>24)*(Dn<<24>>24)>>>5));qn=255&(qn=(qn=qn+((Pe.hd<<24>>24)*(Dn<<24>>24)>>>5))+((Pe.ud<<24>>24)*(Jn<<24>>24)>>>5)),An[Tn+kn]=(4278255360&Fn)+(Jn<<16)+qn}}function li(Pe,Fe,Ge,sn,An){Je[Fe]=function(Tn,kn,Fn,Dn,qn,Jn,si,ai,ni){for(Dn=si;Dn<ai;++Dn)for(si=0;si<ni;++si)qn[Jn++]=An(Fn[sn(Tn[kn++])])},Je[Pe]=function(Tn,kn,Fn,Dn,qn,Jn,si){var ai=8>>Tn.b,ni=Tn.Ea,vi=Tn.K[0],ci=Tn.w;if(8>ai)for(Tn=(1<<Tn.b)-1,ci=(1<<ai)-1;kn<Fn;++kn){var Qn,Zn=0;for(Qn=0;Qn<ni;++Qn)Qn&Tn||(Zn=sn(Dn[qn++])),Jn[si++]=An(vi[Zn&ci]),Zn>>=ai}else Je["VP8LMapColor"+Ge](Dn,qn,vi,ci,Jn,si,kn,Fn,ni)}}function oi(Pe,Fe,Ge,sn,An){for(Ge=Fe+Ge;Fe<Ge;){var Tn=Pe[Fe++];sn[An++]=Tn>>16&255,sn[An++]=Tn>>8&255,sn[An++]=Tn>>0&255}}function Ni(Pe,Fe,Ge,sn,An){for(Ge=Fe+Ge;Fe<Ge;){var Tn=Pe[Fe++];sn[An++]=Tn>>16&255,sn[An++]=Tn>>8&255,sn[An++]=Tn>>0&255,sn[An++]=Tn>>24&255}}function Ai(Pe,Fe,Ge,sn,An){for(Ge=Fe+Ge;Fe<Ge;){var Tn=(kn=Pe[Fe++])>>16&240|kn>>12&15,kn=kn>>0&240|kn>>28&15;sn[An++]=Tn,sn[An++]=kn}}function Li(Pe,Fe,Ge,sn,An){for(Ge=Fe+Ge;Fe<Ge;){var Tn=(kn=Pe[Fe++])>>16&248|kn>>13&7,kn=kn>>5&224|kn>>3&31;sn[An++]=Tn,sn[An++]=kn}}function Ei(Pe,Fe,Ge,sn,An){for(Ge=Fe+Ge;Fe<Ge;){var Tn=Pe[Fe++];sn[An++]=Tn>>0&255,sn[An++]=Tn>>8&255,sn[An++]=Tn>>16&255}}function ui(Pe,Fe,Ge,sn,An,Tn){if(Tn==0)for(Ge=Fe+Ge;Fe<Ge;)Vn(sn,((Tn=Pe[Fe++])[0]>>24|Tn[1]>>8&65280|Tn[2]<<8&16711680|Tn[3]<<24)>>>0),An+=32;else _e(sn,An,Pe,Fe,Ge)}function In(Pe,Fe){Je[Fe][0]=Je[Pe+"0"],Je[Fe][1]=Je[Pe+"1"],Je[Fe][2]=Je[Pe+"2"],Je[Fe][3]=Je[Pe+"3"],Je[Fe][4]=Je[Pe+"4"],Je[Fe][5]=Je[Pe+"5"],Je[Fe][6]=Je[Pe+"6"],Je[Fe][7]=Je[Pe+"7"],Je[Fe][8]=Je[Pe+"8"],Je[Fe][9]=Je[Pe+"9"],Je[Fe][10]=Je[Pe+"10"],Je[Fe][11]=Je[Pe+"11"],Je[Fe][12]=Je[Pe+"12"],Je[Fe][13]=Je[Pe+"13"],Je[Fe][14]=Je[Pe+"0"],Je[Fe][15]=Je[Pe+"0"]}function Rn(Pe){return Pe==_l||Pe==Al||Pe==wo||Pe==wl}function Un(){this.eb=[],this.size=this.A=this.fb=0}function ti(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Un,this.f.kb=new ti,this.sd=null}function Si(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function di(Pe){return alert("todo:WebPSamplerProcessPlane"),Pe.T}function wi(Pe,Fe){var Ge=Pe.T,sn=Fe.ba.f.RGBA,An=sn.eb,Tn=sn.fb+Pe.ka*sn.A,kn=jr[Fe.ba.S],Fn=Pe.y,Dn=Pe.O,qn=Pe.f,Jn=Pe.N,si=Pe.ea,ai=Pe.W,ni=Fe.cc,vi=Fe.dc,ci=Fe.Mc,Qn=Fe.Nc,Zn=Pe.ka,gi=Pe.ka+Pe.T,yi=Pe.U,mi=yi+1>>1;for(Zn==0?kn(Fn,Dn,null,null,qn,Jn,si,ai,qn,Jn,si,ai,An,Tn,null,null,yi):(kn(Fe.ec,Fe.fc,Fn,Dn,ni,vi,ci,Qn,qn,Jn,si,ai,An,Tn-sn.A,An,Tn,yi),++Ge);Zn+2<gi;Zn+=2)ni=qn,vi=Jn,ci=si,Qn=ai,Jn+=Pe.Rc,ai+=Pe.Rc,Tn+=2*sn.A,kn(Fn,(Dn+=2*Pe.fa)-Pe.fa,Fn,Dn,ni,vi,ci,Qn,qn,Jn,si,ai,An,Tn-sn.A,An,Tn,yi);return Dn+=Pe.fa,Pe.j+gi<Pe.o?(_e(Fe.ec,Fe.fc,Fn,Dn,yi),_e(Fe.cc,Fe.dc,qn,Jn,mi),_e(Fe.Mc,Fe.Nc,si,ai,mi),Ge--):1&gi||kn(Fn,Dn,null,null,qn,Jn,si,ai,qn,Jn,si,ai,An,Tn+sn.A,null,null,yi),Ge}function Ri(Pe,Fe,Ge){var sn=Pe.F,An=[Pe.J];if(sn!=null){var Tn=Pe.U,kn=Fe.ba.S,Fn=kn==Ao||kn==wo;Fe=Fe.ba.f.RGBA;var Dn=[0],qn=Pe.ka;Dn[0]=Pe.T,Pe.Kb&&(qn==0?--Dn[0]:(--qn,An[0]-=Pe.width),Pe.j+Pe.ka+Pe.T==Pe.o&&(Dn[0]=Pe.o-Pe.j-qn));var Jn=Fe.eb;qn=Fe.fb+qn*Fe.A,Pe=mo(sn,An[0],Pe.width,Tn,Dn,Jn,qn+(Fn?0:3),Fe.A),t(Ge==Dn),Pe&&Rn(kn)&&As(Jn,qn,Fn,Tn,Dn,Fe.A)}return 0}function Fi(Pe){var Fe=Pe.ma,Ge=Fe.ba.S,sn=11>Ge,An=Ge==yo||Ge==_o||Ge==Ao||Ge==yl||Ge==12||Rn(Ge);if(Fe.memory=null,Fe.Ib=null,Fe.Jb=null,Fe.Nd=null,!Ta(Fe.Oa,Pe,An?11:12))return 0;if(An&&Rn(Ge)&&_i(),Pe.da)alert("todo:use_scaling");else{if(sn){if(Fe.Ib=di,Pe.Kb){if(Ge=Pe.U+1>>1,Fe.memory=Se(Pe.U+2*Ge),Fe.memory==null)return 0;Fe.ec=Fe.memory,Fe.fc=0,Fe.cc=Fe.ec,Fe.dc=Fe.fc+Pe.U,Fe.Mc=Fe.cc,Fe.Nc=Fe.dc+Ge,Fe.Ib=wi,_i()}}else alert("todo:EmitYUV");An&&(Fe.Jb=Ri,sn&&ri())}if(sn&&!Lc){for(Pe=0;256>Pe;++Pe)Ju[Pe]=89858*(Pe-128)+xo>>So,eh[Pe]=-22014*(Pe-128)+xo,Zu[Pe]=-45773*(Pe-128),Qu[Pe]=113618*(Pe-128)+xo>>So;for(Pe=Ba;Pe<El;++Pe)Fe=76283*(Pe-16)+xo>>So,th[Pe-Ba]=kr(Fe,255),nh[Pe-Ba]=kr(Fe+8>>4,15);Lc=1}return 1}function Oi(Pe){var Fe=Pe.ma,Ge=Pe.U,sn=Pe.T;return t(!(1&Pe.ka)),0>=Ge||0>=sn?0:(Ge=Fe.Ib(Pe,Fe),Fe.Jb!=null&&Fe.Jb(Pe,Fe,Ge),Fe.Dc+=Ge,1)}function Ii(Pe){Pe.ma.memory=null}function xi(Pe,Fe,Ge,sn){return Hn(Pe,8)!=47?0:(Fe[0]=Hn(Pe,14)+1,Ge[0]=Hn(Pe,14)+1,sn[0]=Hn(Pe,1),Hn(Pe,3)!=0?0:!Pe.h)}function Bi(Pe,Fe){if(4>Pe)return Pe+1;var Ge=Pe-2>>1;return(2+(1&Pe)<<Ge)+Hn(Fe,Ge)+1}function Qi(Pe,Fe){return 120<Fe?Fe-120:1<=(Ge=((Ge=Du[Fe-1])>>4)*Pe+(8-(15&Ge)))?Ge:1;var Ge}function Xi(Pe,Fe,Ge){var sn=Xe(Ge),An=Pe[Fe+=255&sn].g-8;return 0<An&&(en(Ge,Ge.u+8),sn=Xe(Ge),Fe+=Pe[Fe].value,Fe+=sn&(1<<An)-1),en(Ge,Ge.u+Pe[Fe].g),Pe[Fe].value}function Hi(Pe,Fe,Ge){return Ge.g+=Pe.g,Ge.value+=Pe.value<<Fe>>>0,t(8>=Ge.g),Pe.g}function Ui(Pe,Fe,Ge){var sn=Pe.xc;return t((Fe=sn==0?0:Pe.vc[Pe.md*(Ge>>sn)+(Fe>>sn)])<Pe.Wb),Pe.Ya[Fe]}function ir(Pe,Fe,Ge,sn){var An=Pe.ab,Tn=Pe.c*Fe,kn=Pe.C;Fe=kn+Fe;var Fn=Ge,Dn=sn;for(sn=Pe.Ta,Ge=Pe.Ua;0<An--;){var qn=Pe.gc[An],Jn=kn,si=Fe,ai=Fn,ni=Dn,vi=(Dn=sn,Fn=Ge,qn.Ea);switch(t(Jn<si),t(si<=qn.nc),qn.hc){case 2:go(ai,ni,(si-Jn)*vi,Dn,Fn);break;case 0:var ci=Jn,Qn=si,Zn=Dn,gi=Fn,yi=(Ci=qn).Ea;ci==0&&(gl(ai,ni,null,null,1,Zn,gi),$n(ai,ni+1,0,0,yi-1,Zn,gi+1),ni+=yi,gi+=yi,++ci);for(var mi=1<<Ci.b,ki=mi-1,Pi=En(yi,Ci.b),Di=Ci.K,Ci=Ci.w+(ci>>Ci.b)*Pi;ci<Qn;){var Ki=Di,Zi=Ci,$i=1;for(Ia(ai,ni,Zn,gi-yi,1,Zn,gi);$i<yi;){var Wi=($i&~ki)+mi;Wi>yi&&(Wi=yi),(0,vs[Ki[Zi++]>>8&15])(ai,ni+ +$i,Zn,gi+$i-yi,Wi-$i,Zn,gi+$i),$i=Wi}ni+=yi,gi+=yi,++ci&ki||(Ci+=Pi)}si!=qn.nc&&_e(Dn,Fn-vi,Dn,Fn+(si-Jn-1)*vi,vi);break;case 1:for(vi=ai,Qn=ni,yi=(ai=qn.Ea)-(gi=ai&~(Zn=(ni=1<<qn.b)-1)),ci=En(ai,qn.b),mi=qn.K,qn=qn.w+(Jn>>qn.b)*ci;Jn<si;){for(ki=mi,Pi=qn,Di=new Mn,Ci=Qn+gi,Ki=Qn+ai;Qn<Ci;)jn(ki[Pi++],Di),Or(Di,vi,Qn,ni,Dn,Fn),Qn+=ni,Fn+=ni;Qn<Ki&&(jn(ki[Pi++],Di),Or(Di,vi,Qn,yi,Dn,Fn),Qn+=yi,Fn+=yi),++Jn&Zn||(qn+=ci)}break;case 3:if(ai==Dn&&ni==Fn&&0<qn.b){for(Qn=Dn,ai=vi=Fn+(si-Jn)*vi-(gi=(si-Jn)*En(qn.Ea,qn.b)),ni=Dn,Zn=Fn,ci=[],gi=(yi=gi)-1;0<=gi;--gi)ci[gi]=ni[Zn+gi];for(gi=yi-1;0<=gi;--gi)Qn[ai+gi]=ci[gi];Wr(qn,Jn,si,Dn,vi,Dn,Fn)}else Wr(qn,Jn,si,ai,ni,Dn,Fn)}Fn=sn,Dn=Ge}Dn!=Ge&&_e(sn,Ge,Fn,Dn,Tn)}function tr(Pe,Fe){var Ge=Pe.V,sn=Pe.Ba+Pe.c*Pe.C,An=Fe-Pe.C;if(t(Fe<=Pe.l.o),t(16>=An),0<An){var Tn=Pe.l,kn=Pe.Ta,Fn=Pe.Ua,Dn=Tn.width;if(ir(Pe,An,Ge,sn),An=Fn=[Fn],t((Ge=Pe.C)<(sn=Fe)),t(Tn.v<Tn.va),sn>Tn.o&&(sn=Tn.o),Ge<Tn.j){var qn=Tn.j-Ge;Ge=Tn.j,An[0]+=qn*Dn}if(Ge>=sn?Ge=0:(An[0]+=4*Tn.v,Tn.ka=Ge-Tn.j,Tn.U=Tn.va-Tn.v,Tn.T=sn-Ge,Ge=1),Ge){if(Fn=Fn[0],11>(Ge=Pe.ca).S){var Jn=Ge.f.RGBA,si=(sn=Ge.S,An=Tn.U,Tn=Tn.T,qn=Jn.eb,Jn.A),ai=Tn;for(Jn=Jn.fb+Pe.Ma*Jn.A;0<ai--;){var ni=kn,vi=Fn,ci=An,Qn=qn,Zn=Jn;switch(sn){case bo:Gr(ni,vi,ci,Qn,Zn);break;case yo:bs(ni,vi,ci,Qn,Zn);break;case _l:bs(ni,vi,ci,Qn,Zn),As(Qn,Zn,0,ci,1,0);break;case bc:na(ni,vi,ci,Qn,Zn);break;case _o:ui(ni,vi,ci,Qn,Zn,1);break;case Al:ui(ni,vi,ci,Qn,Zn,1),As(Qn,Zn,0,ci,1,0);break;case Ao:ui(ni,vi,ci,Qn,Zn,0);break;case wo:ui(ni,vi,ci,Qn,Zn,0),As(Qn,Zn,1,ci,1,0);break;case yl:es(ni,vi,ci,Qn,Zn);break;case wl:es(ni,vi,ci,Qn,Zn),sa(Qn,Zn,ci,1,0);break;case yc:as(ni,vi,ci,Qn,Zn);break;default:t(0)}Fn+=Dn,Jn+=si}Pe.Ma+=Tn}else alert("todo:EmitRescaledRowsYUVA");t(Pe.Ma<=Ge.height)}}Pe.C=Fe,t(Pe.C<=Pe.i)}function Ji(Pe){var Fe;if(0<Pe.ua)return 0;for(Fe=0;Fe<Pe.Wb;++Fe){var Ge=Pe.Ya[Fe].G,sn=Pe.Ya[Fe].H;if(0<Ge[1][sn[1]+0].g||0<Ge[2][sn[2]+0].g||0<Ge[3][sn[3]+0].g)return 0}return 1}function Yi(Pe,Fe,Ge,sn,An,Tn){if(Pe.Z!=0){var kn=Pe.qd,Fn=Pe.rd;for(t(Ss[Pe.Z]!=null);Fe<Ge;++Fe)Ss[Pe.Z](kn,Fn,sn,An,sn,An,Tn),kn=sn,Fn=An,An+=Tn;Pe.qd=kn,Pe.rd=Fn}}function rr(Pe,Fe){var Ge=Pe.l.ma,sn=Ge.Z==0||Ge.Z==1?Pe.l.j:Pe.C;if(sn=Pe.C<sn?sn:Pe.C,t(Fe<=Pe.l.o),Fe>sn){var An=Pe.l.width,Tn=Ge.ca,kn=Ge.tb+An*sn,Fn=Pe.V,Dn=Pe.Ba+Pe.c*sn,qn=Pe.gc;t(Pe.ab==1),t(qn[0].hc==3),ml(qn[0],sn,Fe,Fn,Dn,Tn,kn),Yi(Ge,sn,Fe,Tn,kn,An)}Pe.C=Pe.Ma=Fe}function vr(Pe,Fe,Ge,sn,An,Tn,kn){var Fn=Pe.$/sn,Dn=Pe.$%sn,qn=Pe.m,Jn=Pe.s,si=Ge+Pe.$,ai=si;An=Ge+sn*An;var ni=Ge+sn*Tn,vi=280+Jn.ua,ci=Pe.Pb?Fn:16777216,Qn=0<Jn.ua?Jn.Wa:null,Zn=Jn.wc,gi=si<ni?Ui(Jn,Dn,Fn):null;t(Pe.C<Tn),t(ni<=An);var yi=!1;e:for(;;){for(;yi||si<ni;){var mi=0;if(Fn>=ci){var ki=si-Ge;t((ci=Pe).Pb),ci.wd=ci.m,ci.xd=ki,0<ci.s.ua&&tn(ci.s.Wa,ci.s.vb),ci=Fn+ju}if(Dn&Zn||(gi=Ui(Jn,Dn,Fn)),t(gi!=null),gi.Qb&&(Fe[si]=gi.qb,yi=!0),!yi)if(on(qn),gi.jc){mi=qn,ki=Fe;var Pi=si,Di=gi.pd[Xe(mi)&Cr-1];t(gi.jc),256>Di.g?(en(mi,mi.u+Di.g),ki[Pi]=Di.value,mi=0):(en(mi,mi.u+Di.g-256),t(256<=Di.value),mi=Di.value),mi==0&&(yi=!0)}else mi=Xi(gi.G[0],gi.H[0],qn);if(qn.h)break;if(yi||256>mi){if(!yi)if(gi.nd)Fe[si]=(gi.qb|mi<<8)>>>0;else{if(on(qn),yi=Xi(gi.G[1],gi.H[1],qn),on(qn),ki=Xi(gi.G[2],gi.H[2],qn),Pi=Xi(gi.G[3],gi.H[3],qn),qn.h)break;Fe[si]=(Pi<<24|yi<<16|mi<<8|ki)>>>0}if(yi=!1,++si,++Dn>=sn&&(Dn=0,++Fn,kn!=null&&Fn<=Tn&&!(Fn%16)&&kn(Pe,Fn),Qn!=null))for(;ai<si;)mi=Fe[ai++],Qn.X[(506832829*mi&4294967295)>>>Qn.Mb]=mi}else if(280>mi){if(mi=Bi(mi-256,qn),ki=Xi(gi.G[4],gi.H[4],qn),on(qn),ki=Qi(sn,ki=Bi(ki,qn)),qn.h)break;if(si-Ge<ki||An-si<mi)break e;for(Pi=0;Pi<mi;++Pi)Fe[si+Pi]=Fe[si+Pi-ki];for(si+=mi,Dn+=mi;Dn>=sn;)Dn-=sn,++Fn,kn!=null&&Fn<=Tn&&!(Fn%16)&&kn(Pe,Fn);if(t(si<=An),Dn&Zn&&(gi=Ui(Jn,Dn,Fn)),Qn!=null)for(;ai<si;)mi=Fe[ai++],Qn.X[(506832829*mi&4294967295)>>>Qn.Mb]=mi}else{if(!(mi<vi))break e;for(yi=mi-280,t(Qn!=null);ai<si;)mi=Fe[ai++],Qn.X[(506832829*mi&4294967295)>>>Qn.Mb]=mi;mi=si,t(!(yi>>>(ki=Qn).Xa)),Fe[mi]=ki.X[yi],yi=!0}yi||t(qn.h==Ye(qn))}if(Pe.Pb&&qn.h&&si<An)t(Pe.m.h),Pe.a=5,Pe.m=Pe.wd,Pe.$=Pe.xd,0<Pe.s.ua&&tn(Pe.s.vb,Pe.s.Wa);else{if(qn.h)break e;kn!=null&&kn(Pe,Fn>Tn?Tn:Fn),Pe.a=0,Pe.$=si-Ge}return 1}return Pe.a=3,0}function Jr(Pe){t(Pe!=null),Pe.vc=null,Pe.yc=null,Pe.Ya=null;var Fe=Pe.Wa;Fe!=null&&(Fe.X=null),Pe.vb=null,t(Pe!=null)}function Mr(){var Pe=new pl;return Pe==null?null:(Pe.a=0,Pe.xb=wc,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),go=Yn,Or=Xn,Gr=oi,bs=Ni,es=Ai,as=Li,na=Ei,Je.VP8LMapColor32b=Fa,Je.VP8LMapColor8b=vl,Pe)}function Qr(Pe,Fe,Ge,sn,An){var Tn=1,kn=[Pe],Fn=[Fe],Dn=sn.m,qn=sn.s,Jn=null,si=0;e:for(;;){if(Ge)for(;Tn&&Hn(Dn,1);){var ai=kn,ni=Fn,vi=sn,ci=1,Qn=vi.m,Zn=vi.gc[vi.ab],gi=Hn(Qn,2);if(vi.Oc&1<<gi)Tn=0;else{switch(vi.Oc|=1<<gi,Zn.hc=gi,Zn.Ea=ai[0],Zn.nc=ni[0],Zn.K=[null],++vi.ab,t(4>=vi.ab),gi){case 0:case 1:Zn.b=Hn(Qn,3)+2,ci=Qr(En(Zn.Ea,Zn.b),En(Zn.nc,Zn.b),0,vi,Zn.K),Zn.K=Zn.K[0];break;case 3:var yi,mi=Hn(Qn,8)+1,ki=16<mi?0:4<mi?1:2<mi?2:3;if(ai[0]=En(Zn.Ea,ki),Zn.b=ki,yi=ci=Qr(mi,1,0,vi,Zn.K)){var Pi,Di=mi,Ci=Zn,Ki=1<<(8>>Ci.b),Zi=Se(Ki);if(Zi==null)yi=0;else{var $i=Ci.K[0],Wi=Ci.w;for(Zi[0]=Ci.K[0][0],Pi=1;Pi<1*Di;++Pi)Zi[Pi]=cn($i[Wi+Pi],Zi[Pi-1]);for(;Pi<4*Ki;++Pi)Zi[Pi]=0;Ci.K[0]=null,Ci.K[0]=Zi,yi=1}}ci=yi;break;case 2:break;default:t(0)}Tn=ci}}if(kn=kn[0],Fn=Fn[0],Tn&&Hn(Dn,1)&&!(Tn=1<=(si=Hn(Dn,4))&&11>=si)){sn.a=3;break e}var sr;if(sr=Tn)t:{var nr,qi,gr,Nr=sn,mr=kn,Tr=Fn,er=si,Ir=Ge,Fr=Nr.m,_r=Nr.s,wr=[null],Er=1,Ur=0,ts=Bu[er];n:for(;;){if(Ir&&Hn(Fr,1)){var Ar=Hn(Fr,3)+2,hs=En(mr,Ar),Os=En(Tr,Ar),aa=hs*Os;if(!Qr(hs,Os,0,Nr,wr))break n;for(wr=wr[0],_r.xc=Ar,nr=0;nr<aa;++nr){var xs=wr[nr]>>8&65535;wr[nr]=xs,xs>=Er&&(Er=xs+1)}}if(Fr.h)break n;for(qi=0;5>qi;++qi){var ur=_c[qi];!qi&&0<er&&(ur+=1<<er),Ur<ur&&(Ur=ur)}var Pl=Ee(Er*ts,rn),kc=Er,Rc=Ee(kc,Sn);if(Rc==null)var Po=null;else t(65536>=kc),Po=Rc;var ja=Se(Ur);if(Po==null||ja==null||Pl==null){Nr.a=1;break n}var Co=Pl;for(nr=gr=0;nr<Er;++nr){var Kr=Po[nr],oa=Kr.G,la=Kr.H,Ic=0,Lo=1,Fc=0;for(qi=0;5>qi;++qi){ur=_c[qi],oa[qi]=Co,la[qi]=gr,!qi&&0<er&&(ur+=1<<er);r:{var No,Cl=ur,To=Nr,Ua=ja,sh=Co,ah=gr,Ll=0,Es=To.m,oh=Hn(Es,1);if(Ae(Ua,0,0,Cl),oh){var lh=Hn(Es,1)+1,ch=Hn(Es,1),Mc=Hn(Es,ch==0?1:8);Ua[Mc]=1,lh==2&&(Ua[Mc=Hn(Es,8)]=1);var ko=1}else{var Oc=Se(19),Dc=Hn(Es,4)+4;if(19<Dc){To.a=3;var Ro=0;break r}for(No=0;No<Dc;++No)Oc[Ou[No]]=Hn(Es,3);var Nl=void 0,Va=void 0,Bc=To,uh=Oc,Io=Cl,jc=Ua,Tl=0,Ps=Bc.m,Uc=8,Vc=Ee(128,rn);i:for(;Ke(Vc,0,7,uh,19);){if(Hn(Ps,1)){var hh=2+2*Hn(Ps,3);if((Nl=2+Hn(Ps,hh))>Io)break i}else Nl=Io;for(Va=0;Va<Io&&Nl--;){on(Ps);var qc=Vc[0+(127&Xe(Ps))];en(Ps,Ps.u+qc.g);var ca=qc.value;if(16>ca)jc[Va++]=ca,ca!=0&&(Uc=ca);else{var dh=ca==16,Hc=ca-16,fh=Fu[Hc],zc=Hn(Ps,Iu[Hc])+fh;if(Va+zc>Io)break i;for(var ph=dh?Uc:0;0<zc--;)jc[Va++]=ph}}Tl=1;break i}Tl||(Bc.a=3),ko=Tl}(ko=ko&&!Es.h)&&(Ll=Ke(sh,ah,8,Ua,Cl)),ko&&Ll!=0?Ro=Ll:(To.a=3,Ro=0)}if(Ro==0)break n;if(Lo&&Mu[qi]==1&&(Lo=Co[gr].g==0),Ic+=Co[gr].g,gr+=Ro,3>=qi){var qa,kl=ja[0];for(qa=1;qa<ur;++qa)ja[qa]>kl&&(kl=ja[qa]);Fc+=kl}}if(Kr.nd=Lo,Kr.Qb=0,Lo&&(Kr.qb=(oa[3][la[3]+0].value<<24|oa[1][la[1]+0].value<<16|oa[2][la[2]+0].value)>>>0,Ic==0&&256>oa[0][la[0]+0].value&&(Kr.Qb=1,Kr.qb+=oa[0][la[0]+0].value<<8)),Kr.jc=!Kr.Qb&&6>Fc,Kr.jc){var Fo,ds=Kr;for(Fo=0;Fo<Cr;++Fo){var Cs=Fo,Ls=ds.pd[Cs],Mo=ds.G[0][ds.H[0]+Cs];256<=Mo.value?(Ls.g=Mo.g+256,Ls.value=Mo.value):(Ls.g=0,Ls.value=0,Cs>>=Hi(Mo,8,Ls),Cs>>=Hi(ds.G[1][ds.H[1]+Cs],16,Ls),Cs>>=Hi(ds.G[2][ds.H[2]+Cs],0,Ls),Hi(ds.G[3][ds.H[3]+Cs],24,Ls))}}}_r.vc=wr,_r.Wb=Er,_r.Ya=Po,_r.yc=Pl,sr=1;break t}sr=0}if(!(Tn=sr)){sn.a=3;break e}if(0<si){if(qn.ua=1<<si,!St(qn.Wa,si)){sn.a=1,Tn=0;break e}}else qn.ua=0;var Rl=sn,Wc=kn,gh=Fn,Il=Rl.s,Fl=Il.xc;if(Rl.c=Wc,Rl.i=gh,Il.md=En(Wc,Fl),Il.wc=Fl==0?-1:(1<<Fl)-1,Ge){sn.xb=Gu;break e}if((Jn=Se(kn*Fn))==null){sn.a=1,Tn=0;break e}Tn=(Tn=vr(sn,Jn,0,kn,Fn,Fn,null))&&!Dn.h;break e}return Tn?(An!=null?An[0]=Jn:(t(Jn==null),t(Ge)),sn.$=0,Ge||Jr(qn)):Jr(qn),Tn}function Ns(Pe,Fe){var Ge=Pe.c*Pe.i,sn=Ge+Fe+16*Fe;return t(Pe.c<=Fe),Pe.V=Se(sn),Pe.V==null?(Pe.Ta=null,Pe.Ua=0,Pe.a=1,0):(Pe.Ta=Pe.V,Pe.Ua=Pe.Ba+Ge+Fe,1)}function Ds(Pe,Fe){var Ge=Pe.C,sn=Fe-Ge,An=Pe.V,Tn=Pe.Ba+Pe.c*Ge;for(t(Fe<=Pe.l.o);0<sn;){var kn=16<sn?16:sn,Fn=Pe.l.ma,Dn=Pe.l.width,qn=Dn*kn,Jn=Fn.ca,si=Fn.tb+Dn*Ge,ai=Pe.Ta,ni=Pe.Ua;ir(Pe,kn,An,Tn),dc(ai,ni,Jn,si,qn),Yi(Fn,Ge,Ge+kn,Jn,si,Dn),sn-=kn,An+=kn*Pe.c,Ge+=kn}t(Ge==Fe),Pe.C=Pe.Ma=Fe}function Bs(){this.ub=this.yd=this.td=this.Rb=0}function js(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Us(){this.Fb=this.Bb=this.Cb=0,this.Zb=Se(4),this.Lb=Se(4)}function Xa(){this.Yb=function(){var Pe=[];return function Fe(Ge,sn,An){for(var Tn=An[sn],kn=0;kn<Tn&&(Ge.push(An.length>sn+1?[]:0),!(An.length<sn+1));kn++)Fe(Ge[kn],sn+1,An)}(Pe,0,[3,11]),Pe}()}function zo(){this.jb=Se(3),this.Wc=xe([4,8],Xa),this.Xc=xe([4,17],Xa)}function Wo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Se(4),this.od=new Se(4)}function Vs(){this.ld=this.La=this.dd=this.tc=0}function Ya(){this.Na=this.la=0}function Go(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fa(){this.ad=Se(384),this.Za=0,this.Ob=Se(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $o(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vs),this.Y=0,this.ya=Array(new fa),this.aa=0,this.l=new qs}function Ka(){this.y=Se(16),this.f=Se(8),this.ea=Se(8)}function Xo(){this.cb=this.a=0,this.sc="",this.m=new Bn,this.Od=new Bs,this.Kc=new js,this.ed=new Wo,this.Qa=new Us,this.Ic=this.$c=this.Aa=0,this.D=new $o,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ee(8,Bn),this.ia=0,this.pb=Ee(4,Go),this.Pa=new zo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ka),this.Hd=0,this.rb=Array(new Ya),this.sb=0,this.wa=Array(new Vs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fa),this.L=this.aa=0,this.gd=xe([4,2],Vs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yo(){var Pe=new Xo;return Pe!=null&&(Pe.a=0,Pe.sc="OK",Pe.cb=0,Pe.Xb=0,Da||(Da=Za)),Pe}function dr(Pe,Fe,Ge){return Pe.a==0&&(Pe.a=Fe,Pe.sc=Ge,Pe.cb=0),0}function Ja(Pe,Fe,Ge){return 3<=Ge&&Pe[Fe+0]==157&&Pe[Fe+1]==1&&Pe[Fe+2]==42}function Qa(Pe,Fe){if(Pe==null)return 0;if(Pe.a=0,Pe.sc="OK",Fe==null)return dr(Pe,2,"null VP8Io passed to VP8GetHeaders()");var Ge=Fe.data,sn=Fe.w,An=Fe.ha;if(4>An)return dr(Pe,7,"Truncated header.");var Tn=Ge[sn+0]|Ge[sn+1]<<8|Ge[sn+2]<<16,kn=Pe.Od;if(kn.Rb=!(1&Tn),kn.td=Tn>>1&7,kn.yd=Tn>>4&1,kn.ub=Tn>>5,3<kn.td)return dr(Pe,3,"Incorrect keyframe parameters.");if(!kn.yd)return dr(Pe,4,"Frame not displayable.");sn+=3,An-=3;var Fn=Pe.Kc;if(kn.Rb){if(7>An)return dr(Pe,7,"cannot parse picture header");if(!Ja(Ge,sn,An))return dr(Pe,3,"Bad code word");Fn.c=16383&(Ge[sn+4]<<8|Ge[sn+3]),Fn.Td=Ge[sn+4]>>6,Fn.i=16383&(Ge[sn+6]<<8|Ge[sn+5]),Fn.Ud=Ge[sn+6]>>6,sn+=7,An-=7,Pe.za=Fn.c+15>>4,Pe.Ub=Fn.i+15>>4,Fe.width=Fn.c,Fe.height=Fn.i,Fe.Da=0,Fe.j=0,Fe.v=0,Fe.va=Fe.width,Fe.o=Fe.height,Fe.da=0,Fe.ib=Fe.width,Fe.hb=Fe.height,Fe.U=Fe.width,Fe.T=Fe.height,Ae((Tn=Pe.Pa).jb,0,255,Tn.jb.length),t((Tn=Pe.Qa)!=null),Tn.Cb=0,Tn.Bb=0,Tn.Fb=1,Ae(Tn.Zb,0,0,Tn.Zb.length),Ae(Tn.Lb,0,0,Tn.Lb)}if(kn.ub>An)return dr(Pe,7,"bad partition length");fn(Tn=Pe.m,Ge,sn,kn.ub),sn+=kn.ub,An-=kn.ub,kn.Rb&&(Fn.Ld=bn(Tn),Fn.Kd=bn(Tn)),Fn=Pe.Qa;var Dn,qn=Pe.Pa;if(t(Tn!=null),t(Fn!=null),Fn.Cb=bn(Tn),Fn.Cb){if(Fn.Bb=bn(Tn),bn(Tn)){for(Fn.Fb=bn(Tn),Dn=0;4>Dn;++Dn)Fn.Zb[Dn]=bn(Tn)?vn(Tn,7):0;for(Dn=0;4>Dn;++Dn)Fn.Lb[Dn]=bn(Tn)?vn(Tn,6):0}if(Fn.Bb)for(Dn=0;3>Dn;++Dn)qn.jb[Dn]=bn(Tn)?gn(Tn,8):255}else Fn.Bb=0;if(Tn.Ka)return dr(Pe,3,"cannot parse segment header");if((Fn=Pe.ed).zd=bn(Tn),Fn.Tb=gn(Tn,6),Fn.wb=gn(Tn,3),Fn.Pc=bn(Tn),Fn.Pc&&bn(Tn)){for(qn=0;4>qn;++qn)bn(Tn)&&(Fn.vd[qn]=vn(Tn,6));for(qn=0;4>qn;++qn)bn(Tn)&&(Fn.od[qn]=vn(Tn,6))}if(Pe.L=Fn.Tb==0?0:Fn.zd?1:2,Tn.Ka)return dr(Pe,3,"cannot parse filter header");var Jn=An;if(An=Dn=sn,sn=Dn+Jn,Fn=Jn,Pe.Xb=(1<<gn(Pe.m,2))-1,Jn<3*(qn=Pe.Xb))Ge=7;else{for(Dn+=3*qn,Fn-=3*qn,Jn=0;Jn<qn;++Jn){var si=Ge[An+0]|Ge[An+1]<<8|Ge[An+2]<<16;si>Fn&&(si=Fn),fn(Pe.Jc[+Jn],Ge,Dn,si),Dn+=si,Fn-=si,An+=3}fn(Pe.Jc[+qn],Ge,Dn,Fn),Ge=Dn<sn?0:5}if(Ge!=0)return dr(Pe,Ge,"cannot parse partitions");for(Ge=gn(Dn=Pe.m,7),An=bn(Dn)?vn(Dn,4):0,sn=bn(Dn)?vn(Dn,4):0,Fn=bn(Dn)?vn(Dn,4):0,qn=bn(Dn)?vn(Dn,4):0,Dn=bn(Dn)?vn(Dn,4):0,Jn=Pe.Qa,si=0;4>si;++si){if(Jn.Cb){var ai=Jn.Zb[si];Jn.Fb||(ai+=Ge)}else{if(0<si){Pe.pb[si]=Pe.pb[0];continue}ai=Ge}var ni=Pe.pb[si];ni.Sc[0]=Sl[kr(ai+An,127)],ni.Sc[1]=xl[kr(ai+0,127)],ni.Eb[0]=2*Sl[kr(ai+sn,127)],ni.Eb[1]=101581*xl[kr(ai+Fn,127)]>>16,8>ni.Eb[1]&&(ni.Eb[1]=8),ni.Qc[0]=Sl[kr(ai+qn,117)],ni.Qc[1]=xl[kr(ai+Dn,127)],ni.lc=ai+Dn}if(!kn.Rb)return dr(Pe,4,"Not a key frame.");for(bn(Tn),kn=Pe.Pa,Ge=0;4>Ge;++Ge){for(An=0;8>An;++An)for(sn=0;3>sn;++sn)for(Fn=0;11>Fn;++Fn)qn=Ln(Tn,zu[Ge][An][sn][Fn])?gn(Tn,8):qu[Ge][An][sn][Fn],kn.Wc[Ge][An].Yb[sn][Fn]=qn;for(An=0;17>An;++An)kn.Xc[Ge][An]=kn.Wc[Ge][Wu[An]]}return Pe.kc=bn(Tn),Pe.kc&&(Pe.Bd=gn(Tn,8)),Pe.cb=1}function Za(Pe,Fe,Ge,sn,An,Tn,kn){var Fn=Fe[An].Yb[Ge];for(Ge=0;16>An;++An){if(!Ln(Pe,Fn[Ge+0]))return An;for(;!Ln(Pe,Fn[Ge+1]);)if(Fn=Fe[++An].Yb[0],Ge=0,An==16)return 16;var Dn=Fe[An+1].Yb;if(Ln(Pe,Fn[Ge+2])){var qn=Pe,Jn=0;if(Ln(qn,(ai=Fn)[(si=Ge)+3]))if(Ln(qn,ai[si+6])){for(Fn=0,si=2*(Jn=Ln(qn,ai[si+8]))+(ai=Ln(qn,ai[si+9+Jn])),Jn=0,ai=Uu[si];ai[Fn];++Fn)Jn+=Jn+Ln(qn,ai[Fn]);Jn+=3+(8<<si)}else Ln(qn,ai[si+7])?(Jn=7+2*Ln(qn,165),Jn+=Ln(qn,145)):Jn=5+Ln(qn,159);else Jn=Ln(qn,ai[si+4])?3+Ln(qn,ai[si+5]):2;Fn=Dn[2]}else Jn=1,Fn=Dn[1];Dn=kn+Vu[An],0>(qn=Pe).b&&hn(qn);var si,ai=qn.b,ni=(si=qn.Ca>>1)-(qn.I>>ai)>>31;--qn.b,qn.Ca+=ni,qn.Ca|=1,qn.I-=(si+1&ni)<<ai,Tn[Dn]=((Jn^ni)-ni)*sn[(0<An)+0]}return 16}function pa(Pe){var Fe=Pe.rb[Pe.sb-1];Fe.la=0,Fe.Na=0,Ae(Pe.zc,0,0,Pe.zc.length),Pe.ja=0}function Ko(Pe,Fe){if(Pe==null)return 0;if(Fe==null)return dr(Pe,2,"NULL VP8Io parameter in VP8Decode().");if(!Pe.cb&&!Qa(Pe,Fe))return 0;if(t(Pe.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(Pe.L=0);var Ge=Eo[Pe.L];if(Pe.L==2?(Pe.yb=0,Pe.zb=0):(Pe.yb=Fe.v-Ge>>4,Pe.zb=Fe.j-Ge>>4,0>Pe.yb&&(Pe.yb=0),0>Pe.zb&&(Pe.zb=0)),Pe.Va=Fe.o+15+Ge>>4,Pe.Hb=Fe.va+15+Ge>>4,Pe.Hb>Pe.za&&(Pe.Hb=Pe.za),Pe.Va>Pe.Ub&&(Pe.Va=Pe.Ub),0<Pe.L){var sn=Pe.ed;for(Ge=0;4>Ge;++Ge){var An;if(Pe.Qa.Cb){var Tn=Pe.Qa.Lb[Ge];Pe.Qa.Fb||(Tn+=sn.Tb)}else Tn=sn.Tb;for(An=0;1>=An;++An){var kn=Pe.gd[Ge][An],Fn=Tn;if(sn.Pc&&(Fn+=sn.vd[0],An&&(Fn+=sn.od[0])),0<(Fn=0>Fn?0:63<Fn?63:Fn)){var Dn=Fn;0<sn.wb&&(Dn=4<sn.wb?Dn>>2:Dn>>1)>9-sn.wb&&(Dn=9-sn.wb),1>Dn&&(Dn=1),kn.dd=Dn,kn.tc=2*Fn+Dn,kn.ld=40<=Fn?2:15<=Fn?1:0}else kn.tc=0;kn.La=An}}}Ge=0}else dr(Pe,6,"Frame setup failed"),Ge=Pe.a;if(Ge=Ge==0){if(Ge){Pe.$c=0,0<Pe.Aa||(Pe.Ic=rh);e:{Ge=Pe.Ic,sn=4*(Dn=Pe.za);var qn=32*Dn,Jn=Dn+1,si=0<Pe.L?Dn*(0<Pe.Aa?2:1):0,ai=(Pe.Aa==2?2:1)*Dn;if((kn=sn+832+(An=3*(16*Ge+Eo[Pe.L])/2*qn)+(Tn=Pe.Fa!=null&&0<Pe.Fa.length?Pe.Kc.c*Pe.Kc.i:0))!=kn)Ge=0;else{if(kn>Pe.Vb){if(Pe.Vb=0,Pe.Ec=Se(kn),Pe.Fc=0,Pe.Ec==null){Ge=dr(Pe,1,"no memory during frame initialization.");break e}Pe.Vb=kn}kn=Pe.Ec,Fn=Pe.Fc,Pe.Ac=kn,Pe.Bc=Fn,Fn+=sn,Pe.Gd=Ee(qn,Ka),Pe.Hd=0,Pe.rb=Ee(Jn+1,Ya),Pe.sb=1,Pe.wa=si?Ee(si,Vs):null,Pe.Y=0,Pe.D.Nb=0,Pe.D.wa=Pe.wa,Pe.D.Y=Pe.Y,0<Pe.Aa&&(Pe.D.Y+=Dn),t(!0),Pe.oc=kn,Pe.pc=Fn,Fn+=832,Pe.ya=Ee(ai,fa),Pe.aa=0,Pe.D.ya=Pe.ya,Pe.D.aa=Pe.aa,Pe.Aa==2&&(Pe.D.aa+=Dn),Pe.R=16*Dn,Pe.B=8*Dn,Dn=(qn=Eo[Pe.L])*Pe.R,qn=qn/2*Pe.B,Pe.sa=kn,Pe.ta=Fn+Dn,Pe.qa=Pe.sa,Pe.ra=Pe.ta+16*Ge*Pe.R+qn,Pe.Ha=Pe.qa,Pe.Ia=Pe.ra+8*Ge*Pe.B+qn,Pe.$c=0,Fn+=An,Pe.mb=Tn?kn:null,Pe.nb=Tn?Fn:null,t(Fn+Tn<=Pe.Fc+Pe.Vb),pa(Pe),Ae(Pe.Ac,Pe.Bc,0,sn),Ge=1}}if(Ge){if(Fe.ka=0,Fe.y=Pe.sa,Fe.O=Pe.ta,Fe.f=Pe.qa,Fe.N=Pe.ra,Fe.ea=Pe.Ha,Fe.Vd=Pe.Ia,Fe.fa=Pe.R,Fe.Rc=Pe.B,Fe.F=null,Fe.J=0,!vc){for(Ge=-255;255>=Ge;++Ge)fc[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)pc[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)gc[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)mc[255+Ge]=0>Ge?0:255<Ge?255:Ge;vc=1}$r=Zo,ia=Jo,ys=to,Xr=Qo,os=no,Ma=eo,Fs=Aa,ra=Rs,Ms=dl,_s=wa,Oa=hl,Dr=Xs,ls=Sa,ar=ho,or=uo,fr=rs,br=ps,cs=ul,Yr[0]=Zr,Yr[1]=el,Yr[2]=rl,Yr[3]=sl,Yr[4]=so,Yr[5]=Gs,Yr[6]=ao,Yr[7]=va,Yr[8]=ol,Yr[9]=al,ws[0]=io,ws[1]=nl,ws[2]=is,ws[3]=zs,ws[4]=Sr,ws[5]=il,ws[6]=ro,us[0]=fs,us[1]=tl,us[2]=ll,us[3]=ba,us[4]=ks,us[5]=cl,us[6]=ya,Ge=1}else Ge=0}Ge&&(Ge=function(ni,vi){for(ni.M=0;ni.M<ni.Va;++ni.M){var ci,Qn=ni.Jc[ni.M&ni.Xb],Zn=ni.m,gi=ni;for(ci=0;ci<gi.za;++ci){var yi=Zn,mi=gi,ki=mi.Ac,Pi=mi.Bc+4*ci,Di=mi.zc,Ci=mi.ya[mi.aa+ci];if(mi.Qa.Bb?Ci.$b=Ln(yi,mi.Pa.jb[0])?2+Ln(yi,mi.Pa.jb[2]):Ln(yi,mi.Pa.jb[1]):Ci.$b=0,mi.kc&&(Ci.Ad=Ln(yi,mi.Bd)),Ci.Za=!Ln(yi,145)+0,Ci.Za){var Ki=Ci.Ob,Zi=0;for(mi=0;4>mi;++mi){var $i,Wi=Di[0+mi];for($i=0;4>$i;++$i){Wi=Hu[ki[Pi+$i]][Wi];for(var sr=Ac[Ln(yi,Wi[0])];0<sr;)sr=Ac[2*sr+Ln(yi,Wi[sr])];Wi=-sr,ki[Pi+$i]=Wi}_e(Ki,Zi,ki,Pi,4),Zi+=4,Di[0+mi]=Wi}}else Wi=Ln(yi,156)?Ln(yi,128)?1:3:Ln(yi,163)?2:0,Ci.Ob[0]=Wi,Ae(ki,Pi,Wi,4),Ae(Di,0,Wi,4);Ci.Dd=Ln(yi,142)?Ln(yi,114)?Ln(yi,183)?1:3:2:0}if(gi.m.Ka)return dr(ni,7,"Premature end-of-partition0 encountered.");for(;ni.ja<ni.za;++ni.ja){if(gi=Qn,yi=(Zn=ni).rb[Zn.sb-1],ki=Zn.rb[Zn.sb+Zn.ja],ci=Zn.ya[Zn.aa+Zn.ja],Pi=Zn.kc?ci.Ad:0)yi.la=ki.la=0,ci.Za||(yi.Na=ki.Na=0),ci.Hc=0,ci.Gc=0,ci.ia=0;else{var nr,qi;if(yi=ki,ki=gi,Pi=Zn.Pa.Xc,Di=Zn.ya[Zn.aa+Zn.ja],Ci=Zn.pb[Di.$b],mi=Di.ad,Ki=0,Zi=Zn.rb[Zn.sb-1],Wi=$i=0,Ae(mi,Ki,0,384),Di.Za)var gr=0,Nr=Pi[3];else{sr=Se(16);var mr=yi.Na+Zi.Na;if(mr=Da(ki,Pi[1],mr,Ci.Eb,0,sr,0),yi.Na=Zi.Na=(0<mr)+0,1<mr)$r(sr,0,mi,Ki);else{var Tr=sr[0]+3>>3;for(sr=0;256>sr;sr+=16)mi[Ki+sr]=Tr}gr=1,Nr=Pi[0]}var er=15&yi.la,Ir=15&Zi.la;for(sr=0;4>sr;++sr){var Fr=1&Ir;for(Tr=qi=0;4>Tr;++Tr)er=er>>1|(Fr=(mr=Da(ki,Nr,mr=Fr+(1&er),Ci.Sc,gr,mi,Ki))>gr)<<7,qi=qi<<2|(3<mr?3:1<mr?2:mi[Ki+0]!=0),Ki+=16;er>>=4,Ir=Ir>>1|Fr<<7,$i=($i<<8|qi)>>>0}for(Nr=er,gr=Ir>>4,nr=0;4>nr;nr+=2){for(qi=0,er=yi.la>>4+nr,Ir=Zi.la>>4+nr,sr=0;2>sr;++sr){for(Fr=1&Ir,Tr=0;2>Tr;++Tr)mr=Fr+(1&er),er=er>>1|(Fr=0<(mr=Da(ki,Pi[2],mr,Ci.Qc,0,mi,Ki)))<<3,qi=qi<<2|(3<mr?3:1<mr?2:mi[Ki+0]!=0),Ki+=16;er>>=2,Ir=Ir>>1|Fr<<5}Wi|=qi<<4*nr,Nr|=er<<4<<nr,gr|=(240&Ir)<<nr}yi.la=Nr,Zi.la=gr,Di.Hc=$i,Di.Gc=Wi,Di.ia=43690&Wi?0:Ci.ia,Pi=!($i|Wi)}if(0<Zn.L&&(Zn.wa[Zn.Y+Zn.ja]=Zn.gd[ci.$b][ci.Za],Zn.wa[Zn.Y+Zn.ja].La|=!Pi),gi.Ka)return dr(ni,7,"Premature end-of-file encountered.")}if(pa(ni),Zn=vi,gi=1,ci=(Qn=ni).D,yi=0<Qn.L&&Qn.M>=Qn.zb&&Qn.M<=Qn.Va,Qn.Aa==0)e:{if(ci.M=Qn.M,ci.uc=yi,Na(Qn,ci),gi=1,ci=(qi=Qn.D).Nb,yi=(Wi=Eo[Qn.L])*Qn.R,ki=Wi/2*Qn.B,sr=16*ci*Qn.R,Tr=8*ci*Qn.B,Pi=Qn.sa,Di=Qn.ta-yi+sr,Ci=Qn.qa,mi=Qn.ra-ki+Tr,Ki=Qn.Ha,Zi=Qn.Ia-ki+Tr,Ir=(er=qi.M)==0,$i=er>=Qn.Va-1,Qn.Aa==2&&Na(Qn,qi),qi.uc)for(Fr=(mr=Qn).D.M,t(mr.D.uc),qi=mr.yb;qi<mr.Hb;++qi){gr=qi,Nr=Fr;var _r=(wr=(ur=mr).D).Nb;nr=ur.R;var wr=wr.wa[wr.Y+gr],Er=ur.sa,Ur=ur.ta+16*_r*nr+16*gr,ts=wr.dd,Ar=wr.tc;if(Ar!=0)if(t(3<=Ar),ur.L==1)0<gr&&fr(Er,Ur,nr,Ar+4),wr.La&&cs(Er,Ur,nr,Ar),0<Nr&&or(Er,Ur,nr,Ar+4),wr.La&&br(Er,Ur,nr,Ar);else{var hs=ur.B,Os=ur.qa,aa=ur.ra+8*_r*hs+8*gr,xs=ur.Ha,ur=ur.Ia+8*_r*hs+8*gr;_r=wr.ld,0<gr&&(ra(Er,Ur,nr,Ar+4,ts,_r),_s(Os,aa,xs,ur,hs,Ar+4,ts,_r)),wr.La&&(Dr(Er,Ur,nr,Ar,ts,_r),ar(Os,aa,xs,ur,hs,Ar,ts,_r)),0<Nr&&(Fs(Er,Ur,nr,Ar+4,ts,_r),Ms(Os,aa,xs,ur,hs,Ar+4,ts,_r)),wr.La&&(Oa(Er,Ur,nr,Ar,ts,_r),ls(Os,aa,xs,ur,hs,Ar,ts,_r))}}if(Qn.ia&&alert("todo:DitherRow"),Zn.put!=null){if(qi=16*er,er=16*(er+1),Ir?(Zn.y=Qn.sa,Zn.O=Qn.ta+sr,Zn.f=Qn.qa,Zn.N=Qn.ra+Tr,Zn.ea=Qn.Ha,Zn.W=Qn.Ia+Tr):(qi-=Wi,Zn.y=Pi,Zn.O=Di,Zn.f=Ci,Zn.N=mi,Zn.ea=Ki,Zn.W=Zi),$i||(er-=Wi),er>Zn.o&&(er=Zn.o),Zn.F=null,Zn.J=null,Qn.Fa!=null&&0<Qn.Fa.length&&qi<er&&(Zn.J=Ca(Qn,Zn,qi,er-qi),Zn.F=Qn.mb,Zn.F==null&&Zn.F.length==0)){gi=dr(Qn,3,"Could not decode alpha data.");break e}qi<Zn.j&&(Wi=Zn.j-qi,qi=Zn.j,t(!(1&Wi)),Zn.O+=Qn.R*Wi,Zn.N+=Qn.B*(Wi>>1),Zn.W+=Qn.B*(Wi>>1),Zn.F!=null&&(Zn.J+=Zn.width*Wi)),qi<er&&(Zn.O+=Zn.v,Zn.N+=Zn.v>>1,Zn.W+=Zn.v>>1,Zn.F!=null&&(Zn.J+=Zn.v),Zn.ka=qi-Zn.j,Zn.U=Zn.va-Zn.v,Zn.T=er-qi,gi=Zn.put(Zn))}ci+1!=Qn.Ic||$i||(_e(Qn.sa,Qn.ta-yi,Pi,Di+16*Qn.R,yi),_e(Qn.qa,Qn.ra-ki,Ci,mi+8*Qn.B,ki),_e(Qn.Ha,Qn.Ia-ki,Ki,Zi+8*Qn.B,ki))}if(!gi)return dr(ni,6,"Output aborted.")}return 1}(Pe,Fe)),Fe.bc!=null&&Fe.bc(Fe),Ge&=1}return Ge?(Pe.cb=0,Ge):0}function qr(Pe,Fe,Ge,sn,An){An=Pe[Fe+Ge+32*sn]+(An>>3),Pe[Fe+Ge+32*sn]=-256&An?0>An?0:255:An}function Hs(Pe,Fe,Ge,sn,An,Tn){qr(Pe,Fe,0,Ge,sn+An),qr(Pe,Fe,1,Ge,sn+Tn),qr(Pe,Fe,2,Ge,sn-Tn),qr(Pe,Fe,3,Ge,sn-An)}function Pr(Pe){return(20091*Pe>>16)+Pe}function ga(Pe,Fe,Ge,sn){var An,Tn=0,kn=Se(16);for(An=0;4>An;++An){var Fn=Pe[Fe+0]+Pe[Fe+8],Dn=Pe[Fe+0]-Pe[Fe+8],qn=(35468*Pe[Fe+4]>>16)-Pr(Pe[Fe+12]),Jn=Pr(Pe[Fe+4])+(35468*Pe[Fe+12]>>16);kn[Tn+0]=Fn+Jn,kn[Tn+1]=Dn+qn,kn[Tn+2]=Dn-qn,kn[Tn+3]=Fn-Jn,Tn+=4,Fe++}for(An=Tn=0;4>An;++An)Fn=(Pe=kn[Tn+0]+4)+kn[Tn+8],Dn=Pe-kn[Tn+8],qn=(35468*kn[Tn+4]>>16)-Pr(kn[Tn+12]),qr(Ge,sn,0,0,Fn+(Jn=Pr(kn[Tn+4])+(35468*kn[Tn+12]>>16))),qr(Ge,sn,1,0,Dn+qn),qr(Ge,sn,2,0,Dn-qn),qr(Ge,sn,3,0,Fn-Jn),Tn++,sn+=32}function eo(Pe,Fe,Ge,sn){var An=Pe[Fe+0]+4,Tn=35468*Pe[Fe+4]>>16,kn=Pr(Pe[Fe+4]),Fn=35468*Pe[Fe+1]>>16;Hs(Ge,sn,0,An+kn,Pe=Pr(Pe[Fe+1]),Fn),Hs(Ge,sn,1,An+Tn,Pe,Fn),Hs(Ge,sn,2,An-Tn,Pe,Fn),Hs(Ge,sn,3,An-kn,Pe,Fn)}function Jo(Pe,Fe,Ge,sn,An){ga(Pe,Fe,Ge,sn),An&&ga(Pe,Fe+16,Ge,sn+4)}function to(Pe,Fe,Ge,sn){ia(Pe,Fe+0,Ge,sn,1),ia(Pe,Fe+32,Ge,sn+128,1)}function Qo(Pe,Fe,Ge,sn){var An;for(Pe=Pe[Fe+0]+4,An=0;4>An;++An)for(Fe=0;4>Fe;++Fe)qr(Ge,sn,Fe,An,Pe)}function no(Pe,Fe,Ge,sn){Pe[Fe+0]&&Xr(Pe,Fe+0,Ge,sn),Pe[Fe+16]&&Xr(Pe,Fe+16,Ge,sn+4),Pe[Fe+32]&&Xr(Pe,Fe+32,Ge,sn+128),Pe[Fe+48]&&Xr(Pe,Fe+48,Ge,sn+128+4)}function Zo(Pe,Fe,Ge,sn){var An,Tn=Se(16);for(An=0;4>An;++An){var kn=Pe[Fe+0+An]+Pe[Fe+12+An],Fn=Pe[Fe+4+An]+Pe[Fe+8+An],Dn=Pe[Fe+4+An]-Pe[Fe+8+An],qn=Pe[Fe+0+An]-Pe[Fe+12+An];Tn[0+An]=kn+Fn,Tn[8+An]=kn-Fn,Tn[4+An]=qn+Dn,Tn[12+An]=qn-Dn}for(An=0;4>An;++An)kn=(Pe=Tn[0+4*An]+3)+Tn[3+4*An],Fn=Tn[1+4*An]+Tn[2+4*An],Dn=Tn[1+4*An]-Tn[2+4*An],qn=Pe-Tn[3+4*An],Ge[sn+0]=kn+Fn>>3,Ge[sn+16]=qn+Dn>>3,Ge[sn+32]=kn-Fn>>3,Ge[sn+48]=qn-Dn>>3,sn+=64}function ma(Pe,Fe,Ge){var sn,An=Fe-32,Tn=Rr,kn=255-Pe[An-1];for(sn=0;sn<Ge;++sn){var Fn,Dn=Tn,qn=kn+Pe[Fe-1];for(Fn=0;Fn<Ge;++Fn)Pe[Fe+Fn]=Dn[qn+Pe[An+Fn]];Fe+=32}}function el(Pe,Fe){ma(Pe,Fe,4)}function tl(Pe,Fe){ma(Pe,Fe,8)}function nl(Pe,Fe){ma(Pe,Fe,16)}function is(Pe,Fe){var Ge;for(Ge=0;16>Ge;++Ge)_e(Pe,Fe+32*Ge,Pe,Fe-32,16)}function zs(Pe,Fe){var Ge;for(Ge=16;0<Ge;--Ge)Ae(Pe,Fe,Pe[Fe-1],16),Fe+=32}function Ws(Pe,Fe,Ge){var sn;for(sn=0;16>sn;++sn)Ae(Fe,Ge+32*sn,Pe,16)}function io(Pe,Fe){var Ge,sn=16;for(Ge=0;16>Ge;++Ge)sn+=Pe[Fe-1+32*Ge]+Pe[Fe+Ge-32];Ws(sn>>5,Pe,Fe)}function Sr(Pe,Fe){var Ge,sn=8;for(Ge=0;16>Ge;++Ge)sn+=Pe[Fe-1+32*Ge];Ws(sn>>4,Pe,Fe)}function il(Pe,Fe){var Ge,sn=8;for(Ge=0;16>Ge;++Ge)sn+=Pe[Fe+Ge-32];Ws(sn>>4,Pe,Fe)}function ro(Pe,Fe){Ws(128,Pe,Fe)}function ji(Pe,Fe,Ge){return Pe+2*Fe+Ge+2>>2}function rl(Pe,Fe){var Ge,sn=Fe-32;for(sn=new Uint8Array([ji(Pe[sn-1],Pe[sn+0],Pe[sn+1]),ji(Pe[sn+0],Pe[sn+1],Pe[sn+2]),ji(Pe[sn+1],Pe[sn+2],Pe[sn+3]),ji(Pe[sn+2],Pe[sn+3],Pe[sn+4])]),Ge=0;4>Ge;++Ge)_e(Pe,Fe+32*Ge,sn,0,sn.length)}function sl(Pe,Fe){var Ge=Pe[Fe-1],sn=Pe[Fe-1+32],An=Pe[Fe-1+64],Tn=Pe[Fe-1+96];Vn(Pe,Fe+0,16843009*ji(Pe[Fe-1-32],Ge,sn)),Vn(Pe,Fe+32,16843009*ji(Ge,sn,An)),Vn(Pe,Fe+64,16843009*ji(sn,An,Tn)),Vn(Pe,Fe+96,16843009*ji(An,Tn,Tn))}function Zr(Pe,Fe){var Ge,sn=4;for(Ge=0;4>Ge;++Ge)sn+=Pe[Fe+Ge-32]+Pe[Fe-1+32*Ge];for(sn>>=3,Ge=0;4>Ge;++Ge)Ae(Pe,Fe+32*Ge,sn,4)}function so(Pe,Fe){var Ge=Pe[Fe-1+0],sn=Pe[Fe-1+32],An=Pe[Fe-1+64],Tn=Pe[Fe-1-32],kn=Pe[Fe+0-32],Fn=Pe[Fe+1-32],Dn=Pe[Fe+2-32],qn=Pe[Fe+3-32];Pe[Fe+0+96]=ji(sn,An,Pe[Fe-1+96]),Pe[Fe+1+96]=Pe[Fe+0+64]=ji(Ge,sn,An),Pe[Fe+2+96]=Pe[Fe+1+64]=Pe[Fe+0+32]=ji(Tn,Ge,sn),Pe[Fe+3+96]=Pe[Fe+2+64]=Pe[Fe+1+32]=Pe[Fe+0+0]=ji(kn,Tn,Ge),Pe[Fe+3+64]=Pe[Fe+2+32]=Pe[Fe+1+0]=ji(Fn,kn,Tn),Pe[Fe+3+32]=Pe[Fe+2+0]=ji(Dn,Fn,kn),Pe[Fe+3+0]=ji(qn,Dn,Fn)}function ao(Pe,Fe){var Ge=Pe[Fe+1-32],sn=Pe[Fe+2-32],An=Pe[Fe+3-32],Tn=Pe[Fe+4-32],kn=Pe[Fe+5-32],Fn=Pe[Fe+6-32],Dn=Pe[Fe+7-32];Pe[Fe+0+0]=ji(Pe[Fe+0-32],Ge,sn),Pe[Fe+1+0]=Pe[Fe+0+32]=ji(Ge,sn,An),Pe[Fe+2+0]=Pe[Fe+1+32]=Pe[Fe+0+64]=ji(sn,An,Tn),Pe[Fe+3+0]=Pe[Fe+2+32]=Pe[Fe+1+64]=Pe[Fe+0+96]=ji(An,Tn,kn),Pe[Fe+3+32]=Pe[Fe+2+64]=Pe[Fe+1+96]=ji(Tn,kn,Fn),Pe[Fe+3+64]=Pe[Fe+2+96]=ji(kn,Fn,Dn),Pe[Fe+3+96]=ji(Fn,Dn,Dn)}function Gs(Pe,Fe){var Ge=Pe[Fe-1+0],sn=Pe[Fe-1+32],An=Pe[Fe-1+64],Tn=Pe[Fe-1-32],kn=Pe[Fe+0-32],Fn=Pe[Fe+1-32],Dn=Pe[Fe+2-32],qn=Pe[Fe+3-32];Pe[Fe+0+0]=Pe[Fe+1+64]=Tn+kn+1>>1,Pe[Fe+1+0]=Pe[Fe+2+64]=kn+Fn+1>>1,Pe[Fe+2+0]=Pe[Fe+3+64]=Fn+Dn+1>>1,Pe[Fe+3+0]=Dn+qn+1>>1,Pe[Fe+0+96]=ji(An,sn,Ge),Pe[Fe+0+64]=ji(sn,Ge,Tn),Pe[Fe+0+32]=Pe[Fe+1+96]=ji(Ge,Tn,kn),Pe[Fe+1+32]=Pe[Fe+2+96]=ji(Tn,kn,Fn),Pe[Fe+2+32]=Pe[Fe+3+96]=ji(kn,Fn,Dn),Pe[Fe+3+32]=ji(Fn,Dn,qn)}function va(Pe,Fe){var Ge=Pe[Fe+0-32],sn=Pe[Fe+1-32],An=Pe[Fe+2-32],Tn=Pe[Fe+3-32],kn=Pe[Fe+4-32],Fn=Pe[Fe+5-32],Dn=Pe[Fe+6-32],qn=Pe[Fe+7-32];Pe[Fe+0+0]=Ge+sn+1>>1,Pe[Fe+1+0]=Pe[Fe+0+64]=sn+An+1>>1,Pe[Fe+2+0]=Pe[Fe+1+64]=An+Tn+1>>1,Pe[Fe+3+0]=Pe[Fe+2+64]=Tn+kn+1>>1,Pe[Fe+0+32]=ji(Ge,sn,An),Pe[Fe+1+32]=Pe[Fe+0+96]=ji(sn,An,Tn),Pe[Fe+2+32]=Pe[Fe+1+96]=ji(An,Tn,kn),Pe[Fe+3+32]=Pe[Fe+2+96]=ji(Tn,kn,Fn),Pe[Fe+3+64]=ji(kn,Fn,Dn),Pe[Fe+3+96]=ji(Fn,Dn,qn)}function al(Pe,Fe){var Ge=Pe[Fe-1+0],sn=Pe[Fe-1+32],An=Pe[Fe-1+64],Tn=Pe[Fe-1+96];Pe[Fe+0+0]=Ge+sn+1>>1,Pe[Fe+2+0]=Pe[Fe+0+32]=sn+An+1>>1,Pe[Fe+2+32]=Pe[Fe+0+64]=An+Tn+1>>1,Pe[Fe+1+0]=ji(Ge,sn,An),Pe[Fe+3+0]=Pe[Fe+1+32]=ji(sn,An,Tn),Pe[Fe+3+32]=Pe[Fe+1+64]=ji(An,Tn,Tn),Pe[Fe+3+64]=Pe[Fe+2+64]=Pe[Fe+0+96]=Pe[Fe+1+96]=Pe[Fe+2+96]=Pe[Fe+3+96]=Tn}function ol(Pe,Fe){var Ge=Pe[Fe-1+0],sn=Pe[Fe-1+32],An=Pe[Fe-1+64],Tn=Pe[Fe-1+96],kn=Pe[Fe-1-32],Fn=Pe[Fe+0-32],Dn=Pe[Fe+1-32],qn=Pe[Fe+2-32];Pe[Fe+0+0]=Pe[Fe+2+32]=Ge+kn+1>>1,Pe[Fe+0+32]=Pe[Fe+2+64]=sn+Ge+1>>1,Pe[Fe+0+64]=Pe[Fe+2+96]=An+sn+1>>1,Pe[Fe+0+96]=Tn+An+1>>1,Pe[Fe+3+0]=ji(Fn,Dn,qn),Pe[Fe+2+0]=ji(kn,Fn,Dn),Pe[Fe+1+0]=Pe[Fe+3+32]=ji(Ge,kn,Fn),Pe[Fe+1+32]=Pe[Fe+3+64]=ji(sn,Ge,kn),Pe[Fe+1+64]=Pe[Fe+3+96]=ji(An,sn,Ge),Pe[Fe+1+96]=ji(Tn,An,sn)}function ll(Pe,Fe){var Ge;for(Ge=0;8>Ge;++Ge)_e(Pe,Fe+32*Ge,Pe,Fe-32,8)}function ba(Pe,Fe){var Ge;for(Ge=0;8>Ge;++Ge)Ae(Pe,Fe,Pe[Fe-1],8),Fe+=32}function Ts(Pe,Fe,Ge){var sn;for(sn=0;8>sn;++sn)Ae(Fe,Ge+32*sn,Pe,8)}function fs(Pe,Fe){var Ge,sn=8;for(Ge=0;8>Ge;++Ge)sn+=Pe[Fe+Ge-32]+Pe[Fe-1+32*Ge];Ts(sn>>4,Pe,Fe)}function cl(Pe,Fe){var Ge,sn=4;for(Ge=0;8>Ge;++Ge)sn+=Pe[Fe+Ge-32];Ts(sn>>3,Pe,Fe)}function ks(Pe,Fe){var Ge,sn=4;for(Ge=0;8>Ge;++Ge)sn+=Pe[Fe-1+32*Ge];Ts(sn>>3,Pe,Fe)}function ya(Pe,Fe){Ts(128,Pe,Fe)}function $s(Pe,Fe,Ge){var sn=Pe[Fe-Ge],An=Pe[Fe+0],Tn=3*(An-sn)+bl[1020+Pe[Fe-2*Ge]-Pe[Fe+Ge]],kn=vo[112+(Tn+4>>3)];Pe[Fe-Ge]=Rr[255+sn+vo[112+(Tn+3>>3)]],Pe[Fe+0]=Rr[255+An-kn]}function oo(Pe,Fe,Ge,sn){var An=Pe[Fe+0],Tn=Pe[Fe+Ge];return Br[255+Pe[Fe-2*Ge]-Pe[Fe-Ge]]>sn||Br[255+Tn-An]>sn}function lo(Pe,Fe,Ge,sn){return 4*Br[255+Pe[Fe-Ge]-Pe[Fe+0]]+Br[255+Pe[Fe-2*Ge]-Pe[Fe+Ge]]<=sn}function co(Pe,Fe,Ge,sn,An){var Tn=Pe[Fe-3*Ge],kn=Pe[Fe-2*Ge],Fn=Pe[Fe-Ge],Dn=Pe[Fe+0],qn=Pe[Fe+Ge],Jn=Pe[Fe+2*Ge],si=Pe[Fe+3*Ge];return 4*Br[255+Fn-Dn]+Br[255+kn-qn]>sn?0:Br[255+Pe[Fe-4*Ge]-Tn]<=An&&Br[255+Tn-kn]<=An&&Br[255+kn-Fn]<=An&&Br[255+si-Jn]<=An&&Br[255+Jn-qn]<=An&&Br[255+qn-Dn]<=An}function uo(Pe,Fe,Ge,sn){var An=2*sn+1;for(sn=0;16>sn;++sn)lo(Pe,Fe+sn,Ge,An)&&$s(Pe,Fe+sn,Ge)}function rs(Pe,Fe,Ge,sn){var An=2*sn+1;for(sn=0;16>sn;++sn)lo(Pe,Fe+sn*Ge,1,An)&&$s(Pe,Fe+sn*Ge,1)}function ps(Pe,Fe,Ge,sn){var An;for(An=3;0<An;--An)uo(Pe,Fe+=4*Ge,Ge,sn)}function ul(Pe,Fe,Ge,sn){var An;for(An=3;0<An;--An)rs(Pe,Fe+=4,Ge,sn)}function gs(Pe,Fe,Ge,sn,An,Tn,kn,Fn){for(Tn=2*Tn+1;0<An--;){if(co(Pe,Fe,Ge,Tn,kn))if(oo(Pe,Fe,Ge,Fn))$s(Pe,Fe,Ge);else{var Dn=Pe,qn=Fe,Jn=Ge,si=Dn[qn-2*Jn],ai=Dn[qn-Jn],ni=Dn[qn+0],vi=Dn[qn+Jn],ci=Dn[qn+2*Jn],Qn=27*(gi=bl[1020+3*(ni-ai)+bl[1020+si-vi]])+63>>7,Zn=18*gi+63>>7,gi=9*gi+63>>7;Dn[qn-3*Jn]=Rr[255+Dn[qn-3*Jn]+gi],Dn[qn-2*Jn]=Rr[255+si+Zn],Dn[qn-Jn]=Rr[255+ai+Qn],Dn[qn+0]=Rr[255+ni-Qn],Dn[qn+Jn]=Rr[255+vi-Zn],Dn[qn+2*Jn]=Rr[255+ci-gi]}Fe+=sn}}function Hr(Pe,Fe,Ge,sn,An,Tn,kn,Fn){for(Tn=2*Tn+1;0<An--;){if(co(Pe,Fe,Ge,Tn,kn))if(oo(Pe,Fe,Ge,Fn))$s(Pe,Fe,Ge);else{var Dn=Pe,qn=Fe,Jn=Ge,si=Dn[qn-Jn],ai=Dn[qn+0],ni=Dn[qn+Jn],vi=vo[112+((ci=3*(ai-si))+4>>3)],ci=vo[112+(ci+3>>3)],Qn=vi+1>>1;Dn[qn-2*Jn]=Rr[255+Dn[qn-2*Jn]+Qn],Dn[qn-Jn]=Rr[255+si+ci],Dn[qn+0]=Rr[255+ai-vi],Dn[qn+Jn]=Rr[255+ni-Qn]}Fe+=sn}}function Aa(Pe,Fe,Ge,sn,An,Tn){gs(Pe,Fe,Ge,1,16,sn,An,Tn)}function Rs(Pe,Fe,Ge,sn,An,Tn){gs(Pe,Fe,1,Ge,16,sn,An,Tn)}function hl(Pe,Fe,Ge,sn,An,Tn){var kn;for(kn=3;0<kn;--kn)Hr(Pe,Fe+=4*Ge,Ge,1,16,sn,An,Tn)}function Xs(Pe,Fe,Ge,sn,An,Tn){var kn;for(kn=3;0<kn;--kn)Hr(Pe,Fe+=4,1,Ge,16,sn,An,Tn)}function dl(Pe,Fe,Ge,sn,An,Tn,kn,Fn){gs(Pe,Fe,An,1,8,Tn,kn,Fn),gs(Ge,sn,An,1,8,Tn,kn,Fn)}function wa(Pe,Fe,Ge,sn,An,Tn,kn,Fn){gs(Pe,Fe,1,An,8,Tn,kn,Fn),gs(Ge,sn,1,An,8,Tn,kn,Fn)}function Sa(Pe,Fe,Ge,sn,An,Tn,kn,Fn){Hr(Pe,Fe+4*An,An,1,8,Tn,kn,Fn),Hr(Ge,sn+4*An,An,1,8,Tn,kn,Fn)}function ho(Pe,Fe,Ge,sn,An,Tn,kn,Fn){Hr(Pe,Fe+4,1,An,8,Tn,kn,Fn),Hr(Ge,sn+4,1,An,8,Tn,kn,Fn)}function Ys(){this.ba=new pi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ea(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fo(){this.ua=0,this.Wa=new $e,this.vb=new $e,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Sn,this.yc=new rn}function pl(){this.xb=this.a=0,this.l=new qs,this.ca=new pi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Ze,this.Pb=0,this.wd=new Ze,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fo,this.ab=0,this.gc=Ee(4,Ea),this.Oc=0}function Ks(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Is(Pe,Fe,Ge,sn,An,Tn,kn){for(Pe=Pe==null?0:Pe[Fe+0],Fe=0;Fe<kn;++Fe)An[Tn+Fe]=Pe+Ge[sn+Fe]&255,Pe=An[Tn+Fe]}function Pa(Pe,Fe,Ge,sn,An,Tn,kn){var Fn;if(Pe==null)Is(null,null,Ge,sn,An,Tn,kn);else for(Fn=0;Fn<kn;++Fn)An[Tn+Fn]=Pe[Fe+Fn]+Ge[sn+Fn]&255}function ms(Pe,Fe,Ge,sn,An,Tn,kn){if(Pe==null)Is(null,null,Ge,sn,An,Tn,kn);else{var Fn,Dn=Pe[Fe+0],qn=Dn,Jn=Dn;for(Fn=0;Fn<kn;++Fn)qn=Jn+(Dn=Pe[Fe+Fn])-qn,Jn=Ge[sn+Fn]+(-256&qn?0>qn?0:255:qn)&255,qn=Dn,An[Tn+Fn]=Jn}}function Ca(Pe,Fe,Ge,sn){var An=Fe.width,Tn=Fe.o;if(t(Pe!=null&&Fe!=null),0>Ge||0>=sn||Ge+sn>Tn)return null;if(!Pe.Cc){if(Pe.ga==null){var kn;if(Pe.ga=new Ks,(kn=Pe.ga==null)||(kn=Fe.width*Fe.o,t(Pe.Gb.length==0),Pe.Gb=Se(kn),Pe.Uc=0,Pe.Gb==null?kn=0:(Pe.mb=Pe.Gb,Pe.nb=Pe.Uc,Pe.rc=null,kn=1),kn=!kn),!kn){kn=Pe.ga;var Fn=Pe.Fa,Dn=Pe.P,qn=Pe.qc,Jn=Pe.mb,si=Pe.nb,ai=Dn+1,ni=qn-1,vi=kn.l;if(t(Fn!=null&&Jn!=null&&Fe!=null),Ss[0]=null,Ss[1]=Is,Ss[2]=Pa,Ss[3]=ms,kn.ca=Jn,kn.tb=si,kn.c=Fe.width,kn.i=Fe.height,t(0<kn.c&&0<kn.i),1>=qn)Fe=0;else if(kn.$a=Fn[Dn+0]>>0&3,kn.Z=Fn[Dn+0]>>2&3,kn.Lc=Fn[Dn+0]>>4&3,Dn=Fn[Dn+0]>>6&3,0>kn.$a||1<kn.$a||4<=kn.Z||1<kn.Lc||Dn)Fe=0;else if(vi.put=Oi,vi.ac=Fi,vi.bc=Ii,vi.ma=kn,vi.width=Fe.width,vi.height=Fe.height,vi.Da=Fe.Da,vi.v=Fe.v,vi.va=Fe.va,vi.j=Fe.j,vi.o=Fe.o,kn.$a)e:{t(kn.$a==1),Fe=Mr();t:for(;;){if(Fe==null){Fe=0;break e}if(t(kn!=null),kn.mc=Fe,Fe.c=kn.c,Fe.i=kn.i,Fe.l=kn.l,Fe.l.ma=kn,Fe.l.width=kn.c,Fe.l.height=kn.i,Fe.a=0,pn(Fe.m,Fn,ai,ni),!Qr(kn.c,kn.i,1,Fe,null)||(Fe.ab==1&&Fe.gc[0].hc==3&&Ji(Fe.s)?(kn.ic=1,Fn=Fe.c*Fe.i,Fe.Ta=null,Fe.Ua=0,Fe.V=Se(Fn),Fe.Ba=0,Fe.V==null?(Fe.a=1,Fe=0):Fe=1):(kn.ic=0,Fe=Ns(Fe,kn.c)),!Fe))break t;Fe=1;break e}kn.mc=null,Fe=0}else Fe=ni>=kn.c*kn.i;kn=!Fe}if(kn)return null;Pe.ga.Lc!=1?Pe.Ga=0:sn=Tn-Ge}t(Pe.ga!=null),t(Ge+sn<=Tn);e:{if(Fe=(Fn=Pe.ga).c,Tn=Fn.l.o,Fn.$a==0){if(ai=Pe.rc,ni=Pe.Vc,vi=Pe.Fa,Dn=Pe.P+1+Ge*Fe,qn=Pe.mb,Jn=Pe.nb+Ge*Fe,t(Dn<=Pe.P+Pe.qc),Fn.Z!=0)for(t(Ss[Fn.Z]!=null),kn=0;kn<sn;++kn)Ss[Fn.Z](ai,ni,vi,Dn,qn,Jn,Fe),ai=qn,ni=Jn,Jn+=Fe,Dn+=Fe;else for(kn=0;kn<sn;++kn)_e(qn,Jn,vi,Dn,Fe),ai=qn,ni=Jn,Jn+=Fe,Dn+=Fe;Pe.rc=ai,Pe.Vc=ni}else{if(t(Fn.mc!=null),Fe=Ge+sn,t((kn=Fn.mc)!=null),t(Fe<=kn.i),kn.C>=Fe)Fe=1;else if(Fn.ic||ri(),Fn.ic){Fn=kn.V,ai=kn.Ba,ni=kn.c;var ci=kn.i,Qn=(vi=1,Dn=kn.$/ni,qn=kn.$%ni,Jn=kn.m,si=kn.s,kn.$),Zn=ni*ci,gi=ni*Fe,yi=si.wc,mi=Qn<gi?Ui(si,qn,Dn):null;t(Qn<=Zn),t(Fe<=ci),t(Ji(si));t:for(;;){for(;!Jn.h&&Qn<gi;){if(qn&yi||(mi=Ui(si,qn,Dn)),t(mi!=null),on(Jn),256>(ci=Xi(mi.G[0],mi.H[0],Jn)))Fn[ai+Qn]=ci,++Qn,++qn>=ni&&(qn=0,++Dn<=Fe&&!(Dn%16)&&rr(kn,Dn));else{if(!(280>ci)){vi=0;break t}ci=Bi(ci-256,Jn);var ki,Pi=Xi(mi.G[4],mi.H[4],Jn);if(on(Jn),!(Qn>=(Pi=Qi(ni,Pi=Bi(Pi,Jn)))&&Zn-Qn>=ci)){vi=0;break t}for(ki=0;ki<ci;++ki)Fn[ai+Qn+ki]=Fn[ai+Qn+ki-Pi];for(Qn+=ci,qn+=ci;qn>=ni;)qn-=ni,++Dn<=Fe&&!(Dn%16)&&rr(kn,Dn);Qn<gi&&qn&yi&&(mi=Ui(si,qn,Dn))}t(Jn.h==Ye(Jn))}rr(kn,Dn>Fe?Fe:Dn);break t}!vi||Jn.h&&Qn<Zn?(vi=0,kn.a=Jn.h?5:3):kn.$=Qn,Fe=vi}else Fe=vr(kn,kn.V,kn.Ba,kn.c,kn.i,Fe,Ds);if(!Fe){sn=0;break e}}Ge+sn>=Tn&&(Pe.Cc=1),sn=1}if(!sn)return null;if(Pe.Cc&&((sn=Pe.ga)!=null&&(sn.mc=null),Pe.ga=null,0<Pe.Ga))return alert("todo:WebPDequantizeLevels"),null}return Pe.nb+Ge*An}function We(Pe,Fe,Ge,sn,An,Tn){for(;0<An--;){var kn,Fn=Pe,Dn=Fe+(Ge?1:0),qn=Pe,Jn=Fe+(Ge?0:3);for(kn=0;kn<sn;++kn){var si=qn[Jn+4*kn];si!=255&&(si*=32897,Fn[Dn+4*kn+0]=Fn[Dn+4*kn+0]*si>>23,Fn[Dn+4*kn+1]=Fn[Dn+4*kn+1]*si>>23,Fn[Dn+4*kn+2]=Fn[Dn+4*kn+2]*si>>23)}Fe+=Tn}}function wn(Pe,Fe,Ge,sn,An){for(;0<sn--;){var Tn;for(Tn=0;Tn<Ge;++Tn){var kn=Pe[Fe+2*Tn+0],Fn=15&(qn=Pe[Fe+2*Tn+1]),Dn=4369*Fn,qn=(240&qn|qn>>4)*Dn>>16;Pe[Fe+2*Tn+0]=(240&kn|kn>>4)*Dn>>16&240|(15&kn|kn<<4)*Dn>>16>>4&15,Pe[Fe+2*Tn+1]=240&qn|Fn}Fe+=An}}function Gn(Pe,Fe,Ge,sn,An,Tn,kn,Fn){var Dn,qn,Jn=255;for(qn=0;qn<An;++qn){for(Dn=0;Dn<sn;++Dn){var si=Pe[Fe+Dn];Tn[kn+4*Dn]=si,Jn&=si}Fe+=Ge,kn+=Fn}return Jn!=255}function Kn(Pe,Fe,Ge,sn,An){var Tn;for(Tn=0;Tn<An;++Tn)Ge[sn+Tn]=Pe[Fe+Tn]>>8}function ri(){As=We,sa=wn,mo=Gn,dc=Kn}function hi(Pe,Fe,Ge){Je[Pe]=function(sn,An,Tn,kn,Fn,Dn,qn,Jn,si,ai,ni,vi,ci,Qn,Zn,gi,yi){var mi,ki=yi-1>>1,Pi=Fn[Dn+0]|qn[Jn+0]<<16,Di=si[ai+0]|ni[vi+0]<<16;t(sn!=null);var Ci=3*Pi+Di+131074>>2;for(Fe(sn[An+0],255&Ci,Ci>>16,ci,Qn),Tn!=null&&(Ci=3*Di+Pi+131074>>2,Fe(Tn[kn+0],255&Ci,Ci>>16,Zn,gi)),mi=1;mi<=ki;++mi){var Ki=Fn[Dn+mi]|qn[Jn+mi]<<16,Zi=si[ai+mi]|ni[vi+mi]<<16,$i=Pi+Ki+Di+Zi+524296,Wi=$i+2*(Ki+Di)>>3;Ci=Wi+Pi>>1,Pi=($i=$i+2*(Pi+Zi)>>3)+Ki>>1,Fe(sn[An+2*mi-1],255&Ci,Ci>>16,ci,Qn+(2*mi-1)*Ge),Fe(sn[An+2*mi-0],255&Pi,Pi>>16,ci,Qn+(2*mi-0)*Ge),Tn!=null&&(Ci=$i+Di>>1,Pi=Wi+Zi>>1,Fe(Tn[kn+2*mi-1],255&Ci,Ci>>16,Zn,gi+(2*mi-1)*Ge),Fe(Tn[kn+2*mi+0],255&Pi,Pi>>16,Zn,gi+(2*mi+0)*Ge)),Pi=Ki,Di=Zi}1&yi||(Ci=3*Pi+Di+131074>>2,Fe(sn[An+yi-1],255&Ci,Ci>>16,ci,Qn+(yi-1)*Ge),Tn!=null&&(Ci=3*Di+Pi+131074>>2,Fe(Tn[kn+yi-1],255&Ci,Ci>>16,Zn,gi+(yi-1)*Ge)))}}function _i(){jr[bo]=$u,jr[yo]=Sc,jr[bc]=Xu,jr[_o]=xc,jr[Ao]=Ec,jr[yl]=Pc,jr[yc]=Yu,jr[_l]=Sc,jr[Al]=xc,jr[wo]=Ec,jr[wl]=Pc}function Ti(Pe){return Pe&~Ku?0>Pe?0:255:Pe>>Cc}function Mi(Pe,Fe){return Ti((19077*Pe>>8)+(26149*Fe>>8)-14234)}function Vi(Pe,Fe,Ge){return Ti((19077*Pe>>8)-(6419*Fe>>8)-(13320*Ge>>8)+8708)}function zi(Pe,Fe){return Ti((19077*Pe>>8)+(33050*Fe>>8)-17685)}function Gi(Pe,Fe,Ge,sn,An){sn[An+0]=Mi(Pe,Ge),sn[An+1]=Vi(Pe,Fe,Ge),sn[An+2]=zi(Pe,Fe)}function lr(Pe,Fe,Ge,sn,An){sn[An+0]=zi(Pe,Fe),sn[An+1]=Vi(Pe,Fe,Ge),sn[An+2]=Mi(Pe,Ge)}function cr(Pe,Fe,Ge,sn,An){var Tn=Vi(Pe,Fe,Ge);Fe=Tn<<3&224|zi(Pe,Fe)>>3,sn[An+0]=248&Mi(Pe,Ge)|Tn>>5,sn[An+1]=Fe}function pr(Pe,Fe,Ge,sn,An){var Tn=240&zi(Pe,Fe)|15;sn[An+0]=240&Mi(Pe,Ge)|Vi(Pe,Fe,Ge)>>4,sn[An+1]=Tn}function xr(Pe,Fe,Ge,sn,An){sn[An+0]=255,Gi(Pe,Fe,Ge,sn,An+1)}function yr(Pe,Fe,Ge,sn,An){lr(Pe,Fe,Ge,sn,An),sn[An+3]=255}function zr(Pe,Fe,Ge,sn,An){Gi(Pe,Fe,Ge,sn,An),sn[An+3]=255}function kr(Pe,Fe){return 0>Pe?0:Pe>Fe?Fe:Pe}function ss(Pe,Fe,Ge){Je[Pe]=function(sn,An,Tn,kn,Fn,Dn,qn,Jn,si){for(var ai=Jn+(-2&si)*Ge;Jn!=ai;)Fe(sn[An+0],Tn[kn+0],Fn[Dn+0],qn,Jn),Fe(sn[An+1],Tn[kn+0],Fn[Dn+0],qn,Jn+Ge),An+=2,++kn,++Dn,Jn+=2*Ge;1&si&&Fe(sn[An+0],Tn[kn+0],Fn[Dn+0],qn,Jn)}}function po(Pe,Fe,Ge){return Ge==0?Pe==0?Fe==0?6:5:Fe==0?4:0:Ge}function La(Pe,Fe,Ge,sn,An){switch(Pe>>>30){case 3:ia(Fe,Ge,sn,An,0);break;case 2:Ma(Fe,Ge,sn,An);break;case 1:Xr(Fe,Ge,sn,An)}}function Na(Pe,Fe){var Ge,sn,An=Fe.M,Tn=Fe.Nb,kn=Pe.oc,Fn=Pe.pc+40,Dn=Pe.oc,qn=Pe.pc+584,Jn=Pe.oc,si=Pe.pc+600;for(Ge=0;16>Ge;++Ge)kn[Fn+32*Ge-1]=129;for(Ge=0;8>Ge;++Ge)Dn[qn+32*Ge-1]=129,Jn[si+32*Ge-1]=129;for(0<An?kn[Fn-1-32]=Dn[qn-1-32]=Jn[si-1-32]=129:(Ae(kn,Fn-32-1,127,21),Ae(Dn,qn-32-1,127,9),Ae(Jn,si-32-1,127,9)),sn=0;sn<Pe.za;++sn){var ai=Fe.ya[Fe.aa+sn];if(0<sn){for(Ge=-1;16>Ge;++Ge)_e(kn,Fn+32*Ge-4,kn,Fn+32*Ge+12,4);for(Ge=-1;8>Ge;++Ge)_e(Dn,qn+32*Ge-4,Dn,qn+32*Ge+4,4),_e(Jn,si+32*Ge-4,Jn,si+32*Ge+4,4)}var ni=Pe.Gd,vi=Pe.Hd+sn,ci=ai.ad,Qn=ai.Hc;if(0<An&&(_e(kn,Fn-32,ni[vi].y,0,16),_e(Dn,qn-32,ni[vi].f,0,8),_e(Jn,si-32,ni[vi].ea,0,8)),ai.Za){var Zn=kn,gi=Fn-32+16;for(0<An&&(sn>=Pe.za-1?Ae(Zn,gi,ni[vi].y[15],4):_e(Zn,gi,ni[vi+1].y,0,4)),Ge=0;4>Ge;Ge++)Zn[gi+128+Ge]=Zn[gi+256+Ge]=Zn[gi+384+Ge]=Zn[gi+0+Ge];for(Ge=0;16>Ge;++Ge,Qn<<=2)Zn=kn,gi=Fn+Nc[Ge],Yr[ai.Ob[Ge]](Zn,gi),La(Qn,ci,16*+Ge,Zn,gi)}else if(Zn=po(sn,An,ai.Ob[0]),ws[Zn](kn,Fn),Qn!=0)for(Ge=0;16>Ge;++Ge,Qn<<=2)La(Qn,ci,16*+Ge,kn,Fn+Nc[Ge]);for(Ge=ai.Gc,Zn=po(sn,An,ai.Dd),us[Zn](Dn,qn),us[Zn](Jn,si),Qn=ci,Zn=Dn,gi=qn,255&(ai=Ge>>0)&&(170&ai?ys(Qn,256,Zn,gi):os(Qn,256,Zn,gi)),ai=Jn,Qn=si,255&(Ge>>=8)&&(170&Ge?ys(ci,320,ai,Qn):os(ci,320,ai,Qn)),An<Pe.Ub-1&&(_e(ni[vi].y,0,kn,Fn+480,16),_e(ni[vi].f,0,Dn,qn+224,8),_e(ni[vi].ea,0,Jn,si+224,8)),Ge=8*Tn*Pe.B,ni=Pe.sa,vi=Pe.ta+16*sn+16*Tn*Pe.R,ci=Pe.qa,ai=Pe.ra+8*sn+Ge,Qn=Pe.Ha,Zn=Pe.Ia+8*sn+Ge,Ge=0;16>Ge;++Ge)_e(ni,vi+Ge*Pe.R,kn,Fn+32*Ge,16);for(Ge=0;8>Ge;++Ge)_e(ci,ai+Ge*Pe.B,Dn,qn+32*Ge,8),_e(Qn,Zn+Ge*Pe.B,Jn,si+32*Ge,8)}}function Js(Pe,Fe,Ge,sn,An,Tn,kn,Fn,Dn){var qn=[0],Jn=[0],si=0,ai=Dn!=null?Dn.kd:0,ni=Dn!=null?Dn:new xa;if(Pe==null||12>Ge)return 7;ni.data=Pe,ni.w=Fe,ni.ha=Ge,Fe=[Fe],Ge=[Ge],ni.gb=[ni.gb];e:{var vi=Fe,ci=Ge,Qn=ni.gb;if(t(Pe!=null),t(ci!=null),t(Qn!=null),Qn[0]=0,12<=ci[0]&&!r(Pe,vi[0],"RIFF")){if(r(Pe,vi[0]+8,"WEBP")){Qn=3;break e}var Zn=mn(Pe,vi[0]+4);if(12>Zn||4294967286<Zn){Qn=3;break e}if(ai&&Zn>ci[0]-8){Qn=7;break e}Qn[0]=Zn,vi[0]+=12,ci[0]-=12}Qn=0}if(Qn!=0)return Qn;for(Zn=0<ni.gb[0],Ge=Ge[0];;){e:{var gi=Pe;ci=Fe,Qn=Ge;var yi=qn,mi=Jn,ki=vi=[0];if((Ci=si=[si])[0]=0,8>Qn[0])Qn=7;else{if(!r(gi,ci[0],"VP8X")){if(mn(gi,ci[0]+4)!=10){Qn=3;break e}if(18>Qn[0]){Qn=7;break e}var Pi=mn(gi,ci[0]+8),Di=1+un(gi,ci[0]+12);if(2147483648<=Di*(gi=1+un(gi,ci[0]+15))){Qn=3;break e}ki!=null&&(ki[0]=Pi),yi!=null&&(yi[0]=Di),mi!=null&&(mi[0]=gi),ci[0]+=18,Qn[0]-=18,Ci[0]=1}Qn=0}}if(si=si[0],vi=vi[0],Qn!=0)return Qn;if(ci=!!(2&vi),!Zn&&si)return 3;if(Tn!=null&&(Tn[0]=!!(16&vi)),kn!=null&&(kn[0]=ci),Fn!=null&&(Fn[0]=0),kn=qn[0],vi=Jn[0],si&&ci&&Dn==null){Qn=0;break}if(4>Ge){Qn=7;break}if(Zn&&si||!Zn&&!si&&!r(Pe,Fe[0],"ALPH")){Ge=[Ge],ni.na=[ni.na],ni.P=[ni.P],ni.Sa=[ni.Sa];e:{Pi=Pe,Qn=Fe,Zn=Ge;var Ci=ni.gb;yi=ni.na,mi=ni.P,ki=ni.Sa,Di=22,t(Pi!=null),t(Zn!=null),gi=Qn[0];var Ki=Zn[0];for(t(yi!=null),t(ki!=null),yi[0]=null,mi[0]=null,ki[0]=0;;){if(Qn[0]=gi,Zn[0]=Ki,8>Ki){Qn=7;break e}var Zi=mn(Pi,gi+4);if(4294967286<Zi){Qn=3;break e}var $i=8+Zi+1&-2;if(Di+=$i,0<Ci&&Di>Ci){Qn=3;break e}if(!r(Pi,gi,"VP8 ")||!r(Pi,gi,"VP8L")){Qn=0;break e}if(Ki[0]<$i){Qn=7;break e}r(Pi,gi,"ALPH")||(yi[0]=Pi,mi[0]=gi+8,ki[0]=Zi),gi+=$i,Ki-=$i}}if(Ge=Ge[0],ni.na=ni.na[0],ni.P=ni.P[0],ni.Sa=ni.Sa[0],Qn!=0)break}Ge=[Ge],ni.Ja=[ni.Ja],ni.xa=[ni.xa];e:if(Ci=Pe,Qn=Fe,Zn=Ge,yi=ni.gb[0],mi=ni.Ja,ki=ni.xa,Pi=Qn[0],gi=!r(Ci,Pi,"VP8 "),Di=!r(Ci,Pi,"VP8L"),t(Ci!=null),t(Zn!=null),t(mi!=null),t(ki!=null),8>Zn[0])Qn=7;else{if(gi||Di){if(Ci=mn(Ci,Pi+4),12<=yi&&Ci>yi-12){Qn=3;break e}if(ai&&Ci>Zn[0]-8){Qn=7;break e}mi[0]=Ci,Qn[0]+=8,Zn[0]-=8,ki[0]=Di}else ki[0]=5<=Zn[0]&&Ci[Pi+0]==47&&!(Ci[Pi+4]>>5),mi[0]=Zn[0];Qn=0}if(Ge=Ge[0],ni.Ja=ni.Ja[0],ni.xa=ni.xa[0],Fe=Fe[0],Qn!=0)break;if(4294967286<ni.Ja)return 3;if(Fn==null||ci||(Fn[0]=ni.xa?2:1),kn=[kn],vi=[vi],ni.xa){if(5>Ge){Qn=7;break}Fn=kn,ai=vi,ci=Tn,Pe==null||5>Ge?Pe=0:5<=Ge&&Pe[Fe+0]==47&&!(Pe[Fe+4]>>5)?(Zn=[0],Ci=[0],yi=[0],pn(mi=new Ze,Pe,Fe,Ge),xi(mi,Zn,Ci,yi)?(Fn!=null&&(Fn[0]=Zn[0]),ai!=null&&(ai[0]=Ci[0]),ci!=null&&(ci[0]=yi[0]),Pe=1):Pe=0):Pe=0}else{if(10>Ge){Qn=7;break}Fn=vi,Pe==null||10>Ge||!Ja(Pe,Fe+3,Ge-3)?Pe=0:(ai=Pe[Fe+0]|Pe[Fe+1]<<8|Pe[Fe+2]<<16,ci=16383&(Pe[Fe+7]<<8|Pe[Fe+6]),Pe=16383&(Pe[Fe+9]<<8|Pe[Fe+8]),1&ai||3<(ai>>1&7)||!(ai>>4&1)||ai>>5>=ni.Ja||!ci||!Pe?Pe=0:(kn&&(kn[0]=ci),Fn&&(Fn[0]=Pe),Pe=1))}if(!Pe||(kn=kn[0],vi=vi[0],si&&(qn[0]!=kn||Jn[0]!=vi)))return 3;Dn!=null&&(Dn[0]=ni,Dn.offset=Fe-Dn.w,t(4294967286>Fe-Dn.w),t(Dn.offset==Dn.ha-Ge));break}return Qn==0||Qn==7&&si&&Dn==null?(Tn!=null&&(Tn[0]|=ni.na!=null&&0<ni.na.length),sn!=null&&(sn[0]=kn),An!=null&&(An[0]=vi),0):Qn}function Ta(Pe,Fe,Ge){var sn=Fe.width,An=Fe.height,Tn=0,kn=0,Fn=sn,Dn=An;if(Fe.Da=Pe!=null&&0<Pe.Da,Fe.Da&&(Fn=Pe.cd,Dn=Pe.bd,Tn=Pe.v,kn=Pe.j,11>Ge||(Tn&=-2,kn&=-2),0>Tn||0>kn||0>=Fn||0>=Dn||Tn+Fn>sn||kn+Dn>An))return 0;if(Fe.v=Tn,Fe.j=kn,Fe.va=Tn+Fn,Fe.o=kn+Dn,Fe.U=Fn,Fe.T=Dn,Fe.da=Pe!=null&&0<Pe.da,Fe.da){if(!yn(Fn,Dn,Ge=[Pe.ib],Tn=[Pe.hb]))return 0;Fe.ib=Ge[0],Fe.hb=Tn[0]}return Fe.ob=Pe!=null&&Pe.ob,Fe.Kb=Pe==null||!Pe.Sd,Fe.da&&(Fe.ob=Fe.ib<3*sn/4&&Fe.hb<3*An/4,Fe.Kb=0),1}function ka(Pe){if(Pe==null)return 2;if(11>Pe.S){var Fe=Pe.f.RGBA;Fe.fb+=(Pe.height-1)*Fe.A,Fe.A=-Fe.A}else Fe=Pe.f.kb,Pe=Pe.height,Fe.O+=(Pe-1)*Fe.fa,Fe.fa=-Fe.fa,Fe.N+=(Pe-1>>1)*Fe.Ab,Fe.Ab=-Fe.Ab,Fe.W+=(Pe-1>>1)*Fe.Db,Fe.Db=-Fe.Db,Fe.F!=null&&(Fe.J+=(Pe-1)*Fe.lb,Fe.lb=-Fe.lb);return 0}function Qs(Pe,Fe,Ge,sn){if(sn==null||0>=Pe||0>=Fe)return 2;if(Ge!=null){if(Ge.Da){var An=Ge.cd,Tn=Ge.bd,kn=-2&Ge.v,Fn=-2&Ge.j;if(0>kn||0>Fn||0>=An||0>=Tn||kn+An>Pe||Fn+Tn>Fe)return 2;Pe=An,Fe=Tn}if(Ge.da){if(!yn(Pe,Fe,An=[Ge.ib],Tn=[Ge.hb]))return 2;Pe=An[0],Fe=Tn[0]}}sn.width=Pe,sn.height=Fe;e:{var Dn=sn.width,qn=sn.height;if(Pe=sn.S,0>=Dn||0>=qn||!(Pe>=bo&&13>Pe))Pe=2;else{if(0>=sn.Rd&&sn.sd==null){kn=Tn=An=Fe=0;var Jn=(Fn=Dn*Tc[Pe])*qn;if(11>Pe||(Tn=(qn+1)/2*(Fe=(Dn+1)/2),Pe==12&&(kn=(An=Dn)*qn)),(qn=Se(Jn+2*Tn+kn))==null){Pe=1;break e}sn.sd=qn,11>Pe?((Dn=sn.f.RGBA).eb=qn,Dn.fb=0,Dn.A=Fn,Dn.size=Jn):((Dn=sn.f.kb).y=qn,Dn.O=0,Dn.fa=Fn,Dn.Fd=Jn,Dn.f=qn,Dn.N=0+Jn,Dn.Ab=Fe,Dn.Cd=Tn,Dn.ea=qn,Dn.W=0+Jn+Tn,Dn.Db=Fe,Dn.Ed=Tn,Pe==12&&(Dn.F=qn,Dn.J=0+Jn+2*Tn),Dn.Tc=kn,Dn.lb=An)}if(Fe=1,An=sn.S,Tn=sn.width,kn=sn.height,An>=bo&&13>An)if(11>An)Pe=sn.f.RGBA,Fe&=(Fn=Math.abs(Pe.A))*(kn-1)+Tn<=Pe.size,Fe&=Fn>=Tn*Tc[An],Fe&=Pe.eb!=null;else{Pe=sn.f.kb,Fn=(Tn+1)/2,Jn=(kn+1)/2,Dn=Math.abs(Pe.fa),qn=Math.abs(Pe.Ab);var si=Math.abs(Pe.Db),ai=Math.abs(Pe.lb),ni=ai*(kn-1)+Tn;Fe&=Dn*(kn-1)+Tn<=Pe.Fd,Fe&=qn*(Jn-1)+Fn<=Pe.Cd,Fe=(Fe&=si*(Jn-1)+Fn<=Pe.Ed)&Dn>=Tn&qn>=Fn&si>=Fn,Fe&=Pe.y!=null,Fe&=Pe.f!=null,Fe&=Pe.ea!=null,An==12&&(Fe&=ai>=Tn,Fe&=ni<=Pe.Tc,Fe&=Pe.F!=null)}else Fe=0;Pe=Fe?0:2}}return Pe!=0||Ge!=null&&Ge.fd&&(Pe=ka(sn)),Pe}var Cr=64,Zs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ea=24,ta=32,Ra=8,Lr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pn("Predictor0","PredictorAdd0"),Je.Predictor0=function(){return 4278190080},Je.Predictor1=function(Pe){return Pe},Je.Predictor2=function(Pe,Fe,Ge){return Fe[Ge+0]},Je.Predictor3=function(Pe,Fe,Ge){return Fe[Ge+1]},Je.Predictor4=function(Pe,Fe,Ge){return Fe[Ge-1]},Je.Predictor5=function(Pe,Fe,Ge){return nn(nn(Pe,Fe[Ge+1]),Fe[Ge+0])},Je.Predictor6=function(Pe,Fe,Ge){return nn(Pe,Fe[Ge-1])},Je.Predictor7=function(Pe,Fe,Ge){return nn(Pe,Fe[Ge+0])},Je.Predictor8=function(Pe,Fe,Ge){return nn(Fe[Ge-1],Fe[Ge+0])},Je.Predictor9=function(Pe,Fe,Ge){return nn(Fe[Ge+0],Fe[Ge+1])},Je.Predictor10=function(Pe,Fe,Ge){return nn(nn(Pe,Fe[Ge-1]),nn(Fe[Ge+0],Fe[Ge+1]))},Je.Predictor11=function(Pe,Fe,Ge){var sn=Fe[Ge+0];return 0>=zn(sn>>24&255,Pe>>24&255,(Fe=Fe[Ge-1])>>24&255)+zn(sn>>16&255,Pe>>16&255,Fe>>16&255)+zn(sn>>8&255,Pe>>8&255,Fe>>8&255)+zn(255&sn,255&Pe,255&Fe)?sn:Pe},Je.Predictor12=function(Pe,Fe,Ge){var sn=Fe[Ge+0];return(xn((Pe>>24&255)+(sn>>24&255)-((Fe=Fe[Ge-1])>>24&255))<<24|xn((Pe>>16&255)+(sn>>16&255)-(Fe>>16&255))<<16|xn((Pe>>8&255)+(sn>>8&255)-(Fe>>8&255))<<8|xn((255&Pe)+(255&sn)-(255&Fe)))>>>0},Je.Predictor13=function(Pe,Fe,Ge){var sn=Fe[Ge-1];return(_n((Pe=nn(Pe,Fe[Ge+0]))>>24&255,sn>>24&255)<<24|_n(Pe>>16&255,sn>>16&255)<<16|_n(Pe>>8&255,sn>>8&255)<<8|_n(Pe>>0&255,sn>>0&255))>>>0};var gl=Je.PredictorAdd0;Je.PredictorAdd1=$n,Pn("Predictor2","PredictorAdd2"),Pn("Predictor3","PredictorAdd3"),Pn("Predictor4","PredictorAdd4"),Pn("Predictor5","PredictorAdd5"),Pn("Predictor6","PredictorAdd6"),Pn("Predictor7","PredictorAdd7"),Pn("Predictor8","PredictorAdd8"),Pn("Predictor9","PredictorAdd9"),Pn("Predictor10","PredictorAdd10"),Pn("Predictor11","PredictorAdd11"),Pn("Predictor12","PredictorAdd12"),Pn("Predictor13","PredictorAdd13");var Ia=Je.PredictorAdd2;li("ColorIndexInverseTransform","MapARGB","32b",function(Pe){return Pe>>8&255},function(Pe){return Pe}),li("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Pe){return Pe},function(Pe){return Pe>>8&255});var go,Wr=Je.ColorIndexInverseTransform,Fa=Je.MapARGB,ml=Je.VP8LColorIndexInverseTransformAlpha,vl=Je.MapAlpha,vs=Je.VP8LPredictorsAdd=[];vs.length=16,(Je.VP8LPredictors=[]).length=16,(Je.VP8LPredictorsAdd_C=[]).length=16,(Je.VP8LPredictors_C=[]).length=16;var Or,Gr,bs,es,as,na,$r,ia,Ma,ys,Xr,os,Fs,ra,Ms,_s,Oa,Dr,ls,ar,or,fr,br,cs,As,sa,mo,dc,fc=Se(511),pc=Se(2041),gc=Se(225),mc=Se(767),vc=0,bl=pc,vo=gc,Rr=mc,Br=fc,bo=0,yo=1,bc=2,_o=3,Ao=4,yl=5,yc=6,_l=7,Al=8,wo=9,wl=10,Iu=[2,3,7],Fu=[3,3,11],_c=[280,256,256,256,40],Mu=[0,1,1,1,0],Ou=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Du=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ju=8,Sl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Da=null,Uu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ac=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Hu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Wu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ws=[],Yr=[],us=[],Gu=1,wc=2,Ss=[],jr=[];hi("UpsampleRgbLinePair",Gi,3),hi("UpsampleBgrLinePair",lr,3),hi("UpsampleRgbaLinePair",zr,4),hi("UpsampleBgraLinePair",yr,4),hi("UpsampleArgbLinePair",xr,4),hi("UpsampleRgba4444LinePair",pr,2),hi("UpsampleRgb565LinePair",cr,2);var $u=Je.UpsampleRgbLinePair,Xu=Je.UpsampleBgrLinePair,Sc=Je.UpsampleRgbaLinePair,xc=Je.UpsampleBgraLinePair,Ec=Je.UpsampleArgbLinePair,Pc=Je.UpsampleRgba4444LinePair,Yu=Je.UpsampleRgb565LinePair,So=16,xo=1<<So-1,Ba=-227,El=482,Cc=6,Ku=(256<<Cc)-1,Lc=0,Ju=Se(256),Qu=Se(256),Zu=Se(256),eh=Se(256),th=Se(El-Ba),nh=Se(El-Ba);ss("YuvToRgbRow",Gi,3),ss("YuvToBgrRow",lr,3),ss("YuvToRgbaRow",zr,4),ss("YuvToBgraRow",yr,4),ss("YuvToArgbRow",xr,4),ss("YuvToRgba4444Row",pr,2),ss("YuvToRgb565Row",cr,2);var Nc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Eo=[0,2,8],ih=[8,7,6,4,4,2,2,2,1,1,1,1],rh=1;this.WebPDecodeRGBA=function(Pe,Fe,Ge,sn,An){var Tn=yo,kn=new Ys,Fn=new pi;kn.ba=Fn,Fn.S=Tn,Fn.width=[Fn.width],Fn.height=[Fn.height];var Dn=Fn.width,qn=Fn.height,Jn=new Si;if(Jn==null||Pe==null)var si=2;else t(Jn!=null),si=Js(Pe,Fe,Ge,Jn.width,Jn.height,Jn.Pd,Jn.Qd,Jn.format,null);if(si!=0?Dn=0:(Dn!=null&&(Dn[0]=Jn.width[0]),qn!=null&&(qn[0]=Jn.height[0]),Dn=1),Dn){Fn.width=Fn.width[0],Fn.height=Fn.height[0],sn!=null&&(sn[0]=Fn.width),An!=null&&(An[0]=Fn.height);e:{if(sn=new qs,(An=new xa).data=Pe,An.w=Fe,An.ha=Ge,An.kd=1,Fe=[0],t(An!=null),((Pe=Js(An.data,An.w,An.ha,null,null,null,Fe,null,An))==0||Pe==7)&&Fe[0]&&(Pe=4),(Fe=Pe)==0){if(t(kn!=null),sn.data=An.data,sn.w=An.w+An.offset,sn.ha=An.ha-An.offset,sn.put=Oi,sn.ac=Fi,sn.bc=Ii,sn.ma=kn,An.xa){if((Pe=Mr())==null){kn=1;break e}if(function(ai,ni){var vi=[0],ci=[0],Qn=[0];t:for(;;){if(ai==null)return 0;if(ni==null)return ai.a=2,0;if(ai.l=ni,ai.a=0,pn(ai.m,ni.data,ni.w,ni.ha),!xi(ai.m,vi,ci,Qn)){ai.a=3;break t}if(ai.xb=wc,ni.width=vi[0],ni.height=ci[0],!Qr(vi[0],ci[0],1,ai,null))break t;return 1}return t(ai.a!=0),0}(Pe,sn)){if(sn=(Fe=Qs(sn.width,sn.height,kn.Oa,kn.ba))==0){t:{sn=Pe;n:for(;;){if(sn==null){sn=0;break t}if(t(sn.s.yc!=null),t(sn.s.Ya!=null),t(0<sn.s.Wb),t((Ge=sn.l)!=null),t((An=Ge.ma)!=null),sn.xb!=0){if(sn.ca=An.ba,sn.tb=An.tb,t(sn.ca!=null),!Ta(An.Oa,Ge,_o)){sn.a=2;break n}if(!Ns(sn,Ge.width)||Ge.da)break n;if((Ge.da||Rn(sn.ca.S))&&ri(),11>sn.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),sn.ca.f.kb.F!=null&&ri()),sn.Pb&&0<sn.s.ua&&sn.s.vb.X==null&&!St(sn.s.vb,sn.s.Wa.Xa)){sn.a=1;break n}sn.xb=0}if(!vr(sn,sn.V,sn.Ba,sn.c,sn.i,Ge.o,tr))break n;An.Dc=sn.Ma,sn=1;break t}t(sn.a!=0),sn=0}sn=!sn}sn&&(Fe=Pe.a)}else Fe=Pe.a}else{if((Pe=new Yo)==null){kn=1;break e}if(Pe.Fa=An.na,Pe.P=An.P,Pe.qc=An.Sa,Qa(Pe,sn)){if((Fe=Qs(sn.width,sn.height,kn.Oa,kn.ba))==0){if(Pe.Aa=0,Ge=kn.Oa,t((An=Pe)!=null),Ge!=null){if(0<(Dn=0>(Dn=Ge.Md)?0:100<Dn?255:255*Dn/100)){for(qn=Jn=0;4>qn;++qn)12>(si=An.pb[qn]).lc&&(si.ia=Dn*ih[0>si.lc?0:si.lc]>>3),Jn|=si.ia;Jn&&(alert("todo:VP8InitRandom"),An.ia=1)}An.Ga=Ge.Id,100<An.Ga?An.Ga=100:0>An.Ga&&(An.Ga=0)}Ko(Pe,sn)||(Fe=Pe.a)}}else Fe=Pe.a}Fe==0&&kn.Oa!=null&&kn.Oa.fd&&(Fe=ka(kn.ba))}kn=Fe}Tn=kn!=0?null:11>Tn?Fn.f.RGBA.eb:Fn.f.kb.y}else Tn=null;return Tn};var Tc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Ce(Je,dn){for(var an="",Ke=0;Ke<4;Ke++)an+=String.fromCharCode(Je[dn++]);return an}function Re(Je,dn){return(Je[dn+0]<<0|Je[dn+1]<<8|Je[dn+2]<<16)>>>0}function Ue(Je,dn){return(Je[dn+0]<<0|Je[dn+1]<<8|Je[dn+2]<<16|Je[dn+3]<<24)>>>0}new Te;var De=[0],ke=[0],Me=[],Oe=new Te,Be=e,Ie=function(Je,dn){var an={},Ke=0,rn=!1,Cn=0,Sn=0;if(an.frames=[],!function(Xe,Ye,en,on){for(var hn=0;hn<on;hn++)if(Xe[Ye+hn]!=en.charCodeAt(hn))return!0;return!1}(Je,dn,"RIFF",4)){var fn,gn;for(Ue(Je,dn+=4),dn+=8;dn<Je.length;){var vn=Ce(Je,dn),pn=Ue(Je,dn+=4);dn+=4;var On=pn+(1&pn);switch(vn){case"VP8 ":case"VP8L":an.frames[Ke]===void 0&&(an.frames[Ke]={}),(Ze=an.frames[Ke]).src_off=rn?Sn:dn-8,Ze.src_size=Cn+pn+8,Ke++,rn&&(rn=!1,Cn=0,Sn=0);break;case"VP8X":(Ze=an.header={}).feature_flags=Je[dn];var Hn=dn+4;Ze.canvas_width=1+Re(Je,Hn),Hn+=3,Ze.canvas_height=1+Re(Je,Hn),Hn+=3;break;case"ALPH":rn=!0,Cn=On+8,Sn=dn-8;break;case"ANIM":(Ze=an.header).bgcolor=Ue(Je,dn),Hn=dn+4,Ze.loop_count=(fn=Je)[(gn=Hn)+0]<<0|fn[gn+1]<<8,Hn+=2;break;case"ANMF":var Bn,Ze;(Ze=an.frames[Ke]={}).offset_x=2*Re(Je,dn),dn+=3,Ze.offset_y=2*Re(Je,dn),dn+=3,Ze.width=1+Re(Je,dn),dn+=3,Ze.height=1+Re(Je,dn),dn+=3,Ze.duration=Re(Je,dn),dn+=3,Bn=Je[dn++],Ze.dispose=1&Bn,Ze.blend=Bn>>1&1}vn!="ANMF"&&(dn+=On)}return an}}(Be,0);Ie.response=Be,Ie.rgbaoutput=!0,Ie.dataurl=!1;var qe=Ie.header?Ie.header:null,je=Ie.frames?Ie.frames:null;if(qe){qe.loop_counter=qe.loop_count,De=[qe.canvas_height],ke=[qe.canvas_width];for(var ze=0;ze<je.length&&je[ze].blend!=0;ze++);}var Ve=je[0],He=Oe.WebPDecodeRGBA(Be,Ve.src_off,Ve.src_size,ke,De);Ve.rgba=He,Ve.imgwidth=ke[0],Ve.imgheight=De[0];for(var Qe=0;Qe<ke[0]*De[0]*4;Qe++)Me[Qe]=He[Qe];return this.width=ke,this.height=De,this.data=Me,this}(function(e){var t=function(){return typeof zlibSync=="function"},r=function(De,ke,Me,Oe){var Be=4,Ie=Ee;switch(Oe){case e.image_compression.FAST:Be=1,Ie=Se;break;case e.image_compression.MEDIUM:Be=6,Ie=xe;break;case e.image_compression.SLOW:Be=9,Ie=Te}De=_e(De,ke,Me,Ie);var qe=zlibSync(De,{level:Be});return e.__addimage__.arrayBufferToBinaryString(qe)},_e=function(De,ke,Me,Oe){for(var Be,Ie,qe,je=De.length/ke,ze=new Uint8Array(De.length+je),Ve=Re(),He=0;He<je;He+=1){if(qe=He*ke,Be=De.subarray(qe,qe+ke),Oe)ze.set(Oe(Be,Me,Ie),qe+He);else{for(var Qe,Je=Ve.length,dn=[];Qe<Je;Qe+=1)dn[Qe]=Ve[Qe](Be,Me,Ie);var an=Ue(dn.concat());ze.set(dn[an],qe+He)}Ie=Be}return ze},Ae=function(De){var ke=Array.apply([],De);return ke.unshift(0),ke},Se=function(De,ke){var Me,Oe=[],Be=De.length;Oe[0]=1;for(var Ie=0;Ie<Be;Ie+=1)Me=De[Ie-ke]||0,Oe[Ie+1]=De[Ie]-Me+256&255;return Oe},Ee=function(De,ke,Me){var Oe,Be=[],Ie=De.length;Be[0]=2;for(var qe=0;qe<Ie;qe+=1)Oe=Me&&Me[qe]||0,Be[qe+1]=De[qe]-Oe+256&255;return Be},xe=function(De,ke,Me){var Oe,Be,Ie=[],qe=De.length;Ie[0]=3;for(var je=0;je<qe;je+=1)Oe=De[je-ke]||0,Be=Me&&Me[je]||0,Ie[je+1]=De[je]+256-(Oe+Be>>>1)&255;return Ie},Te=function(De,ke,Me){var Oe,Be,Ie,qe,je=[],ze=De.length;je[0]=4;for(var Ve=0;Ve<ze;Ve+=1)Oe=De[Ve-ke]||0,Be=Me&&Me[Ve]||0,Ie=Me&&Me[Ve-ke]||0,qe=Ce(Oe,Be,Ie),je[Ve+1]=De[Ve]-qe+256&255;return je},Ce=function(De,ke,Me){if(De===ke&&ke===Me)return De;var Oe=Math.abs(ke-Me),Be=Math.abs(De-Me),Ie=Math.abs(De+ke-Me-Me);return Oe<=Be&&Oe<=Ie?De:Be<=Ie?ke:Me},Re=function(){return[Ae,Se,Ee,xe,Te]},Ue=function(De){var ke=De.map(function(Me){return Me.reduce(function(Oe,Be){return Oe+Math.abs(Be)},0)});return ke.indexOf(Math.min.apply(null,ke))};e.processPNG=function(De,ke,Me,Oe){var Be,Ie,qe,je,ze,Ve,He,Qe,Je,dn,an,Ke,rn,Cn,Sn,fn=this.decode.FLATE_DECODE,gn="";if(this.__addimage__.isArrayBuffer(De)&&(De=new Uint8Array(De)),this.__addimage__.isArrayBufferView(De)){if(De=(qe=new Kt(De)).imgData,Ie=qe.bits,Be=qe.colorSpace,ze=qe.colors,[4,6].indexOf(qe.colorType)!==-1){if(qe.bits===8){Je=(Qe=qe.pixelBitlength==32?new Uint32Array(qe.decodePixels().buffer):qe.pixelBitlength==16?new Uint16Array(qe.decodePixels().buffer):new Uint8Array(qe.decodePixels().buffer)).length,an=new Uint8Array(Je*qe.colors),dn=new Uint8Array(Je);var vn,pn=qe.pixelBitlength-qe.bits;for(Cn=0,Sn=0;Cn<Je;Cn++){for(rn=Qe[Cn],vn=0;vn<pn;)an[Sn++]=rn>>>vn&255,vn+=qe.bits;dn[Cn]=rn>>>vn&255}}if(qe.bits===16){Je=(Qe=new Uint32Array(qe.decodePixels().buffer)).length,an=new Uint8Array(Je*(32/qe.pixelBitlength)*qe.colors),dn=new Uint8Array(Je*(32/qe.pixelBitlength)),Ke=qe.colors>1,Cn=0,Sn=0;for(var On=0;Cn<Je;)rn=Qe[Cn++],an[Sn++]=rn>>>0&255,Ke&&(an[Sn++]=rn>>>16&255,rn=Qe[Cn++],an[Sn++]=rn>>>0&255),dn[On++]=rn>>>16&255;Ie=8}Oe!==e.image_compression.NONE&&t()?(De=r(an,qe.width*qe.colors,qe.colors,Oe),He=r(dn,qe.width,1,Oe)):(De=an,He=dn,fn=void 0)}if(qe.colorType===3&&(Be=this.color_spaces.INDEXED,Ve=qe.palette,qe.transparency.indexed)){var Hn=qe.transparency.indexed,Bn=0;for(Cn=0,Je=Hn.length;Cn<Je;++Cn)Bn+=Hn[Cn];if((Bn/=255)===Je-1&&Hn.indexOf(0)!==-1)je=[Hn.indexOf(0)];else if(Bn!==Je){for(Qe=qe.decodePixels(),dn=new Uint8Array(Qe.length),Cn=0,Je=Qe.length;Cn<Je;Cn++)dn[Cn]=Hn[Qe[Cn]];He=r(dn,qe.width,1)}}var Ze=function(Xe){var Ye;switch(Xe){case e.image_compression.FAST:Ye=11;break;case e.image_compression.MEDIUM:Ye=13;break;case e.image_compression.SLOW:Ye=14;break;default:Ye=12}return Ye}(Oe);return fn===this.decode.FLATE_DECODE&&(gn="/Predictor "+Ze+" "),gn+="/Colors "+ze+" /BitsPerComponent "+Ie+" /Columns "+qe.width,(this.__addimage__.isArrayBuffer(De)||this.__addimage__.isArrayBufferView(De))&&(De=this.__addimage__.arrayBufferToBinaryString(De)),(He&&this.__addimage__.isArrayBuffer(He)||this.__addimage__.isArrayBufferView(He))&&(He=this.__addimage__.arrayBufferToBinaryString(He)),{alias:Me,data:De,index:ke,filter:fn,decodeParameters:gn,transparency:je,palette:Ve,sMask:He,predictor:Ze,width:qe.width,height:qe.height,bitsPerComponent:Ie,colorSpace:Be}}}})(E.API),function(e){e.processGIF89A=function(t,r,_e,Ae){var Se=new Zt(t),Ee=Se.width,xe=Se.height,Te=[];Se.decodeAndBlitFrameRGBA(0,Te);var Ce={data:Te,width:Ee,height:xe},Re=new Qt(100).encode(Ce,100);return e.processJPEG.call(this,Re,r,_e,Ae)},e.processGIF87A=e.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:Ae,green:_e,blue:r,quad:Se}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){a.log("bit decode error:"+r)}},te.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var _e=this.bottom_up?e:this.height-1-e,Ae=0;Ae<t;Ae++)for(var Se=this.datav.getUint8(this.pos++,!0),Ee=_e*this.width*4+8*Ae*4,xe=0;xe<8&&8*Ae+xe<this.width;xe++){var Te=this.palette[Se>>7-xe&1];this.data[Ee+4*xe]=Te.blue,this.data[Ee+4*xe+1]=Te.green,this.data[Ee+4*xe+2]=Te.red,this.data[Ee+4*xe+3]=255}r!==0&&(this.pos+=4-r)}},te.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var _e=this.bottom_up?r:this.height-1-r,Ae=0;Ae<e;Ae++){var Se=this.datav.getUint8(this.pos++,!0),Ee=_e*this.width*4+2*Ae*4,xe=Se>>4,Te=15&Se,Ce=this.palette[xe];if(this.data[Ee]=Ce.blue,this.data[Ee+1]=Ce.green,this.data[Ee+2]=Ce.red,this.data[Ee+3]=255,2*Ae+1>=this.width)break;Ce=this.palette[Te],this.data[Ee+4]=Ce.blue,this.data[Ee+4+1]=Ce.green,this.data[Ee+4+2]=Ce.red,this.data[Ee+4+3]=255}t!==0&&(this.pos+=4-t)}},te.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,_e=0;_e<this.width;_e++){var Ae=this.datav.getUint8(this.pos++,!0),Se=r*this.width*4+4*_e;if(Ae<this.palette.length){var Ee=this.palette[Ae];this.data[Se]=Ee.red,this.data[Se+1]=Ee.green,this.data[Se+2]=Ee.blue,this.data[Se+3]=255}else this.data[Se]=255,this.data[Se+1]=255,this.data[Se+2]=255,this.data[Se+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var _e=this.bottom_up?r:this.height-1-r,Ae=0;Ae<this.width;Ae++){var Se=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ee=(Se&t)/t*255|0,xe=(Se>>5&t)/t*255|0,Te=(Se>>10&t)/t*255|0,Ce=Se>>15?255:0,Re=_e*this.width*4+4*Ae;this.data[Re]=Te,this.data[Re+1]=xe,this.data[Re+2]=Ee,this.data[Re+3]=Ce}this.pos+=e}},te.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),_e=this.height-1;_e>=0;_e--){for(var Ae=this.bottom_up?_e:this.height-1-_e,Se=0;Se<this.width;Se++){var Ee=this.datav.getUint16(this.pos,!0);this.pos+=2;var xe=(Ee&t)/t*255|0,Te=(Ee>>5&r)/r*255|0,Ce=(Ee>>11)/t*255|0,Re=Ae*this.width*4+4*Se;this.data[Re]=Ce,this.data[Re+1]=Te,this.data[Re+2]=xe,this.data[Re+3]=255}this.pos+=e}},te.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var _e=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),Ee=t*this.width*4+4*r;this.data[Ee]=Se,this.data[Ee+1]=Ae,this.data[Ee+2]=_e,this.data[Ee+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var _e=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),Ee=this.datav.getUint8(this.pos++,!0),xe=t*this.width*4+4*r;this.data[xe]=Se,this.data[xe+1]=Ae,this.data[xe+2]=_e,this.data[xe+3]=Ee}},te.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,_e,Ae){var Se=new te(t,!1),Ee=Se.width,xe=Se.height,Te={data:Se.getData(),width:Ee,height:xe},Ce=new Qt(100).encode(Te,100);return e.processJPEG.call(this,Ce,r,_e,Ae)}}(E.API),ee.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,_e,Ae){var Se=new ee(t),Ee=Se.width,xe=Se.height,Te={data:Se.getData(),width:Ee,height:xe},Ce=new Qt(100).encode(Te,100);return e.processJPEG.call(this,Ce,r,_e,Ae)}}(E.API),E.API.processRGBA=function(e,t,r){for(var _e=e.data,Ae=_e.length,Se=new Uint8Array(Ae/4*3),Ee=new Uint8Array(Ae/4),xe=0,Te=0,Ce=0;Ce<Ae;Ce+=4){var Re=_e[Ce],Ue=_e[Ce+1],De=_e[Ce+2],ke=_e[Ce+3];Se[xe++]=Re,Se[xe++]=Ue,Se[xe++]=De,Ee[Te++]=ke}var Me=this.__addimage__.arrayBufferToBinaryString(Se);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ee),data:Me,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},E.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(e,t){var r,_e,Ae=(t=t||{}).font||this.internal.getFont(),Se=t.fontSize||this.internal.getFontSize(),Ee=t.charSpace||this.internal.getCharSpace(),xe=t.widths?t.widths:Ae.metadata.Unicode.widths,Te=xe.fof?xe.fof:1,Ce=t.kerning?t.kerning:Ae.metadata.Unicode.kerning,Re=Ce.fof?Ce.fof:1,Ue=t.doKerning!==!1,De=0,ke=e.length,Me=0,Oe=xe[0]||Te,Be=[];for(r=0;r<ke;r++)_e=e.charCodeAt(r),typeof Ae.metadata.widthOfString=="function"?Be.push((Ae.metadata.widthOfGlyph(Ae.metadata.characterToGlyph(_e))+Ee*(1e3/Se)||0)/1e3):(De=Ue&&_typeof(Ce[_e])==="object"&&!isNaN(parseInt(Ce[_e][Me],10))?Ce[_e][Me]/Re:0,Be.push((xe[_e]||Oe)/Te+De)),Me=_e;return Be},Yt=Vt.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),_e=t.font||this.internal.getFont(),Ae=t.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(e=Vt.processArabic(e)),typeof _e.metadata.widthOfString=="function"?_e.metadata.widthOfString(e,r,Ae)/r:Gt.apply(this,arguments).reduce(function(Se,Ee){return Se+Ee},0)},Jt=function(e,t,r,_e){for(var Ae=[],Se=0,Ee=e.length,xe=0;Se!==Ee&&xe+t[Se]<r;)xe+=t[Se],Se++;Ae.push(e.slice(0,Se));var Te=Se;for(xe=0;Se!==Ee;)xe+t[Se]>_e&&(Ae.push(e.slice(Te,Se)),xe=0,Te=Se),xe+=t[Se],Se++;return Te!==Se&&Ae.push(e.slice(Te,Se)),Ae},Xt=function(e,t,r){r||(r={});var _e,Ae,Se,Ee,xe,Te,Ce,Re=[],Ue=[Re],De=r.textIndent||0,ke=0,Me=0,Oe=e.split(" "),Be=Gt.apply(this,[" ",r])[0];if(Te=r.lineIndent===-1?Oe[0].length+2:r.lineIndent||0){var Ie=Array(Te).join(" "),qe=[];Oe.map(function(ze){(ze=ze.split(/\s*\n/)).length>1?qe=qe.concat(ze.map(function(Ve,He){return(He&&Ve.length?`
`:"")+Ve})):qe.push(ze[0])}),Oe=qe,Te=Yt.apply(this,[Ie,r])}for(Se=0,Ee=Oe.length;Se<Ee;Se++){var je=0;if(_e=Oe[Se],Te&&_e[0]==`
`&&(_e=_e.substr(1),je=1),De+ke+(Me=(Ae=Gt.apply(this,[_e,r])).reduce(function(ze,Ve){return ze+Ve},0))>t||je){if(Me>t){for(xe=Jt.apply(this,[_e,Ae,t-(De+ke),t]),Re.push(xe.shift()),Re=[xe.pop()];xe.length;)Ue.push([xe.shift()]);Me=Ae.slice(_e.length-(Re[0]?Re[0].length:0)).reduce(function(ze,Ve){return ze+Ve},0)}else Re=[_e];Ue.push(Re),De=Me+Te,ke=Be}else Re.push(_e),De+=ke+Me,ke=Be}return Ce=Te?function(ze,Ve){return(Ve?Ie:"")+ze.join(" ")}:function(ze){return ze.join(" ")},Ue.map(Ce)},Vt.splitTextToSize=function(e,t,r){var _e,Ae=(r=r||{}).fontSize||this.internal.getFontSize(),Se=function(Re){if(Re.widths&&Re.kerning)return{widths:Re.widths,kerning:Re.kerning};var Ue=this.internal.getFont(Re.fontName,Re.fontStyle);return Ue.metadata.Unicode?{widths:Ue.metadata.Unicode.widths||{0:1},kerning:Ue.metadata.Unicode.kerning||{}}:{font:Ue.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);_e=Array.isArray(e)?e:String(e).split(/\r?\n/);var Ee=1*this.internal.scaleFactor*t/Ae;Se.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/Ae:0,Se.lineIndent=r.lineIndent;var xe,Te,Ce=[];for(xe=0,Te=_e.length;xe<Te;xe++)Ce=Ce.concat(Xt.apply(this,[_e[xe],Ee,Se]));return Ce},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},_e={},Ae=0;Ae<t.length;Ae++)r[t[Ae]]="0123456789abcdef"[Ae],_e["0123456789abcdef"[Ae]]=t[Ae];var Se=function(Ue){return"0x"+parseInt(Ue,10).toString(16)},Ee=e.__fontmetrics__.compress=function(Ue){var De,ke,Me,Oe,Be=["{"];for(var Ie in Ue){if(De=Ue[Ie],isNaN(parseInt(Ie,10))?ke="'"+Ie+"'":(Ie=parseInt(Ie,10),ke=(ke=Se(Ie).slice(2)).slice(0,-1)+_e[ke.slice(-1)]),typeof De=="number")De<0?(Me=Se(De).slice(3),Oe="-"):(Me=Se(De).slice(2),Oe=""),Me=Oe+Me.slice(0,-1)+_e[Me.slice(-1)];else{if(_typeof(De)!=="object")throw new Error("Don't know what to do with value type "+_typeof(De)+".");Me=Ee(De)}Be.push(ke+Me)}return Be.push("}"),Be.join("")},xe=e.__fontmetrics__.uncompress=function(Ue){if(typeof Ue!="string")throw new Error("Invalid argument passed to uncompress.");for(var De,ke,Me,Oe,Be={},Ie=1,qe=Be,je=[],ze="",Ve="",He=Ue.length-1,Qe=1;Qe<He;Qe+=1)(Oe=Ue[Qe])=="'"?De?(Me=De.join(""),De=void 0):De=[]:De?De.push(Oe):Oe=="{"?(je.push([qe,Me]),qe={},Me=void 0):Oe=="}"?((ke=je.pop())[0][ke[1]]=qe,Me=void 0,qe=ke[0]):Oe=="-"?Ie=-1:Me===void 0?r.hasOwnProperty(Oe)?(ze+=r[Oe],Me=parseInt(ze,16)*Ie,Ie=1,ze=""):ze+=Oe:r.hasOwnProperty(Oe)?(Ve+=r[Oe],qe[Me]=parseInt(Ve,16)*Ie,Ie=1,Me=void 0,Ve=""):Ve+=Oe;return Be},Te={codePages:["WinAnsiEncoding"],WinAnsiEncoding:xe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ce={Unicode:{Courier:Te,"Courier-Bold":Te,"Courier-BoldOblique":Te,"Courier-Oblique":Te,Helvetica:Te,"Helvetica-Bold":Te,"Helvetica-BoldOblique":Te,"Helvetica-Oblique":Te,"Times-Roman":Te,"Times-Bold":Te,"Times-BoldItalic":Te,"Times-Italic":Te}},Re={Unicode:{"Courier-Oblique":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":xe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":xe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":xe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:xe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:xe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":xe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:xe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":xe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":xe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":xe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":xe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(Ue){var De=Ue.font,ke=Re.Unicode[De.postScriptName];ke&&(De.metadata.Unicode={},De.metadata.Unicode.widths=ke.widths,De.metadata.Unicode.kerning=ke.kerning);var Me=Ce.Unicode[De.postScriptName];Me&&(De.metadata.Unicode.encoding=Me,De.encoding=Me.codePages[0])}])}(E.API),function(e){var t=function(r){for(var _e=r.length,Ae=new Uint8Array(_e),Se=0;Se<_e;Se++)Ae[Se]=r.charCodeAt(Se);return Ae};e.API.events.push(["addFont",function(r){var _e=void 0,Ae=r.font,Se=r.instance;if(!Ae.isStandardFont){if(Se===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Ae.postScriptName+"').");if(typeof(_e=Se.existsFileInVFS(Ae.postScriptName)===!1?Se.loadFile(Ae.postScriptName):Se.getFileFromVFS(Ae.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Ae.postScriptName+"').");(function(Ee,xe){xe=/^\x00\x01\x00\x00/.test(xe)?t(xe):t(u(xe)),Ee.metadata=e.API.TTFFont.open(xe),Ee.metadata.Unicode=Ee.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ee.metadata.glyIdsUsed=[0]})(Ae,_e)}}])}(E),function(e){function t(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es.7a34bd06.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}E.API.addSvgAsImage=function(r,_e,Ae,Se,Ee,xe,Te,Ce){if(isNaN(_e)||isNaN(Ae))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Se)||isNaN(Ee))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Re=document.createElement("canvas");Re.width=Se,Re.height=Ee;var Ue=Re.getContext("2d");Ue.fillStyle="#fff",Ue.fillRect(0,0,Re.width,Re.height);var De={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},ke=this;return t().then(function(Me){return Me.fromString(Ue,r,De)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Me){return Me.render(De)}).then(function(){ke.addImage(Re.toDataURL("image/jpeg",1),_e,Ae,Se,Ee,Te,Ce)})}}(),E.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var _e=1;_e<=this.internal.getNumberOfPages();_e++)for(var Ae=0;Ae<this.internal.pages[_e].length;Ae++)this.internal.pages[_e][Ae]=this.internal.pages[_e][Ae].replace(t,r);return this},E.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var _e,Ae,Se,Ee={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},xe=Object.keys(Ee),Te=[],Ce=0,Re=0,Ue=0;function De(Me,Oe){var Be,Ie=!1;for(Be=0;Be<Me.length;Be+=1)Me[Be]===Oe&&(Ie=!0);return Ie}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ee)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var ke=xe.length;for(Ue=0;Ue<ke;Ue+=1)r[xe[Ue]].value=r[xe[Ue]].defaultValue,r[xe[Ue]].explicitSet=!1}if(_typeof(e)==="object"){for(Ae in e)if(Se=e[Ae],De(xe,Ae)&&Se!==void 0){if(r[Ae].type==="boolean"&&typeof Se=="boolean")r[Ae].value=Se;else if(r[Ae].type==="name"&&De(r[Ae].valueSet,Se))r[Ae].value=Se;else if(r[Ae].type==="integer"&&Number.isInteger(Se))r[Ae].value=Se;else if(r[Ae].type==="array"){for(Ce=0;Ce<Se.length;Ce+=1)if(_e=!0,Se[Ce].length===1&&typeof Se[Ce][0]=="number")Te.push(String(Se[Ce]-1));else if(Se[Ce].length>1){for(Re=0;Re<Se[Ce].length;Re+=1)typeof Se[Ce][Re]!="number"&&(_e=!1);_e===!0&&Te.push([Se[Ce][0]-1,Se[Ce][1]-1].join(" "))}r[Ae].value="["+Te.join(" ")+"]"}else r[Ae].value=r[Ae].defaultValue;r[Ae].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Me,Oe=[];for(Me in r)r[Me].explicitSet===!0&&(r[Me].type==="name"?Oe.push("/"+Me+" /"+r[Me].value):Oe.push("/"+Me+" "+r[Me].value));Oe.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Oe.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var _e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Ae=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Se=unescape(encodeURIComponent(_e)),Ee=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),xe=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Te=unescape(encodeURIComponent("</x:xmpmeta>")),Ce=Se.length+Ee.length+xe.length+Ae.length+Te.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Ce+" >>"),this.internal.write("stream"),this.internal.write(Ae+Se+Ee+xe+Te),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(_e,Ae){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:_e,namespaceuri:Ae||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(E.API),function(e){var t=e.API,r=t.pdfEscape16=function(Se,Ee){for(var xe,Te=Ee.metadata.Unicode.widths,Ce=["","0","00","000","0000"],Re=[""],Ue=0,De=Se.length;Ue<De;++Ue){if(xe=Ee.metadata.characterToGlyph(Se.charCodeAt(Ue)),Ee.metadata.glyIdsUsed.push(xe),Ee.metadata.toUnicode[xe]=Se.charCodeAt(Ue),Te.indexOf(xe)==-1&&(Te.push(xe),Te.push([parseInt(Ee.metadata.widthOfGlyph(xe),10)])),xe=="0")return Re.join("");xe=xe.toString(16),Re.push(Ce[4-xe.length],xe)}return Re.join("")},_e=function(Se){var Ee,xe,Te,Ce,Re,Ue,De;for(Re=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Te=[],Ue=0,De=(xe=Object.keys(Se).sort(function(ke,Me){return ke-Me})).length;Ue<De;Ue++)Ee=xe[Ue],Te.length>=100&&(Re+=`
`+Te.length+` beginbfchar
`+Te.join(`
`)+`
endbfchar`,Te=[]),Se[Ee]!==void 0&&Se[Ee]!==null&&typeof Se[Ee].toString=="function"&&(Ce=("0000"+Se[Ee].toString(16)).slice(-4),Ee=("0000"+(+Ee).toString(16)).slice(-4),Te.push("<"+Ee+"><"+Ce+">"));return Te.length&&(Re+=`
`+Te.length+` beginbfchar
`+Te.join(`
`)+`
endbfchar
`),Re+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(Se){(function(Ee){var xe=Ee.font,Te=Ee.out,Ce=Ee.newObject,Re=Ee.putStream;if(xe.metadata instanceof e.API.TTFFont&&xe.encoding==="Identity-H"){for(var Ue=xe.metadata.Unicode.widths,De=xe.metadata.subset.encode(xe.metadata.glyIdsUsed,1),ke="",Me=0;Me<De.length;Me++)ke+=String.fromCharCode(De[Me]);var Oe=Ce();Re({data:ke,addLength1:!0,objectId:Oe}),Te("endobj");var Be=Ce();Re({data:_e(xe.metadata.toUnicode),addLength1:!0,objectId:Be}),Te("endobj");var Ie=Ce();Te("<<"),Te("/Type /FontDescriptor"),Te("/FontName /"+F(xe.fontName)),Te("/FontFile2 "+Oe+" 0 R"),Te("/FontBBox "+e.API.PDFObject.convert(xe.metadata.bbox)),Te("/Flags "+xe.metadata.flags),Te("/StemV "+xe.metadata.stemV),Te("/ItalicAngle "+xe.metadata.italicAngle),Te("/Ascent "+xe.metadata.ascender),Te("/Descent "+xe.metadata.decender),Te("/CapHeight "+xe.metadata.capHeight),Te(">>"),Te("endobj");var qe=Ce();Te("<<"),Te("/Type /Font"),Te("/BaseFont /"+F(xe.fontName)),Te("/FontDescriptor "+Ie+" 0 R"),Te("/W "+e.API.PDFObject.convert(Ue)),Te("/CIDToGIDMap /Identity"),Te("/DW 1000"),Te("/Subtype /CIDFontType2"),Te("/CIDSystemInfo"),Te("<<"),Te("/Supplement 0"),Te("/Registry (Adobe)"),Te("/Ordering ("+xe.encoding+")"),Te(">>"),Te(">>"),Te("endobj"),xe.objectNumber=Ce(),Te("<<"),Te("/Type /Font"),Te("/Subtype /Type0"),Te("/ToUnicode "+Be+" 0 R"),Te("/BaseFont /"+F(xe.fontName)),Te("/Encoding /"+xe.encoding),Te("/DescendantFonts ["+qe+" 0 R]"),Te(">>"),Te("endobj"),xe.isAlreadyPutted=!0}})(Se)}]),t.events.push(["putFont",function(Se){(function(Ee){var xe=Ee.font,Te=Ee.out,Ce=Ee.newObject,Re=Ee.putStream;if(xe.metadata instanceof e.API.TTFFont&&xe.encoding==="WinAnsiEncoding"){for(var Ue=xe.metadata.rawData,De="",ke=0;ke<Ue.length;ke++)De+=String.fromCharCode(Ue[ke]);var Me=Ce();Re({data:De,addLength1:!0,objectId:Me}),Te("endobj");var Oe=Ce();Re({data:_e(xe.metadata.toUnicode),addLength1:!0,objectId:Oe}),Te("endobj");var Be=Ce();Te("<<"),Te("/Descent "+xe.metadata.decender),Te("/CapHeight "+xe.metadata.capHeight),Te("/StemV "+xe.metadata.stemV),Te("/Type /FontDescriptor"),Te("/FontFile2 "+Me+" 0 R"),Te("/Flags 96"),Te("/FontBBox "+e.API.PDFObject.convert(xe.metadata.bbox)),Te("/FontName /"+F(xe.fontName)),Te("/ItalicAngle "+xe.metadata.italicAngle),Te("/Ascent "+xe.metadata.ascender),Te(">>"),Te("endobj"),xe.objectNumber=Ce();for(var Ie=0;Ie<xe.metadata.hmtx.widths.length;Ie++)xe.metadata.hmtx.widths[Ie]=parseInt(xe.metadata.hmtx.widths[Ie]*(1e3/xe.metadata.head.unitsPerEm));Te("<</Subtype/TrueType/Type/Font/ToUnicode "+Oe+" 0 R/BaseFont/"+F(xe.fontName)+"/FontDescriptor "+Be+" 0 R/Encoding/"+xe.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(xe.metadata.hmtx.widths)+">>"),Te("endobj"),xe.isAlreadyPutted=!0}})(Se)}]);var Ae=function(Se){var Ee,xe=Se.text||"",Te=Se.x,Ce=Se.y,Re=Se.options||{},Ue=Se.mutex||{},De=Ue.pdfEscape,ke=Ue.activeFontKey,Me=Ue.fonts,Oe=ke,Be="",Ie=0,qe="",je=Me[Oe].encoding;if(Me[Oe].encoding!=="Identity-H")return{text:xe,x:Te,y:Ce,options:Re,mutex:Ue};for(qe=xe,Oe=ke,Array.isArray(xe)&&(qe=xe[0]),Ie=0;Ie<qe.length;Ie+=1)Me[Oe].metadata.hasOwnProperty("cmap")&&(Ee=Me[Oe].metadata.cmap.unicode.codeMap[qe[Ie].charCodeAt(0)]),Ee||qe[Ie].charCodeAt(0)<256&&Me[Oe].metadata.hasOwnProperty("Unicode")?Be+=qe[Ie]:Be+="";var ze="";return parseInt(Oe.slice(1))<14||je==="WinAnsiEncoding"?ze=De(Be,Oe).split("").map(function(Ve){return Ve.charCodeAt(0).toString(16)}).join(""):je==="Identity-H"&&(ze=r(Be,Me[Oe])),Ue.isHex=!0,{text:ze,x:Te,y:Ce,options:Re,mutex:Ue}};t.events.push(["postProcessText",function(Se){var Ee=Se.text||"",xe=[],Te={text:Ee,x:Se.x,y:Se.y,options:Se.options,mutex:Se.mutex};if(Array.isArray(Ee)){var Ce=0;for(Ce=0;Ce<Ee.length;Ce+=1)Array.isArray(Ee[Ce])&&Ee[Ce].length===3?xe.push([Ae(Object.assign({},Te,{text:Ee[Ce][0]})).text,Ee[Ce][1],Ee[Ce][2]]):xe.push(Ae(Object.assign({},Te,{text:Ee[Ce]})).text);Se.text=xe}else Se.text=Ae(Object.assign({},Te,{text:Ee})).text}])}(E),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,_e){return t.call(this),this.internal.vFS[r]=_e,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(E.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(_e){var Ae,Se,Ee,xe,Te,Ce,Re,Ue=t,De=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ke=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Me={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Oe={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Be=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Ie=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),qe=!1,je=0;this.__bidiEngine__={};var ze=function(Ke){var rn=Ke.charCodeAt(),Cn=rn>>8,Sn=Oe[Cn];return Sn!==void 0?Ue[256*Sn+(255&rn)]:Cn===252||Cn===253?"AL":Ie.test(Cn)?"L":Cn===8?"R":"N"},Ve=function(Ke){for(var rn,Cn=0;Cn<Ke.length;Cn++){if((rn=ze(Ke.charAt(Cn)))==="L")return!1;if(rn==="R")return!0}return!1},He=function(Ke,rn,Cn,Sn){var fn,gn,vn,pn,On=rn[Sn];switch(On){case"L":case"R":qe=!1;break;case"N":case"AN":break;case"EN":qe&&(On="AN");break;case"AL":qe=!0,On="R";break;case"WS":On="N";break;case"CS":Sn<1||Sn+1>=rn.length||(fn=Cn[Sn-1])!=="EN"&&fn!=="AN"||(gn=rn[Sn+1])!=="EN"&&gn!=="AN"?On="N":qe&&(gn="AN"),On=gn===fn?gn:"N";break;case"ES":On=(fn=Sn>0?Cn[Sn-1]:"B")==="EN"&&Sn+1<rn.length&&rn[Sn+1]==="EN"?"EN":"N";break;case"ET":if(Sn>0&&Cn[Sn-1]==="EN"){On="EN";break}if(qe){On="N";break}for(vn=Sn+1,pn=rn.length;vn<pn&&rn[vn]==="ET";)vn++;On=vn<pn&&rn[vn]==="EN"?"EN":"N";break;case"NSM":if(Ee&&!xe){for(pn=rn.length,vn=Sn+1;vn<pn&&rn[vn]==="NSM";)vn++;if(vn<pn){var Hn=Ke[Sn],Bn=Hn>=1425&&Hn<=2303||Hn===64286;if(fn=rn[vn],Bn&&(fn==="R"||fn==="AL")){On="R";break}}}On=Sn<1||(fn=rn[Sn-1])==="B"?"N":Cn[Sn-1];break;case"B":qe=!1,Ae=!0,On=je;break;case"S":Se=!0,On="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":qe=!1;break;case"BN":On="N"}return On},Qe=function(Ke,rn,Cn){var Sn=Ke.split("");return Cn&&Je(Sn,Cn,{hiLevel:je}),Sn.reverse(),rn&&rn.reverse(),Sn.join("")},Je=function(Ke,rn,Cn){var Sn,fn,gn,vn,pn,On=-1,Hn=Ke.length,Bn=0,Ze=[],Xe=je?ke:De,Ye=[];for(qe=!1,Ae=!1,Se=!1,fn=0;fn<Hn;fn++)Ye[fn]=ze(Ke[fn]);for(gn=0;gn<Hn;gn++){if(pn=Bn,Ze[gn]=He(Ke,Ye,Ze,gn),Sn=240&(Bn=Xe[pn][Me[Ze[gn]]]),Bn&=15,rn[gn]=vn=Xe[Bn][5],Sn>0)if(Sn===16){for(fn=On;fn<gn;fn++)rn[fn]=1;On=-1}else On=-1;if(Xe[Bn][6])On===-1&&(On=gn);else if(On>-1){for(fn=On;fn<gn;fn++)rn[fn]=vn;On=-1}Ye[gn]==="B"&&(rn[gn]=0),Cn.hiLevel|=vn}Se&&function(en,on,hn){for(var bn=0;bn<hn;bn++)if(en[bn]==="S"){on[bn]=je;for(var Ln=bn-1;Ln>=0&&en[Ln]==="WS";Ln--)on[Ln]=je}}(Ye,rn,Hn)},dn=function(Ke,rn,Cn,Sn,fn){if(!(fn.hiLevel<Ke)){if(Ke===1&&je===1&&!Ae)return rn.reverse(),void(Cn&&Cn.reverse());for(var gn,vn,pn,On,Hn=rn.length,Bn=0;Bn<Hn;){if(Sn[Bn]>=Ke){for(pn=Bn+1;pn<Hn&&Sn[pn]>=Ke;)pn++;for(On=Bn,vn=pn-1;On<vn;On++,vn--)gn=rn[On],rn[On]=rn[vn],rn[vn]=gn,Cn&&(gn=Cn[On],Cn[On]=Cn[vn],Cn[vn]=gn);Bn=pn}Bn++}}},an=function(Ke,rn,Cn){var Sn=Ke.split(""),fn={hiLevel:je};return Cn||(Cn=[]),Je(Sn,Cn,fn),function(gn,vn,pn){if(pn.hiLevel!==0&&Re)for(var On,Hn=0;Hn<gn.length;Hn++)vn[Hn]===1&&(On=Be.indexOf(gn[Hn]))>=0&&(gn[Hn]=Be[On+1])}(Sn,Cn,fn),dn(2,Sn,rn,Cn,fn),dn(1,Sn,rn,Cn,fn),Sn.join("")};return this.__bidiEngine__.doBidiReorder=function(Ke,rn,Cn){if(function(fn,gn){if(gn)for(var vn=0;vn<fn.length;vn++)gn[vn]=vn;xe===void 0&&(xe=Ve(fn)),Ce===void 0&&(Ce=Ve(fn))}(Ke,rn),Ee||!Te||Ce)if(Ee&&Te&&xe^Ce)je=xe?1:0,Ke=Qe(Ke,rn,Cn);else if(!Ee&&Te&&Ce)je=xe?1:0,Ke=an(Ke,rn,Cn),Ke=Qe(Ke,rn);else if(!Ee||xe||Te||Ce){if(Ee&&!Te&&xe^Ce)Ke=Qe(Ke,rn),xe?(je=0,Ke=an(Ke,rn,Cn)):(je=1,Ke=an(Ke,rn,Cn),Ke=Qe(Ke,rn));else if(Ee&&xe&&!Te&&Ce)je=1,Ke=an(Ke,rn,Cn),Ke=Qe(Ke,rn);else if(!Ee&&!Te&&xe^Ce){var Sn=Re;xe?(je=1,Ke=an(Ke,rn,Cn),je=0,Re=!1,Ke=an(Ke,rn,Cn),Re=Sn):(je=0,Ke=an(Ke,rn,Cn),Ke=Qe(Ke,rn),je=1,Re=!1,Ke=an(Ke,rn,Cn),Re=Sn,Ke=Qe(Ke,rn))}}else je=0,Ke=an(Ke,rn,Cn);else je=xe?1:0,Ke=an(Ke,rn,Cn);return Ke},this.__bidiEngine__.setOptions=function(Ke){Ke&&(Ee=Ke.isInputVisual,Te=Ke.isOutputVisual,xe=Ke.isInputRtl,Ce=Ke.isOutputRtl,Re=Ke.isSymmetricSwapping)},this.__bidiEngine__.setOptions(_e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(_e){var Ae=_e.text,Se=(_e.x,_e.y,_e.options||{}),Ee=(_e.mutex,Se.lang,[]);if(Se.isInputVisual=typeof Se.isInputVisual!="boolean"||Se.isInputVisual,r.setOptions(Se),Object.prototype.toString.call(Ae)==="[object Array]"){var xe=0;for(Ee=[],xe=0;xe<Ae.length;xe+=1)Object.prototype.toString.call(Ae[xe])==="[object Array]"?Ee.push([r.doBidiReorder(Ae[xe][0]),Ae[xe][1],Ae[xe][2]]):Ee.push([r.doBidiReorder(Ae[xe])]);_e.text=Ee}else _e.text=r.doBidiReorder(Ae);r.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ne(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,_e,Ae,Se;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var Ee,xe,Te,Ce;for(Ce=[],Ee=0,xe=(Te=this.bbox).length;Ee<xe;Ee++)t=Te[Ee],Ce.push(Math.round(t*this.scaleFactor));return Ce}.call(this),this.stemV=0,this.post.exists?(_e=255&(Ae=this.post.italic_angle),(32768&(r=Ae>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+_e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Se=this.familyClass)===1||Se===2||Se===3||Se===4||Se===5||Se===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,_e){var Ae,Se,Ee,xe;for(Ee=0,Se=0,xe=(t=""+t).length;0<=xe?Se<xe:Se>xe;Se=0<=xe?++Se:--Se)Ae=t.charCodeAt(Se),Ee+=this.widthOfGlyph(this.characterToGlyph(Ae))+_e*(1e3/r)||0;return Ee*(r/1e3)},e.prototype.lineHeight=function(t,r){var _e;return r==null&&(r=!1),_e=r?this.lineGap:0,(this.ascender+_e-this.decender)/1e3*t},e}();var re,ne=function(){function e(t){this.data=t!=null?t:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,_e;for(_e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)_e[r]=String.fromCharCode(this.readByte());return _e.join("")},e.prototype.writeString=function(t){var r,_e,Ae;for(Ae=[],r=0,_e=t.length;0<=_e?r<_e:r>_e;r=0<=_e?++r:--r)Ae.push(this.writeByte(t.charCodeAt(r)));return Ae},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,_e,Ae,Se,Ee,xe,Te;return t=this.readByte(),r=this.readByte(),_e=this.readByte(),Ae=this.readByte(),Se=this.readByte(),Ee=this.readByte(),xe=this.readByte(),Te=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^_e)+4294967296*(255^Ae)+16777216*(255^Se)+65536*(255^Ee)+256*(255^xe)+(255^Te)+1):72057594037927940*t+281474976710656*r+1099511627776*_e+4294967296*Ae+16777216*Se+65536*Ee+256*xe+Te},e.prototype.writeLongLong=function(t){var r,_e;return r=Math.floor(t/4294967296),_e=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(_e>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,_e;for(r=[],_e=0;0<=t?_e<t:_e>t;_e=0<=t?++_e:--_e)r.push(this.readByte());return r},e.prototype.write=function(t){var r,_e,Ae,Se;for(Se=[],_e=0,Ae=t.length;_e<Ae;_e++)r=t[_e],Se.push(this.writeByte(r));return Se},e}(),ie=function(){var e;function t(r){var _e,Ae,Se;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},Ae=0,Se=this.tableCount;0<=Se?Ae<Se:Ae>Se;Ae=0<=Se?++Ae:--Ae)_e={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[_e.tag]=_e}return t.prototype.encode=function(r){var _e,Ae,Se,Ee,xe,Te,Ce,Re,Ue,De,ke,Me,Oe;for(Oe in ke=Object.keys(r).length,Te=Math.log(2),Ue=16*Math.floor(Math.log(ke)/Te),Ee=Math.floor(Ue/Te),Re=16*ke-Ue,(Ae=new ne).writeInt(this.scalarType),Ae.writeShort(ke),Ae.writeShort(Ue),Ae.writeShort(Ee),Ae.writeShort(Re),Se=16*ke,Ce=Ae.pos+Se,xe=null,Me=[],r)for(De=r[Oe],Ae.writeString(Oe),Ae.writeInt(e(De)),Ae.writeInt(Ce),Ae.writeInt(De.length),Me=Me.concat(De),Oe==="head"&&(xe=Ce),Ce+=De.length;Ce%4;)Me.push(0),Ce++;return Ae.write(Me),_e=2981146554-e(Ae.data),Ae.pos=xe+8,Ae.writeUInt32(_e),Ae.data},e=function(r){var _e,Ae,Se,Ee;for(r=ve.call(r);r.length%4;)r.push(0);for(Se=new ne(r),Ae=0,_e=0,Ee=r.length;_e<Ee;_e=_e+=4)Ae+=Se.readUInt32();return 4294967295&Ae},t}(),ae={}.hasOwnProperty,oe=function(e,t){for(var r in t)ae.call(t,r)&&(e[r]=t[r]);function _e(){this.constructor=e}return _e.prototype=t.prototype,e.prototype=new _e,e.__super__=t.prototype,e};re=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var se=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var _e;return(_e=new ne).writeInt(this.version),_e.writeInt(this.revision),_e.writeInt(this.checkSumAdjustment),_e.writeInt(this.magicNumber),_e.writeShort(this.flags),_e.writeShort(this.unitsPerEm),_e.writeLongLong(this.created),_e.writeLongLong(this.modified),_e.writeShort(this.xMin),_e.writeShort(this.yMin),_e.writeShort(this.xMax),_e.writeShort(this.yMax),_e.writeShort(this.macStyle),_e.writeShort(this.lowestRecPPEM),_e.writeShort(this.fontDirectionHint),_e.writeShort(r),_e.writeShort(this.glyphDataFormat),_e.data},t}(),ce=function(){function e(t,r){var _e,Ae,Se,Ee,xe,Te,Ce,Re,Ue,De,ke,Me,Oe,Be,Ie,qe,je;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),Ue=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Te=0;Te<256;++Te)this.codeMap[Te]=t.readByte();break;case 4:for(ke=t.readUInt16(),De=ke/2,t.pos+=6,Se=function(){var ze,Ve;for(Ve=[],Te=ze=0;0<=De?ze<De:ze>De;Te=0<=De?++ze:--ze)Ve.push(t.readUInt16());return Ve}(),t.pos+=2,Oe=function(){var ze,Ve;for(Ve=[],Te=ze=0;0<=De?ze<De:ze>De;Te=0<=De?++ze:--ze)Ve.push(t.readUInt16());return Ve}(),Ce=function(){var ze,Ve;for(Ve=[],Te=ze=0;0<=De?ze<De:ze>De;Te=0<=De?++ze:--ze)Ve.push(t.readUInt16());return Ve}(),Re=function(){var ze,Ve;for(Ve=[],Te=ze=0;0<=De?ze<De:ze>De;Te=0<=De?++ze:--ze)Ve.push(t.readUInt16());return Ve}(),Ae=(this.length-t.pos+this.offset)/2,xe=function(){var ze,Ve;for(Ve=[],Te=ze=0;0<=Ae?ze<Ae:ze>Ae;Te=0<=Ae?++ze:--ze)Ve.push(t.readUInt16());return Ve}(),Te=Ie=0,je=Se.length;Ie<je;Te=++Ie)for(Be=Se[Te],_e=qe=Me=Oe[Te];Me<=Be?qe<=Be:qe>=Be;_e=Me<=Be?++qe:--qe)Re[Te]===0?Ee=_e+Ce[Te]:(Ee=xe[Re[Te]/2+(_e-Me)-(De-Te)]||0)!==0&&(Ee+=Ce[Te]),this.codeMap[_e]=65535&Ee}t.pos=Ue}return e.encode=function(t,r){var _e,Ae,Se,Ee,xe,Te,Ce,Re,Ue,De,ke,Me,Oe,Be,Ie,qe,je,ze,Ve,He,Qe,Je,dn,an,Ke,rn,Cn,Sn,fn,gn,vn,pn,On,Hn,Bn,Ze,Xe,Ye,en,on,hn,bn,Ln,Vn,Wn,un;switch(Sn=new ne,Ee=Object.keys(t).sort(function(mn,St){return mn-St}),r){case"macroman":for(Oe=0,Be=function(){var mn=[];for(Me=0;Me<256;++Me)mn.push(0);return mn}(),qe={0:0},Se={},fn=0,On=Ee.length;fn<On;fn++)qe[Ln=t[Ae=Ee[fn]]]==null&&(qe[Ln]=++Oe),Se[Ae]={old:t[Ae],new:qe[t[Ae]]},Be[Ae]=qe[t[Ae]];return Sn.writeUInt16(1),Sn.writeUInt16(0),Sn.writeUInt32(12),Sn.writeUInt16(0),Sn.writeUInt16(262),Sn.writeUInt16(0),Sn.write(Be),{charMap:Se,subtable:Sn.data,maxGlyphID:Oe+1};case"unicode":for(rn=[],Ue=[],je=0,qe={},_e={},Ie=Ce=null,gn=0,Hn=Ee.length;gn<Hn;gn++)qe[Ve=t[Ae=Ee[gn]]]==null&&(qe[Ve]=++je),_e[Ae]={old:Ve,new:qe[Ve]},xe=qe[Ve]-Ae,Ie!=null&&xe===Ce||(Ie&&Ue.push(Ie),rn.push(Ae),Ce=xe),Ie=Ae;for(Ie&&Ue.push(Ie),Ue.push(65535),rn.push(65535),an=2*(dn=rn.length),Je=2*Math.pow(Math.log(dn)/Math.LN2,2),De=Math.log(Je/2)/Math.LN2,Qe=2*dn-Je,Te=[],He=[],ke=[],Me=vn=0,Bn=rn.length;vn<Bn;Me=++vn){if(Ke=rn[Me],Re=Ue[Me],Ke===65535){Te.push(0),He.push(0);break}if(Ke-(Cn=_e[Ke].new)>=32768)for(Te.push(0),He.push(2*(ke.length+dn-Me)),Ae=pn=Ke;Ke<=Re?pn<=Re:pn>=Re;Ae=Ke<=Re?++pn:--pn)ke.push(_e[Ae].new);else Te.push(Cn-Ke),He.push(0)}for(Sn.writeUInt16(3),Sn.writeUInt16(1),Sn.writeUInt32(12),Sn.writeUInt16(4),Sn.writeUInt16(16+8*dn+2*ke.length),Sn.writeUInt16(0),Sn.writeUInt16(an),Sn.writeUInt16(Je),Sn.writeUInt16(De),Sn.writeUInt16(Qe),hn=0,Ze=Ue.length;hn<Ze;hn++)Ae=Ue[hn],Sn.writeUInt16(Ae);for(Sn.writeUInt16(0),bn=0,Xe=rn.length;bn<Xe;bn++)Ae=rn[bn],Sn.writeUInt16(Ae);for(Vn=0,Ye=Te.length;Vn<Ye;Vn++)xe=Te[Vn],Sn.writeUInt16(xe);for(Wn=0,en=He.length;Wn<en;Wn++)ze=He[Wn],Sn.writeUInt16(ze);for(un=0,on=ke.length;un<on;un++)Oe=ke[un],Sn.writeUInt16(Oe);return{charMap:_e,subtable:Sn.data,maxGlyphID:je+1}}},e}(),ue=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="cmap",t.prototype.parse=function(r){var _e,Ae,Se;for(r.pos=this.offset,this.version=r.readUInt16(),Se=r.readUInt16(),this.tables=[],this.unicode=null,Ae=0;0<=Se?Ae<Se:Ae>Se;Ae=0<=Se?++Ae:--Ae)_e=new ce(r,this.offset),this.tables.push(_e),_e.isUnicode&&this.unicode==null&&(this.unicode=_e);return!0},t.encode=function(r,_e){var Ae,Se;return _e==null&&(_e="macroman"),Ae=ce.encode(r,_e),(Se=new ne).writeUInt16(0),Se.writeUInt16(1),Ae.table=Se.data.concat(Ae.subtable),Ae},t}(),he=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),le=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var _e,Ae;for(Ae=[],_e=0;_e<10;++_e)Ae.push(r.readByte());return Ae}(),this.charRange=function(){var _e,Ae;for(Ae=[],_e=0;_e<4;++_e)Ae.push(r.readInt());return Ae}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var _e,Ae;for(Ae=[],_e=0;_e<2;_e=++_e)Ae.push(r.readInt());return Ae}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),fe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="post",t.prototype.parse=function(r){var _e,Ae,Se;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var Ee;for(Ae=r.readUInt16(),this.glyphNameIndex=[],Ee=0;0<=Ae?Ee<Ae:Ee>Ae;Ee=0<=Ae?++Ee:--Ee)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],Se=[];r.pos<this.offset+this.length;)_e=r.readByte(),Se.push(this.names.push(r.readString(_e)));return Se;case 151552:return Ae=r.readUInt16(),this.offsets=r.read(Ae);case 196608:break;case 262144:return this.map=function(){var xe,Te,Ce;for(Ce=[],Ee=xe=0,Te=this.file.maxp.numGlyphs;0<=Te?xe<Te:xe>Te;Ee=0<=Te?++xe:--xe)Ce.push(r.readUInt32());return Ce}.call(this)}},t}(),de=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},pe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="name",t.prototype.parse=function(r){var _e,Ae,Se,Ee,xe,Te,Ce,Re,Ue,De,ke;for(r.pos=this.offset,r.readShort(),_e=r.readShort(),Te=r.readShort(),Ae=[],Ee=0;0<=_e?Ee<_e:Ee>_e;Ee=0<=_e?++Ee:--Ee)Ae.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+Te+r.readShort()});for(Ce={},Ee=Ue=0,De=Ae.length;Ue<De;Ee=++Ue)Se=Ae[Ee],r.pos=Se.offset,Re=r.readString(Se.length),xe=new de(Re,Se),Ce[ke=Se.nameID]==null&&(Ce[ke]=[]),Ce[Se.nameID].push(xe);this.strings=Ce,this.copyright=Ce[0],this.fontFamily=Ce[1],this.fontSubfamily=Ce[2],this.uniqueSubfamily=Ce[3],this.fontName=Ce[4],this.version=Ce[5];try{this.postscriptName=Ce[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ce[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ce[7],this.manufacturer=Ce[8],this.designer=Ce[9],this.description=Ce[10],this.vendorUrl=Ce[11],this.designerUrl=Ce[12],this.license=Ce[13],this.licenseUrl=Ce[14],this.preferredFamily=Ce[15],this.preferredSubfamily=Ce[17],this.compatibleFull=Ce[18],this.sampleText=Ce[19]},t}(),ge=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),me=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="hmtx",t.prototype.parse=function(r){var _e,Ae,Se,Ee,xe,Te,Ce;for(r.pos=this.offset,this.metrics=[],_e=0,Te=this.file.hhea.numberOfMetrics;0<=Te?_e<Te:_e>Te;_e=0<=Te?++_e:--_e)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(Se=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Re,Ue;for(Ue=[],_e=Re=0;0<=Se?Re<Se:Re>Se;_e=0<=Se?++Re:--Re)Ue.push(r.readInt16());return Ue}(),this.widths=function(){var Re,Ue,De,ke;for(ke=[],Re=0,Ue=(De=this.metrics).length;Re<Ue;Re++)Ee=De[Re],ke.push(Ee.advance);return ke}.call(this),Ae=this.widths[this.widths.length-1],Ce=[],_e=xe=0;0<=Se?xe<Se:xe>Se;_e=0<=Se?++xe:--xe)Ce.push(this.widths.push(Ae));return Ce},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),ve=[].slice,be=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var _e,Ae,Se,Ee,xe,Te,Ce,Re,Ue,De;return r in this.cache?this.cache[r]:(Ee=this.file.loca,_e=this.file.contents,Ae=Ee.indexOf(r),(Se=Ee.lengthOf(r))===0?this.cache[r]=null:(_e.pos=this.offset+Ae,xe=(Te=new ne(_e.read(Se))).readShort(),Re=Te.readShort(),De=Te.readShort(),Ce=Te.readShort(),Ue=Te.readShort(),this.cache[r]=xe===-1?new we(Te,Re,De,Ce,Ue):new ye(Te,xe,Re,De,Ce,Ue),this.cache[r]))},t.prototype.encode=function(r,_e,Ae){var Se,Ee,xe,Te,Ce;for(xe=[],Ee=[],Te=0,Ce=_e.length;Te<Ce;Te++)Se=r[_e[Te]],Ee.push(xe.length),Se&&(xe=xe.concat(Se.encode(Ae)));return Ee.push(xe.length),{table:xe,offsets:Ee}},t}(),ye=function(){function e(t,r,_e,Ae,Se,Ee){this.raw=t,this.numberOfContours=r,this.xMin=_e,this.yMin=Ae,this.xMax=Se,this.yMax=Ee,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),we=function(){function e(t,r,_e,Ae,Se){var Ee,xe;for(this.raw=t,this.xMin=r,this.yMin=_e,this.xMax=Ae,this.yMax=Se,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ee=this.raw;xe=Ee.readShort(),this.glyphOffsets.push(Ee.pos),this.glyphIDs.push(Ee.readUInt16()),32&xe;)Ee.pos+=1&xe?4:2,128&xe?Ee.pos+=8:64&xe?Ee.pos+=4:8&xe&&(Ee.pos+=2)}return e.prototype.encode=function(){var t,r,_e;for(r=new ne(ve.call(this.raw.data)),t=0,_e=this.glyphIDs.length;t<_e;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Ne=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return oe(t,re),t.prototype.tag="loca",t.prototype.parse=function(r){var _e,Ae;return r.pos=this.offset,_e=this.file.head.indexToLocFormat,this.offsets=_e===0?function(){var Se,Ee;for(Ee=[],Ae=0,Se=this.length;Ae<Se;Ae+=2)Ee.push(2*r.readUInt16());return Ee}.call(this):function(){var Se,Ee;for(Ee=[],Ae=0,Se=this.length;Ae<Se;Ae+=4)Ee.push(r.readUInt32());return Ee}.call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,_e){for(var Ae=new Uint32Array(this.offsets.length),Se=0,Ee=0,xe=0;xe<Ae.length;++xe)if(Ae[xe]=Se,Ee<_e.length&&_e[Ee]==xe){++Ee,Ae[xe]=Se;var Te=this.offsets[xe],Ce=this.offsets[xe+1]-Te;Ce>0&&(Se+=Ce)}for(var Re=new Array(4*Ae.length),Ue=0;Ue<Ae.length;++Ue)Re[4*Ue+3]=255&Ae[Ue],Re[4*Ue+2]=(65280&Ae[Ue])>>8,Re[4*Ue+1]=(16711680&Ae[Ue])>>16,Re[4*Ue]=(4278190080&Ae[Ue])>>24;return Re},t}(),Le=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,_e,Ae,Se;for(r in Ae=this.font.cmap.tables[0].codeMap,t={},Se=this.subset)_e=Se[r],t[r]=Ae[_e];return t},e.prototype.glyphsFor=function(t){var r,_e,Ae,Se,Ee,xe,Te;for(Ae={},Ee=0,xe=t.length;Ee<xe;Ee++)Ae[Se=t[Ee]]=this.font.glyf.glyphFor(Se);for(Se in r=[],Ae)(_e=Ae[Se])!=null&&_e.compound&&r.push.apply(r,_e.glyphIDs);if(r.length>0)for(Se in Te=this.glyphsFor(r))_e=Te[Se],Ae[Se]=_e;return Ae},e.prototype.encode=function(t,r){var _e,Ae,Se,Ee,xe,Te,Ce,Re,Ue,De,ke,Me,Oe,Be,Ie;for(Ae in _e=ue.encode(this.generateCmap(),"unicode"),Ee=this.glyphsFor(t),ke={0:0},Ie=_e.charMap)ke[(Te=Ie[Ae]).old]=Te.new;for(Me in De=_e.maxGlyphID,Ee)Me in ke||(ke[Me]=De++);return Re=function(qe){var je,ze;for(je in ze={},qe)ze[qe[je]]=je;return ze}(ke),Ue=Object.keys(Re).sort(function(qe,je){return qe-je}),Oe=function(){var qe,je,ze;for(ze=[],qe=0,je=Ue.length;qe<je;qe++)xe=Ue[qe],ze.push(Re[xe]);return ze}(),Se=this.font.glyf.encode(Ee,Oe,ke),Ce=this.font.loca.encode(Se.offsets,Oe),Be={cmap:this.font.cmap.raw(),glyf:Se.table,loca:Ce,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(Be["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Be)},e}();E.API.PDFObject=function(){var e;function t(){}return e=function(r,_e){return(Array(_e+1).join("0")+r).slice(-_e)},t.convert=function(r){var _e,Ae,Se,Ee;if(Array.isArray(r))return"["+function(){var xe,Te,Ce;for(Ce=[],xe=0,Te=r.length;xe<Te;xe++)_e=r[xe],Ce.push(t.convert(_e));return Ce}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(Ae in Se=["<<"],r)Ee=r[Ae],Se.push("/"+Ae+" "+t.convert(Ee));return Se.push(">>"),Se.join(`
`)}return""+r},t}();var VueDrawingCanvas=defineComponent({name:"VueDrawingCanvas",props:{strokeType:{type:String,validator:e=>["dash","line","square","circle","triangle","half_triangle"].indexOf(e)!==-1,default:()=>"dash"},fillShape:{type:Boolean,default:()=>!1},width:{type:[String,Number],default:()=>600},height:{type:[String,Number],default:()=>400},image:{type:String,default:()=>""},eraser:{type:Boolean,default:()=>!1},color:{type:String,default:()=>"#000000"},lineWidth:{type:Number,default:()=>5},lineCap:{type:String,validator:e=>["round","square","butt"].indexOf(e)!==-1,default:()=>"round"},lineJoin:{type:String,validator:e=>["miter","round","bevel"].indexOf(e)!==-1,default:()=>"miter"},lock:{type:Boolean,default:()=>!1},styles:{type:[Array,String,Object]},classes:{type:[Array,String,Object]},backgroundColor:{type:String,default:()=>"#FFFFFF"},backgroundImage:{type:String,default:()=>null},watermark:{type:Object,default:()=>null},saveAs:{type:String,validator:e=>["jpeg","png"].indexOf(e)!==-1,default:()=>"png"},canvasId:{type:String,default:()=>"VueDrawingCanvas"},initialImage:{type:Array,default:()=>[]},additionalImages:{type:Array,default:()=>[]},outputWidth:{type:Number},outputHeight:{type:Number}},data(){return{loadedImage:null,drawing:!1,context:null,images:[],strokes:{type:"",from:{x:0,y:0},coordinates:[],color:"",width:"",fill:!1,lineCap:"",lineJoin:""},guides:[],trash:[]}},mounted(){this.setContext(),this.$nextTick(()=>{this.drawInitialImage(),this.drawAdditionalImages()})},watch:{backgroundImage:function(){this.loadedImage=null}},methods:{async setContext(){let e=document.querySelector("#"+this.canvasId);this.context=this.context?this.context:e.getContext("2d"),await this.setBackground()},drawInitialImage(){this.initialImage&&this.initialImage.length>0&&(this.images=[].concat(this.images,this.initialImage),this.redraw(!0))},drawAdditionalImages(){if(this.additionalImages&&this.additionalImages.length>0){let e=document.querySelector("#"+this.canvasId);this.additionalImages.forEach(t=>{this.drawWatermark(e,this.context,t)})}},clear(){this.context.clearRect(0,0,Number(this.width),Number(this.height))},async setBackground(){this.clear(),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,Number(this.width),Number(this.height)),await this.$nextTick(async()=>{await this.drawBackgroundImage()}),this.save()},async drawBackgroundImage(){if(this.loadedImage)this.context.drawImage(this.loadedImage,0,0,Number(this.width),Number(this.height));else return new Promise(e=>{if(!this.backgroundImage){e();return}const t=new Image;t.src=this.backgroundImage,t.onload=()=>{this.context.drawImage(t,0,0,Number(this.width),Number(this.height)),this.loadedImage=t,e()}})},getCoordinates(e){let t,r;if(e.touches&&e.touches.length>0){let Ae=document.querySelector("#"+this.canvasId).getBoundingClientRect();t=e.touches[0].clientX-Ae.left,r=e.touches[0].clientY-Ae.top}else t=e.offsetX,r=e.offsetY;return{x:t,y:r}},startDraw(e){if(!this.lock){this.drawing=!0;let t=this.getCoordinates(e);this.strokes={type:this.eraser?"eraser":this.strokeType,from:t,coordinates:[],color:this.eraser?this.backgroundColor:this.color,width:this.lineWidth,fill:this.eraser||this.strokeType==="dash"||this.strokeType==="line"?!1:this.fillShape,lineCap:this.lineCap,lineJoin:this.lineJoin},this.guides=[]}},draw(e){if(this.drawing){this.context||this.setContext();let t=this.getCoordinates(e);if(this.eraser||this.strokeType==="dash")this.strokes.coordinates.push(t),this.drawShape(this.context,this.strokes,!1);else{switch(this.strokeType){case"line":this.guides=[{x:t.x,y:t.y}];break;case"square":this.guides=[{x:t.x,y:this.strokes.from.y},{x:t.x,y:t.y},{x:this.strokes.from.x,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"triangle":let r=Math.floor((t.x-this.strokes.from.x)/2)<0?Math.floor((t.x-this.strokes.from.x)/2)*-1:Math.floor((t.x-this.strokes.from.x)/2),_e=this.strokes.from.x<t.x?this.strokes.from.x+r:this.strokes.from.x-r;this.guides=[{x:t.x,y:this.strokes.from.y},{x:_e,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"half_triangle":this.guides=[{x:t.x,y:this.strokes.from.y},{x:this.strokes.from.x,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"circle":let Ae=this.strokes.from.x-t.x<0?(this.strokes.from.x-t.x)*-1:this.strokes.from.x-t.x;this.guides=[{x:this.strokes.from.x>t.x?this.strokes.from.x-Ae:this.strokes.from.x+Ae,y:this.strokes.from.y},{x:Ae,y:Ae}];break}this.drawGuide(!0)}}},drawGuide(e){this.redraw(!0),this.$nextTick(()=>{this.context.strokeStyle=this.color,this.context.lineWidth=1,this.context.lineJoin=this.lineJoin,this.context.lineCap=this.lineCap,this.context.beginPath(),this.context.setLineDash([15,15]),this.strokes.type==="circle"?this.context.ellipse(this.guides[0].x,this.guides[0].y,this.guides[1].x,this.guides[1].y,0,0,Math.PI*2):(this.context.moveTo(this.strokes.from.x,this.strokes.from.y),this.guides.forEach(t=>{this.context.lineTo(t.x,t.y)}),e&&this.context.closePath()),this.context.stroke()})},drawShape(e,t,r){e.strokeStyle=t.color,e.fillStyle=t.color,e.lineWidth=t.width,e.lineJoin=t.lineJoin===void 0?this.lineJoin:t.lineJoin,e.lineCap=t.lineCap===void 0?this.lineCap:t.lineCap,e.beginPath(),e.setLineDash([]),t.type==="circle"?e.ellipse(t.coordinates[0].x,t.coordinates[0].y,t.coordinates[1].x,t.coordinates[1].y,0,0,Math.PI*2):(e.moveTo(t.from.x,t.from.y),t.coordinates.forEach(_e=>{e.lineTo(_e.x,_e.y)}),r&&e.closePath()),t.fill?e.fill():e.stroke()},stopDraw(){this.drawing&&(this.strokes.coordinates=this.guides.length>0?this.guides:this.strokes.coordinates,this.images.push(this.strokes),this.redraw(!0),this.drawing=!1,this.trash=[])},reset(){this.lock||(this.images=[],this.strokes={type:"",coordinates:[],color:"",width:"",fill:!1,lineCap:"",lineJoin:""},this.guides=[],this.trash=[],this.redraw(!0))},undo(){if(!this.lock){let e=this.images.pop();e&&(this.trash.push(e),this.redraw(!0))}},redo(){if(!this.lock){let e=this.trash.pop();e&&(this.images.push(e),this.redraw(!0))}},async redraw(e){e=typeof e<"u"?e:!0,await this.setBackground().then(()=>{this.drawAdditionalImages()}).then(()=>{let t=document.createElement("canvas"),r=t.getContext("2d");t.width=Number(this.width),t.height=Number(this.height),r&&(this.images.forEach(_e=>{r&&(r.globalCompositeOperation=_e.type==="eraser"?"destination-out":"source-over",(_e.type!=="circle"||_e.type==="circle"&&_e.coordinates.length>0)&&this.drawShape(r,_e,!(_e.type==="eraser"||_e.type==="dash"||_e.type==="line")))}),this.context.drawImage(t,0,0,Number(this.width),Number(this.height)))}).then(()=>{e&&this.save()})},wrapText(e,t,r,_e,Ae,Se){const Ee=/(\r\n|\n\r|\n|\r)+/g,xe=/\s+/g;var Te=t.split(Ee).filter(Oe=>Oe.length>0);for(let Oe=0;Oe<Te.length;Oe++){for(var Ce=Te[Oe].split(xe).filter(Be=>Be.length>0),Re="",Ue=0;Ue<Ce.length;Ue++){var De=Re+Ce[Ue]+" ",ke=e.measureText(De),Me=ke.width;Me>Ae&&Ue>0?(this.watermark&&this.watermark.fontStyle&&this.watermark.fontStyle.drawType&&this.watermark.fontStyle.drawType==="stroke"?e.strokeText(Re,r,_e):e.fillText(Re,r,_e),Re=Ce[Ue]+" ",_e+=Se):Re=De}this.watermark&&this.watermark.fontStyle&&this.watermark.fontStyle.drawType&&this.watermark.fontStyle.drawType==="stroke"?e.strokeText(Re,r,_e):e.fillText(Re,r,_e),_e+=Ce.length>0?Se:0}},save(){let e=document.querySelector("#"+this.canvasId);if(this.watermark){let t=document.createElement("canvas"),r=t.getContext("2d");r&&(t.width=Number(this.width),t.height=Number(this.height),r.drawImage(e,0,0,Number(this.width),Number(this.height)),this.drawWatermark(t,r,this.watermark))}else{let t=document.createElement("canvas"),r=t.getContext("2d"),_e=this.outputWidth===void 0?this.width:this.outputWidth,Ae=this.outputHeight===void 0?this.height:this.outputHeight;if(t.width=Number(_e),t.height=Number(Ae),r)return r.drawImage(e,0,0,Number(_e),Number(Ae)),this.$emit("update:image",t.toDataURL("image/"+this.saveAs,1)),t.toDataURL("image/"+this.saveAs,1)}},drawWatermark(e,t,r){if(r.type==="Image"){let _e=r.imageStyle?r.imageStyle.width?r.imageStyle.width:Number(this.width):Number(this.width),Ae=r.imageStyle?r.imageStyle.height?r.imageStyle.height:Number(this.height):Number(this.height);const Se=new Image;Se.src=r.source,Se.onload=()=>{r&&t&&t.drawImage(Se,r.x,r.y,Number(_e),Number(Ae));let Ee=document.createElement("canvas"),xe=Ee.getContext("2d"),Te=this.outputWidth===void 0?this.width:this.outputWidth,Ce=this.outputHeight===void 0?this.height:this.outputHeight;if(Ee.width=Number(Te),Ee.height=Number(Ce),xe)return xe.drawImage(e,0,0,Number(Te),Number(Ce)),this.$emit("update:image",Ee.toDataURL("image/"+this.saveAs,1)),Ee.toDataURL("image/"+this.saveAs,1)}}else if(r.type==="Text"){let _e=r.fontStyle&&r.fontStyle.font?r.fontStyle.font:"20px serif",Ae=r.fontStyle&&r.fontStyle.textAlign?r.fontStyle.textAlign:"start",Se=r.fontStyle&&r.fontStyle.textBaseline?r.fontStyle.textBaseline:"alphabetic",Ee=r.fontStyle&&r.fontStyle.color?r.fontStyle.color:"#000000";if(t.font=_e,t.textAlign=Ae,t.textBaseline=Se,r.fontStyle&&r.fontStyle.rotate){let Ue,De;r.fontStyle&&r.fontStyle.width?Ue=r.x+Math.floor(r.fontStyle.width/2):Ue=r.x,r.fontStyle&&r.fontStyle.lineHeight?De=r.y+Math.floor(r.fontStyle.lineHeight/2):De=r.y,t.translate(Ue,De),t.rotate(r.fontStyle.rotate*Math.PI/180),t.translate(Ue*-1,De*-1)}r.fontStyle&&r.fontStyle.drawType&&r.fontStyle.drawType==="stroke"?(t.strokeStyle=r.fontStyle.color,r.fontStyle&&r.fontStyle.width?this.wrapText(t,r.source,r.x,r.y,r.fontStyle.width,r.fontStyle.lineHeight):t.strokeText(r.source,r.x,r.y)):(t.fillStyle=Ee,r.fontStyle&&r.fontStyle.width?this.wrapText(t,r.source,r.x,r.y,r.fontStyle.width,r.fontStyle.lineHeight):t.fillText(r.source,r.x,r.y));let xe=document.createElement("canvas"),Te=xe.getContext("2d"),Ce=this.outputWidth===void 0?this.width:this.outputWidth,Re=this.outputHeight===void 0?this.height:this.outputHeight;if(xe.width=Number(Ce),xe.height=Number(Re),Te)return Te.drawImage(e,0,0,Number(Ce),Number(Re)),this.$emit("update:image",xe.toDataURL("image/"+this.saveAs,1)),xe.toDataURL("image/"+this.saveAs,1)}},isEmpty(){return!(this.images.length>0)},getAllStrokes(){return this.images}},render(){return h$1("canvas",{id:this.canvasId,height:Number(this.height),width:Number(this.width),style:{touchAction:"none",...this.styles},class:this.classes,onMousedown:e=>this.startDraw(e),onMousemove:e=>this.draw(e),onMouseup:()=>this.stopDraw(),onMouseleave:()=>this.stopDraw(),onTouchstart:e=>this.startDraw(e),onTouchmove:e=>this.draw(e),onTouchend:()=>this.stopDraw(),onTouchleave:()=>this.stopDraw(),onTouchcancel:()=>this.stopDraw(),onPointerdown:e=>this.startDraw(e),onPointermove:e=>this.draw(e),onPointerup:()=>this.stopDraw(),onPointerleave:()=>this.stopDraw(),onPointercancel:()=>this.stopDraw()})}});const CanvasDraw_vue_vue_type_style_index_0_scoped_ac94c264_lang="",_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[_e,Ae]of t)r[_e]=Ae;return r},_sfc_main$7={name:"CanvasModule",components:{VueDrawingCanvas},props:{isSignSelf:{type:Boolean,default:!1}},data(){return{initialImage:[{type:"dash",from:{x:262,y:154},coordinates:[],color:"#000000",width:5,fill:!1}],x:0,y:0,image:"",eraser:!1,disabled:!1,fillShape:!1,line:5,color:"#000000",strokeType:"dash",lineCap:"square",lineJoin:"miter",backgroundColor:"transparent",backgroundImage:null,watermark:null,additionalImages:[],isFile:!1}},mounted(){this.init()},methods:{init(){this.initialImage=[{type:"dash",from:{x:262,y:154},coordinates:[],color:"#000000",width:5,fill:!1}]},async setImage(e){let t=window.URL;this.backgroundImage=t.createObjectURL(e.target.files[0]),await this.$refs.VueCanvasDrawing.redraw()},async setWatermarkImage(e){let t=window.URL;this.watermark={type:"Image",source:t.createObjectURL(e.target.files[0]),x:0,y:0,imageStyle:{width:600,height:400}},await this.$refs.VueCanvasDrawing.redraw(),this.isFile=!0},getCoordinate(e){let t=this.$refs.VueCanvasDrawing.getCoordinates(e);this.x=t.x,this.y=t.y},getStrokes(){localStorage.setItem("vue-drawing-canvas",JSON.stringify(this.$refs.VueCanvasDrawing.getAllStrokes())),localStorage.setItem("vue-canvas",this.image);let e;localStorage.getItem("vue-canvas-array")?(e=JSON.parse(localStorage.getItem("vue-canvas-array")),e.push(this.image)):e=[this.image],localStorage.setItem("vue-canvas-array",JSON.stringify(e)),this.$emit("sign",!0),bus.emit("reloadSign")},removeSavedStrokes(){window.localStorage.removeItem("vue-drawing-canvas"),this.$refs.VueCanvasDrawing.reset()},getColor(e){this.color=e}}},_withScopeId$3=e=>(pushScopeId("data-v-ac94c264"),e=e(),popScopeId(),e),_hoisted_1$6={class:"flex flex-col items-center"},_hoisted_2$5={class:"source px-2"},_hoisted_3$5={class:"bg-white rounded-3xl max-w-xs md:max-w-none overflow-hidden"},_hoisted_4$5={class:"w-1/6 p-2"},_hoisted_5$4={class:"w-1/6 p-2"},_hoisted_6$4={class:"output"},_hoisted_7$3={key:0,style:{width:"600px",height:"400px"},class:"bg-white round"},_hoisted_8$1=["src"],_hoisted_9$1={key:1,style:{width:"600px",height:"400px"},class:"bg-white round"},_hoisted_10$1=_withScopeId$3(()=>createBaseVNode("label",{for:"file-upload",class:"custom-file-upload w-full flex items-center justify-center"},[createBaseVNode("span",null,"\u8ACB\u9078\u64C7\u6A94\u6848")],-1)),_hoisted_11$1={class:"button-container w-full mt-10 flex text-lg"},_hoisted_12$1={class:"w-1/2 p-2"},_hoisted_13$1={class:"w-1/2 p-2"};function _sfc_render$7(e,t,r,_e,Ae,Se){const Ee=resolveComponent("vue-drawing-canvas");return openBlock(),createElementBlock("div",_hoisted_1$6,[withDirectives(createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$5,[createVNode(Ee,{ref:"VueCanvasDrawing",image:Ae.image,"onUpdate:image":t[0]||(t[0]=xe=>Ae.image=xe),width:500,height:400,"stroke-type":Ae.strokeType,"line-cap":Ae.lineCap,"line-join":Ae.lineJoin,"fill-shape":Ae.fillShape,eraser:Ae.eraser,lineWidth:Ae.line,color:Ae.color,"background-color":Ae.backgroundColor,"background-image":Ae.backgroundImage,watermark:Ae.watermark,"initial-image":Ae.initialImage,saveAs:"png",styles:{"border-radius":"26px"},lock:Ae.disabled,"additional-images":Ae.additionalImages},null,8,["image","stroke-type","line-cap","line-join","fill-shape","eraser","lineWidth","color","background-color","background-image","watermark","initial-image","lock","additional-images"])])],512),[[vShow,r.isSignSelf]]),createBaseVNode("div",{class:normalizeClass(["flex items-center justify-between mb-6",{invisible:!r.isSignSelf}]),style:{width:"600px"}},[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("button",{type:"button",onClick:t[1]||(t[1]=withModifiers(xe=>Se.removeSavedStrokes(),["prevent"])),class:"py-3 px-3 w-full rounded-lg border-2",style:{background:"#FFFFFF"}}," clear ")]),createBaseVNode("div",null,[createBaseVNode("a",{class:"h-8 w-8 rounded-full inline-block bg-black m-2 relative",onClick:t[2]||(t[2]=xe=>Se.getColor("#000000"))},[createBaseVNode("div",{class:normalizeClass(["h-7 w-7 rounded-full inline-block bg-black absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",{"border-2 border-white":Ae.color==="#000000"}])},null,2)]),createBaseVNode("a",{class:"h-8 w-8 rounded-full inline-block bg-blue-700 m-2 relative",onClick:t[3]||(t[3]=xe=>Se.getColor("#0014C7"))},[createBaseVNode("div",{class:normalizeClass(["h-7 w-7 rounded-full inline-block absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",{"border-2 border-white":Ae.color==="#0014C7"}])},null,2)]),createBaseVNode("a",{class:"h-8 w-8 rounded-full inline-block bg-red-700 m-2 relative",onClick:t[4]||(t[4]=xe=>Se.getColor("#CA0000"))},[createBaseVNode("div",{class:normalizeClass(["h-7 w-7 rounded-full inline-block bg-red-700 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",{"border-2 border-white":Ae.color==="#CA0000"}])},null,2)])]),createBaseVNode("div",_hoisted_5$4,[createBaseVNode("button",{type:"button",onClick:t[5]||(t[5]=withModifiers(xe=>Se.getStrokes(),["prevent"])),class:"py-3 px-3 w-full rounded-lg border-2",style:{background:"#FFFFFF"}}," save ")])],2),withDirectives(createBaseVNode("div",_hoisted_6$4,[Ae.isFile?(openBlock(),createElementBlock("div",_hoisted_7$3,[createBaseVNode("img",{src:Ae.image,style:{"border-radius":"26px"}},null,8,_hoisted_8$1)])):(openBlock(),createElementBlock("div",_hoisted_9$1,[_hoisted_10$1,createBaseVNode("input",{type:"file",onChange:t[6]||(t[6]=xe=>Se.setWatermarkImage(xe)),accept:"image/*",id:"file-upload"},null,32)])),createBaseVNode("div",_hoisted_11$1,[createBaseVNode("div",_hoisted_12$1,[createBaseVNode("button",{type:"button",onClick:t[7]||(t[7]=withModifiers(xe=>Se.removeSavedStrokes(),["prevent"])),class:"py-3 px-3 bg-white proj-text-primary w-full rounded-lg proj-border-primary border-2"}," \u6E05\u9664 ")]),createBaseVNode("div",_hoisted_13$1,[createBaseVNode("button",{type:"button",onClick:t[8]||(t[8]=withModifiers(xe=>Se.getStrokes(),["prevent"])),class:"py-3 px-3 proj-bg-Gradient text-white w-full rounded-lg proj-border-primary border-2"}," \u5EFA\u7ACB\u7C3D\u540D ")])])],512),[[vShow,!r.isSignSelf]])])}const CanvasDraw=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-ac94c264"]]),_imports_0$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG7SURBVHgBlVRLUsJAEJ0egrLSeIN4A7wBH91DibL0CPx0LVkrRG+gS0ss2CsmN4Aj5AZmI1oVMmN3PhhSSRV5VSk6PUPn9Zt+AyyB6bChlvaZqiiKxlIgJTjfK9duDmdOPA9R8H7XqhQKcIthhe2GpRBCP71+m20KfdyfNzjnU1qUUj5j2hFC2mn/BpAqAGj4dPBV8zxZPbuZWAotcu4zsQHcaq2/TTkLptF4krJohl1YgAkVE1/IpFcfTB5YDsxHrS4yM5DAEXfdokZJLGSz3ACf/V6RH3LqOSgEWy2R+Oa43dm0gjHl4nsiHVc//FjJ+hbnrCyZMEzjMvyQGHJe6GFope7PKkR6Ybs6PsPw0euDl0wNMwsFrLhMi3MVohOJmETM5qN2N2t/pkZCsCWS2IwEFsYh9ZaZhRC2lB5SF1p8gaaVxYRNm7HgxAGLgIOt/YbHzlWWE2SVIHJt32uf4wsTf1SySLW3m0Xoljg8KC4wdGr91xNfIzSejp4x0SoL1OKRpjw5oBHQlxpOFRn3Cl81vAGaPrtoQ3ADkAGhzHaCtDyP6aGW/4UikInJf5F1kliv13apxJykBH9Vu9l1rta4XgAAAABJRU5ErkJggg==",_imports_1$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAAiCAYAAACEGMbzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbpSURBVHgB7ZzPb1RVFMdvyzC10KZTcGr5EWcwFohNbLvAkrigG4PRBWyMS+PKpbpyafwLjEtXhiVxAxuTxk1ZqCCLlsQaoAm0SmnppDBNW6DTafB+zswZ3oxvpqAduWPOJ2nm9c798abJ+fac771v2pznwe3JrEvs/s5fDvuflDMMw/jHtF1wxcLnvUdGZtvK4jLpTFgMw9g58q64OdLuEomvnYmLYRg7S4qqqO3Bn789cYZhGDtPvt0ZhmE0h5QJjGEYTcMExjCMpmECYxhG00g4I3i2Nh+7rcJjV1jPV7Unu1IuuSdV6fPowaLr7O13u3a/5AwjBExgAmZtadYt/H7JreVmY9/vTPW74+984hamJ9yi76dkTpxx+7LDzjBeNCYwgZK/e93d/um8iMjhodNuV/Ill9xbfVyJ91Rceg4ec31HT7o7U+Py03PouGUyxgvHBCZQFqcviaAMjH1UVyiimUtyb6/rSmdd/+ApEaZH+UX5PYqWWlFUtCi/Zi6dc4e8mKW8OG0H/eeuXiwJ4PDphn3px7qvvf1hVfv1H7+Ve9xuvK7F36F2DiNsTGACRPwULxAE+3bist+XQu3JDpe7eblKQGqzHcCjQUQU+vS/ccrdn70mYwlk5szNXJH392WHZP44GMs98tNIIFjz/uyUXE9+/1WlnXV1fG7mcqX9VV/eRdfkvm79XBJM1uRzP31vw2dtoxUfyggPE5gAUTO3Y2984ETFhYCEhBeihelSNnNgcCw26DCA8WeYH2/ngA9ygrYrnamIGuM6U6/I/LQrK/PXpU/VfD57oU0FRCnNmZV1bv1yvrIGQqYZyNLNKzL+gM+45n69KO9T4tGmcD+Ii/49VACj0IcszwgTE5gA0SwE36WWOHGBjfUVeUVcyA7iIBvC/KXcIOh5RoTrKBjKj1YW5ZpMhnKJoF/y1/XM5to5EJeBsWxFkBA1hKvg73F1aU4EifVpZ+7OFBlTW6WkYxw+kgpXab6nIqLlHK+Zt844I1xMYFqIZR9wceJCgBOMiMu+zJB4G/W8G4KSvgjNHjKIshhpUPccOua6fUAzJ1mFihyZRmF9qDJHbQm24ds049IxiMfge5/K3GQshYd5ESkylbzPiGYmzokZnR4Ydd192cpc3PcuX/YhLFyv3C31FTHxqqjiQmlm5VHYmMC0EIgLgV1PXMhc2NpWb6PW5IWFconBGPpQDlG6KFzr7wiEBrDMlS4ZswT3m2e/qJqXduajXYVNSqSyfwK0c/9Fn6ExH2UX72mmwnqa1RweejfyuSek/ENkyO4QLMQlPXDSGWFjAtMiEIhSEjQQl2dhvxi3Q5KtEPBkEAQ7gTt/bVwyG/Ve9kT8EAVBUgFTv0T9G36PZk2ICWttrGfFMKbPWm5O+jCGtft89lL017QndndUeTBK18tkMlcqmRM+Tpx4GuFhAtMiLJf/yz/M33NFv2O0cveGlBvPIy4ENZkApQbBipjkblZ7KwiWZhSIQubE2ao5CGwynFWfKakYrJbHxwU9Wcb0D99U7RRpP9bVtRAOyim9TzKx1VzJr4may+K/TJyrWmPkgy+dESYmMC1CoWziaqBqOfE8J3Y1c7gzOS6vZCNkKwiJ7tAgCLRr/1q6y+KgRjCszN+Q15T3b+rBvGQrUUO45+BxKXUwkPFZFN09it5DnIjen7v2t8cnjLAwgQkQNVAxTrvSpTZMVkShuy8jGUC9EqFYLO9A1Tk/Ew1ytrY1kJVopgG12QH3xtyUNAqZiG5Nx34e7+OQiaiIdPb0i4nLHHouJ2rWMg/i2eWNX3bNyJjI1GphvAlM2JjABIjuwkRP3ZKxPMt5j8JaKeCSdc7QqAggEngfg++XyhItPeQk7+HGJ3nTR0ddR1kQKGUY28hwxTPBBGZNnp1SGIvA1B6uA3uW6v+BfWVmoMiOiReARo8K1EL/uEBW9PzIluziZMTHoa/sFukWszdao+txDuahL1n+qDnrsh2IBmPZjqb00t0fPf9CdjY/NV7xVxC+uJPDc1cvSAYTJ5g6p3kw4WIZTKBQEiEyCEb69VE5Y1JPaDhfwtavehLbPa+D70GGQGmzLNvV9+Q6rtzYf2TYJXxG9by7NtxvoSwi4heNlc6wUJ7pU+Kch8FbYbt62YsIQpSq85Bm3PqMM8LGMpiAwbNg10fPkWwHQYgwNRID/uP/l09Zxx3Kg+g2t2twb/SjPe4zNXrPCAMTmBZAH0SsfRZIUePVvp7BCA0rkVoA9UkMo9Ww7+Q1DKNpmMAYhtE0TGAMw2gaCIwdhTQMoykgMFPOMAxjh3nyxF1sd8XNj51lMYZh7Cz5tq3Nz9p7j4zMepEZ8XpzwRmGYfw7SFYm0BS05S/0urOywTuKZwAAAABJRU5ErkJggg==",_imports_2$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAAiCAYAAACEGMbzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgkSURBVHgB7ZzNT1RXGMYP8iWIYYQO4kfKYEolugAWljYuZNPYdGM3jd2Zrrps+xc0XXbVuOyqcWm6gUWbmG5g0Q+0idoUg8Uo0xahEHAmosiHoed37rzDmesdxDpn2tr3l0wY7tc558L73Od9z5mpMZZ7d65mTF39l/Ztv32ljKIoyt+mZthsrH28r3tguqYgLleNCouiKJUjZzbWB3aZurrPjYqLoiiVJUVWVHPv9182jaIoSuXJ7TKKoihhSKnAKIoSDBUYRVGCoQKjKEow6oxSNR6vPzKP1x6ZtQe54raGlpRpaI4m8VZyc6Yp1WkU5UVBBaYKLM9Pm9kbY2Z5YfqJfa0Hj5ojJ98zi9PXzG9XRpzA9AydM7X1u42i/NfRaerA5O5OmjvfXXTC0d7VZ2obdpuGPVvLjtiem5l04uJvU5FRXgTUwQRmbmLMCUo5wSBdEuciKRI/s5eHnbPZKfetO6Kttkyfac/0P/X4P65dsm3tLzmWbcZsmsP9byWek7X9JMU7cvJsyfbJb78wLemMPe+02Q7GyjW4D/FrxFmyju5ZaPPGcdsKem1Do+k68Y5rc35q3I6zz9y3TnLh1rg5/vaHZtbeq9r6RtPx6utGCYcKTECouSAWh/pOl3UjOJrDdn9bd7/5efgzlzIdOH6qWJfZKQQSKVhLumtHxy5M/ejez9nUrdhfKx70OX/3ZnEbfU8d6jUr9+aKQX/1q0+L+zuPnXJj5CXXhJdPnCkRL657+/uL7jgEd3Zi1Nu3agN9sGTMWc/R7YS2WFu8gPtLv2mXe8PYec3dGLX3ecgoYVGBCYgUcxv3lBcLhCcde4q2Huw1IZktiAquatUrOC/YJz2BiWgIezsybhy3f7johIEgXZq+XnQg87+OO9eFKGYvj7j9uAK/WE1wIy5yP6IAHyvpE8fQHx/cGC4EZyWCITS17nftZK8Mu/6UHetE1A7nL2Wj40S8cDS77XUQUCUMKjABwREAT9F/CxSTeaLjlEhrslfOu34iCCIABOzaw+hJjwuR7V3WleAy1h7kbXBm3XUQHbZzflNq3B5V464LBDXiIM6H7b6IcN2psQvuZ9drZ8r2OW/rWE2tnab10NGt/tlz4umNFMoFnBZtcv+LgpeOfrTW97rrImJKOFRgqgBP+aguYN3KK4NB837Sm7WH+ZJtBNHedKbEOfiiJ4VnRAWxkfcCwUndAsFgLOwjHWMcFKinRi/Y4O816Z5B53iK17XujFqIC3L7noDmWCcmdmpBxIXazXYpIY6OtmesWNFXrpd0PE6RVClv+yTHUWcBf2kAcD3GtZ27VJ4fFZgqQGDJU33m+iVXcyCliENgyz88AcHTn2B8ltkkqYf4uLpMOirixgPNtdscpT6IhqRB/jVcilSonwD94bgNK0aMi4BmnzgVAldczeG+rYIxdQ9SFkRG6j2IS7qnvOBOfHO+5HfOk+n+pey1kpoTfaFN6QfXpq/Ue0j/pAhNQXxpetq5Kfm7KGFQgakCFBOlrkH+T6BF20tFBpcgENQI00pu8JmCgHbKFS8ppDa2pKwL2SrGijtYXsgWU7r8zM1CUTTjfkdMmIVZfZBxboh9HE/wci7upcO6l43Cdeqsa0haMNjyEo5i3I2Na1LHedrYjrxx1szfGk/cx/3zi8WAowL6hZiJqLjfC+5NxqmERwWmCvhPWZ7s4IsMC/EWbQGSgI3PplS2Hxn3EoHJ3Z18wu2IswBxQ4gFLgM34c8UiTgsO0cQuQaEQ4TSCZcd2/2FqF7jF2pd/cU6GZ+Bdz95os+uOGvP5b5JQbrOpj+4sfaE+okUfOkzfd3b0eX65BeuhQ0VmuCowPwD+CKTLwS5uAEXTKRFdeELw42F1EiQgI3WyHQmTnkjNLgVfxoZF4RTYL0J4xFk9ggkzUsKdGZ3klI3H8RlJfenq/9QoE5CpuoRFNpDvB/a6fX4jJVPkqgplUMFJiCyYpfgaEmX7kNkmlP73WwMgU3gyqwKBWGZqg65mhchSfr4Aoh7oX1Jd3BWCKCICDM7FHFJi+i3HCPgcBhniy38ksrgLpLSN85/msA07+t0xeumhvKFWWaR/JSr89hQMYXqOXXOuUT6779XwqICExCZqSmX8yMqfoETQep98wOXOkgQNyQEk3xoMr4t+rmaGKz0JS5WuA5EBKFhLYhM2cpq2/jsDjUTVu2yj34KpEEITHxxHbTtYFXxdsgMV7TKuNBewaXEYVarvbvfrceJk/1ppHjP/PdKWFRgAkIg8kQlBeAffyduhGOY3Zj4+nzR6seJf3bJh7qDXycRkoI/WrvSaZ/8193TH4ERQZG+A+JFm6Qa8mlw6jFSF5kpBD99wqVs93GF+KyQu36ZYMfZ+Otq4tDv6BhT7HO5e3zApmY5W7xGuP33SlhUYAJDHQBHwpOfNTCNZUQDqC9QeESQCOqkqWxotqKQVMvYjuZtvgYCZ0K6QL1CCq/+6ta1goi46eehaA0LLkc+JY5zoD9MVxP0CBHnJ40zSSzyM8mBHv9qi+dhsVD8pf3FwkJCJTz6aeoqwJOSKdP4jE05CALEJdQaDZdiWKcSTzPks1Nsj89kydRynKTvsOE6cXHhOLYnjSlpX7k+7uRcuc+yOhkxibdbbrtSWVRgqgiBwD92/HM1gqRE+jUNyouCpkhVxJ+RUZT/A/qdvIqiBEMFRlGUYKjAKIoSDARG5+sURQkCAqPrpRVFqTibm2Zkl9lYf9+oi1EUpbLkah6vf7RrX/fAtBWZAas3w0ZRFOX5wKyMoiloy1/P9Xblg25tmAAAAABJRU5ErkJggg==",ChoiceSign_vue_vue_type_style_index_0_scoped_cfb50515_lang="",_sfc_main$6={name:"selectSign",components:{CanvasDraw},props:{},setup(e,t){const r=ref(""),_e=ref(!0),Ae=ref(!0),Se=ref(null);onMounted(()=>{Ee(),Se.value=localStorage.getItem("vue-canvas"),console.log(Se.value)}),onUnmounted(()=>{});const Ee=()=>{localStorage.getItem("vue-canvas-array")&&(r.value=JSON.parse(localStorage.getItem("vue-canvas-array")))},xe=()=>{t.emit("closeWarning")};return{signArr:r,closeWarning:xe,selectedSign:De=>{t.emit("selectedSign",De),xe()},init:Ee,isSelectMode:_e,isSignSelf:Ae,getStroke:De=>{t.emit("selectedSign",De)},backToChoose:De=>{xe(),console.log(De)},signStatus:Se,getSign:()=>{xe(),Se.value!=null,_e.value=!0}}}},_withScopeId$2=e=>(pushScopeId("data-v-cfb50515"),e=e(),popScopeId(),e),_hoisted_1$5={class:"draw_modal w-full left-0 top-0 fixed"},_hoisted_2$4={key:0,class:"card-inner absolute text-xl pop-container-choose w-full z-50"},_hoisted_3$4=_withScopeId$2(()=>createBaseVNode("img",{class:"absolute right-0 top-0 mr-4 mt-3",src:_imports_0$1},null,-1)),_hoisted_4$4=[_hoisted_3$4],_hoisted_5$3={class:"bg rounded-3xl overflow-hidden shadow-lg w-full"},_hoisted_6$3={class:"px-4 py-6 flex flex-col justify-center w-full"},_hoisted_7$2=_withScopeId$2(()=>createBaseVNode("div",{class:"font-bold text-lg mb-8 whitespace-nowrap text-center proj-text-primary"},"\u9078\u64C7\u7C3D\u540D",-1)),_hoisted_8={class:"selected-modal overflow-auto flex items-center justify-center flex-wrap"},_hoisted_9=["onClick"],_hoisted_10=["src"],_hoisted_11={key:1,class:"card-inner absolute text-xl w-full z-50 pop-container"},_hoisted_12={class:"bg rounded-3xl overflow-hidden shadow-lg w-full"},_hoisted_13=_withScopeId$2(()=>createBaseVNode("img",{class:"absolute right-0 top-0 mr-4",src:_imports_0$1},null,-1)),_hoisted_14=[_hoisted_13],_hoisted_15={class:"index_Sign flex flex-col items-center w-full py-4 px-2"},_hoisted_16={key:2,class:"card-inner absolute text-xl pop-container-choose w-full z-50"},_hoisted_17={class:"bg rounded-3xl overflow-hidden shadow-lg w-full"},_hoisted_18={class:"px-4 py-6 flex flex-col justify-center w-full"},_hoisted_19=_withScopeId$2(()=>createBaseVNode("div",{class:"font-bold text-lg mb-8 whitespace-nowrap text-center"},"\u76EE\u524D\u9084\u6C92\u6709\u7C3D\u540D\u5594~",-1)),_hoisted_20=_withScopeId$2(()=>createBaseVNode("div",{class:"text-sm"},"\u8ACB\u5275\u5EFA\u65B0\u7684\u7C3D\u540D\u6A94\uFF0C\u53EF\u4E0A\u50B3\u5716\u7247\u6216\u7DDA\u4E0A\u7C3D\u540D",-1)),_hoisted_21=_withScopeId$2(()=>createBaseVNode("img",{src:_imports_1$1},null,-1)),_hoisted_22=[_hoisted_21],_hoisted_23=_withScopeId$2(()=>createBaseVNode("a",{class:"flex justify-center mt-4"},[createBaseVNode("img",{src:_imports_2$1})],-1));function _sfc_render$6(e,t,r,_e,Ae,Se){const Ee=resolveComponent("CanvasDraw");return openBlock(),createElementBlock("div",_hoisted_1$5,[_e.isSelectMode&&_e.signStatus!=null?(openBlock(),createElementBlock("div",_hoisted_2$4,[createBaseVNode("div",{class:"relative mt-3",onClick:t[0]||(t[0]=(...xe)=>_e.closeWarning&&_e.closeWarning(...xe))},_hoisted_4$4),createBaseVNode("div",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$3,[_hoisted_7$2,createBaseVNode("div",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.signArr,(xe,Te)=>(openBlock(),createElementBlock("div",{class:"mb-2 flex justify-center",key:Te},[createBaseVNode("div",{class:"h-auto bg-white w-4/5 rounded-3xl py-2",onClick:Ce=>_e.selectedSign(xe)},[createBaseVNode("img",{src:xe,class:"sign mx-auto object-contain w-36 h-20"},null,8,_hoisted_10)],8,_hoisted_9)]))),128))]),createBaseVNode("a",{class:"proj-text-primary block mt-4 font-bold text-lg whitespace-nowrap",onClick:t[1]||(t[1]=xe=>_e.isSelectMode=!1)},"+ \u65B0\u589E\u7C3D\u540D")])])])):createCommentVNode("",!0),_e.isSelectMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[createBaseVNode("div",{class:"relative mt-3",onClick:t[2]||(t[2]=(...xe)=>_e.closeWarning&&_e.closeWarning(...xe))},_hoisted_14),createBaseVNode("div",_hoisted_15,[createVNode(Ee,{isSignSelf:_e.isSignSelf,onCloseWarning:_e.closeWarning,onGetStroke:_e.getStroke,onBackToChoose:_e.backToChoose,onSign:_e.getSign},null,8,["isSignSelf","onCloseWarning","onGetStroke","onBackToChoose","onSign"])])])])),_e.signStatus==null&&_e.isSelectMode?(openBlock(),createElementBlock("div",_hoisted_16,[createBaseVNode("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[_hoisted_19,_hoisted_20,createBaseVNode("a",{class:"flex justify-center mt-4",onClick:t[3]||(t[3]=xe=>_e.isSelectMode=!1)},_hoisted_22),_hoisted_23])])])):createCommentVNode("",!0)])}const SelectSign=_export_sfc(_sfc_main$6,[["render",_sfc_render$6],["__scopeId","data-v-cfb50515"]]),FileReview_vue_vue_type_style_index_0_lang="";var canvas$2=null;const _sfc_main$5={name:"pdfShow",components:{SelectSign},setup(e,t){const r=ref(""),_e=ref(!1),Ae=ref(1),Se=ref(1),Ee=ref(100),xe=ref(null),Te=ref(!1);pdfjsLib.GlobalWorkerOptions.workerSrc="https://mozilla.github.io/pdf.js/build/pdf.worker.js",canvas$2=new fabric.Canvas("canvas"),bus.on("fileUpload",Me=>{Ce(Me)}),bus.on("reloadSign",Me=>{localStorage.getItem("vue-canvas")&&(r.value=localStorage.getItem("vue-canvas"))}),onMounted(()=>{localStorage.getItem("vue-canvas")&&(r.value=localStorage.getItem("vue-canvas"))});const Ce=Me=>{const Oe="data:application/pdf;base64,";pdfjsLib.GlobalWorkerOptions.workerSrc="https://mozilla.github.io/pdf.js/build/pdf.worker.js";const Be=rn=>new Promise((Cn,Sn)=>{const fn=new FileReader;fn.addEventListener("load",()=>Cn(fn.result)),fn.addEventListener("error",Sn),fn.readAsDataURL(rn)}),Ie=async(rn,Cn)=>{rn=await Be(rn),localStorage.setItem("pdfData",JSON.stringify(rn));const Sn=atob(rn.substring(Oe.length)),fn=await pdfjsLib.getDocument({data:Sn}).promise,gn=await fn.getPage(Cn!=null?Cn:1);Se.value=fn.numPages;const vn=gn.getViewport({scale:1}),pn=document.createElement("canvas"),On=pn.getContext("2d");pn.height=vn.height,pn.width=vn.width;const Hn={canvasContext:On,viewport:vn};return gn.render(Hn).promise.then(()=>pn)},qe=async rn=>new fabric.Image(rn,{scaleX:1,scaleY:1});canvas$2=new fabric.Canvas("canvas"),(async rn=>{canvas$2.requestRenderAll();const Cn=await Ie(Me,rn),Sn=await qe(Cn);canvas$2.setWidth(Sn.width),canvas$2.setHeight(Sn.height),canvas$2.setBackgroundImage(Sn,canvas$2.renderAll.bind(canvas$2))})(1);const ze=document.querySelector(".signBtn");localStorage.getItem("vue-canvas")&&(r.value=localStorage.getItem("vue-canvas")),ze.addEventListener("click",()=>{!r.value||fabric.Image.fromURL(r.value,rn=>{rn.top=100,rn.left=100,rn.scaleX=.5,rn.scaleY=.5,canvas$2.add(rn)})});const Ve=document.querySelector(".dateBtn");let He=new Date;const Qe=He.getFullYear()+"/"+He.getMonth()+"/"+He.getDate();Ve.addEventListener("click",()=>{var rn=new fabric.Text(Qe,Cn=>{Cn.top=10,Cn.left=10,Cn.scaleX=.5,Cn.scaleY=.5});canvas$2.add(rn)}),document.querySelector(".textBtn").addEventListener("click",()=>{});const dn=new E,an=()=>{const rn=canvas$2.toDataURL("image/png"),Cn=dn.internal.pageSize.width,Sn=dn.internal.pageSize.height;dn.addImage(rn,"png",0,0,Cn,Sn),dn.save("download.pdf")},Ke=async()=>{await an()};document.querySelector(".downloadBtn").addEventListener("click",()=>{console.log("1"),Ke()})};return{pdfInit:Ce,closeWarning:Me=>{_e.value=Me},selectedSign:Me=>{fabric.Image.fromURL(Me,Oe=>{Oe.top=100,Oe.left=100,Oe.scaleX=.5,Oe.scaleY=.5,canvas$2.add(Oe)})},percentPlus:()=>{Ee.value<150&&(Ee.value+=10)},percentMinus:()=>{Ee.value>50&&(Ee.value-=10)},signUrl:r,isSelectSign:_e,pageNum:Ae,pageCount:Se,width:Ee,pageRendering:Te,pageNumPending:xe}}},_hoisted_1$4={class:"container_pdf w-screen h-screen relative overflow-x-hidden"},_hoisted_2$3=createBaseVNode("div",{class:"downloadBtn cursor-pointer"},"\u5B8C\u6210",-1),_hoisted_3$3={class:"styledCreate__WrapperRight-sc-1i4fuzv-10 cKAFxH"},_hoisted_4$3={id:"viewer",tabindex:"10",scale:"1",class:"styled__Wrapper-sc-cpx59f-1 gKmbon overflow-x-hidden"},_hoisted_5$2={class:"react-pdf__Document"},_hoisted_6$2={id:"pageContainer1",class:"styled__WrapperPage-sc-cpx59f-2 cFGXRm page",width:"1101.6000000000001",height:"1425.6000000000001",style:{}},_hoisted_7$1={class:"react-pdf__Page","data-page-number":"1",style:{position:"relative"}};function _sfc_render$5(e,t,r,_e,Ae,Se){return openBlock(),createElementBlock("div",_hoisted_1$4,[_hoisted_2$3,createBaseVNode("div",_hoisted_3$3,[createBaseVNode("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$2,[createBaseVNode("div",_hoisted_6$2,[createBaseVNode("div",_hoisted_7$1,[createBaseVNode("canvas",{id:"canvas",class:"react-pdf__Page__canvas block select-none",style:normalizeStyle(`width: ${_e.width}% !important`)},null,4)])])])])])])}const FileReview=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),FileReview$1=Object.freeze(Object.defineProperty({__proto__:null,default:FileReview},Symbol.toStringTag,{value:"Module"})),finish="/assets/finish.79c9a1a7.svg",sign="/assets/sign.3decfad6.svg",upload="/assets/upload.17bf3478.svg",progress_vue_vue_type_style_index_0_scoped_70b98569_lang="",_sfc_main$4={props:{arrStatus:{type:Array,default:[1,2,2]}},setup(e){return{progressData:computed(()=>[{img:upload,text:"\u4E0A\u50B3\u7C3D\u7F72\u6A94\u6848",status:e.arrStatus[0]},{img:sign,text:"\u9032\u884C\u7C3D\u7F72",status:e.arrStatus[1]},{img:finish,text:"\u7C3D\u7F72\u5B8C\u6210\uFF08\u4E0B\u8F09\uFF09",status:e.arrStatus[2]}])}}},_hoisted_1$3={class:"Upload_progress"},_hoisted_2$2={class:"progress_content"},_hoisted_3$2=["src"],_hoisted_4$2={class:"progress_content__item__text"};function _sfc_render$4(e,t,r,_e,Ae,Se){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("ul",_hoisted_2$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.progressData,(Ee,xe)=>(openBlock(),createElementBlock("li",{key:xe,class:normalizeClass(["progress_content__item",{"progress_content__item--alreadyDo":Ee.status==0,"progress_content__item--nowDo":Ee.status==1,"progress_content__item--willDo":Ee.status==2}])},[createBaseVNode("img",{src:Ee.img,alt:"progress"},null,8,_hoisted_3$2),createBaseVNode("div",_hoisted_4$2,toDisplayString(Ee.text),1)],2))),128))])])}const ProgressLine=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-70b98569"]]);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(_e){var Ae=Object.getOwnPropertyDescriptor(e,_e);Object.defineProperty(r,_e,Ae.get?Ae:{enumerable:!0,get:function(){return e[_e]}})}),r}var pdf_viewer={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(t,r){module.exports=r()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=$e,t.arraysToBytes=yn,t.assert=Ze,t.bytesToString=St,t.createPromiseCapability=ui,t.createValidAbsoluteUrl=Ye,t.escapeString=jn,t.getModificationDate=Ei,t.getVerbosityLevel=pn,t.info=On,t.isArrayBuffer=Ai,t.isArrayEqual=Li,t.isAscii=Xn,t.objectFromMap=Pn,t.objectSize=cn,t.setVerbosityLevel=vn,t.shadow=en,t.string32=En,t.stringToBytes=tn,t.stringToPDFString=Yn,t.stringToUTF16BEString=li,t.stringToUTF8String=oi,t.unreachable=Bn,t.utf8StringToString=Ni,t.warn=Hn;const r=[1,0,0,1,0,0];t.IDENTITY_MATRIX=r;const _e=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=_e;const Ae=1.35;t.LINE_FACTOR=Ae;const Se=.35;t.LINE_DESCENT_FACTOR=Se;const Ee={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=Ee;const xe={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=xe;const Te="pdfjs_internal_editor_";t.AnnotationEditorPrefix=Te;const Ce={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};t.AnnotationEditorType=Ce;const Re={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};t.AnnotationEditorParamsType=Re;const Ue={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=Ue;const De={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=De;const ke={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=ke;const Me={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=Me;const Oe={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=Oe;const Be={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=Be;const Ie={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=Ie;const qe={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=qe;const je={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=je;const ze={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=ze;const Ve={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=Ve;const He={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=He;const Qe={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=Qe;const Je={O:"PageOpen",C:"PageClose"};t.PageActionEventType=Je;const dn={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=dn;const an={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=an;const Ke={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=Ke;const rn={NONE:0,BINARY:1};t.CMapCompressionType=rn;const Cn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=Cn;const Sn={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};t.UNSUPPORTED_FEATURES=Sn;const fn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=fn;let gn=Ke.WARNINGS;function vn(In){Number.isInteger(In)&&(gn=In)}function pn(){return gn}function On(In){gn>=Ke.INFOS&&console.log(`Info: ${In}`)}function Hn(In){gn>=Ke.WARNINGS&&console.log(`Warning: ${In}`)}function Bn(In){throw new Error(In)}function Ze(In,Rn){In||Bn(Rn)}function Xe(In){if(!In)return!1;switch(In.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ye(In,Rn=null,Un=null){if(!In)return null;try{if(Un&&typeof In=="string"){if(Un.addDefaultProtocol&&In.startsWith("www.")){const pi=In.match(/\./g);pi&&pi.length>=2&&(In=`http://${In}`)}if(Un.tryConvertEncoding)try{In=oi(In)}catch{}}const ti=Rn?new URL(In,Rn):new URL(In);if(Xe(ti))return ti}catch{}return null}function en(In,Rn,Un){return Object.defineProperty(In,Rn,{value:Un,enumerable:!0,configurable:!0,writable:!1}),Un}const on=function(){function Rn(Un,ti){this.constructor===Rn&&Bn("Cannot initialize BaseException."),this.message=Un,this.name=ti}return Rn.prototype=new Error,Rn.constructor=Rn,Rn}();t.BaseException=on;class hn extends on{constructor(Rn,Un){super(Rn,"PasswordException"),this.code=Un}}t.PasswordException=hn;class bn extends on{constructor(Rn,Un){super(Rn,"UnknownErrorException"),this.details=Un}}t.UnknownErrorException=bn;class Ln extends on{constructor(Rn){super(Rn,"InvalidPDFException")}}t.InvalidPDFException=Ln;class Vn extends on{constructor(Rn){super(Rn,"MissingPDFException")}}t.MissingPDFException=Vn;class Wn extends on{constructor(Rn,Un){super(Rn,"UnexpectedResponseException"),this.status=Un}}t.UnexpectedResponseException=Wn;class un extends on{constructor(Rn){super(Rn,"FormatError")}}t.FormatError=un;class mn extends on{constructor(Rn){super(Rn,"AbortException")}}t.AbortException=mn;function St(In){(typeof In!="object"||In===null||In.length===void 0)&&Bn("Invalid argument for bytesToString");const Rn=In.length,Un=8192;if(Rn<Un)return String.fromCharCode.apply(null,In);const ti=[];for(let pi=0;pi<Rn;pi+=Un){const Si=Math.min(pi+Un,Rn),fi=In.subarray(pi,Si);ti.push(String.fromCharCode.apply(null,fi))}return ti.join("")}function tn(In){typeof In!="string"&&Bn("Invalid argument for stringToBytes");const Rn=In.length,Un=new Uint8Array(Rn);for(let ti=0;ti<Rn;++ti)Un[ti]=In.charCodeAt(ti)&255;return Un}function $e(In){if(In.length!==void 0)return In.length;if(In.byteLength!==void 0)return In.byteLength;Bn("Invalid argument for arrayByteLength")}function yn(In){const Rn=In.length;if(Rn===1&&In[0]instanceof Uint8Array)return In[0];let Un=0;for(let Si=0;Si<Rn;Si++)Un+=$e(In[Si]);let ti=0;const pi=new Uint8Array(Un);for(let Si=0;Si<Rn;Si++){let fi=In[Si];fi instanceof Uint8Array||(typeof fi=="string"?fi=tn(fi):fi=new Uint8Array(fi));const di=fi.byteLength;pi.set(fi,ti),ti+=di}return pi}function En(In){return String.fromCharCode(In>>24&255,In>>16&255,In>>8&255,In&255)}function cn(In){return Object.keys(In).length}function Pn(In){const Rn=Object.create(null);for(const[Un,ti]of In)Rn[Un]=ti;return Rn}function Mn(){const In=new Uint8Array(4);return In[0]=1,new Uint32Array(In.buffer,0,1)[0]===1}function nn(){try{return new Function(""),!0}catch{return!1}}class xn{static get isLittleEndian(){return en(this,"isLittleEndian",Mn())}static get isEvalSupported(){return en(this,"isEvalSupported",nn())}static get isOffscreenCanvasSupported(){return en(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}t.FeatureTest=xn;const _n=[...Array(256).keys()].map(In=>In.toString(16).padStart(2,"0"));class zn{static makeHexColor(Rn,Un,ti){return`#${_n[Rn]}${_n[Un]}${_n[ti]}`}static scaleMinMax(Rn,Un){let ti;Rn[0]?(Rn[0]<0&&(ti=Un[0],Un[0]=Un[1],Un[1]=ti),Un[0]*=Rn[0],Un[1]*=Rn[0],Rn[3]<0&&(ti=Un[2],Un[2]=Un[3],Un[3]=ti),Un[2]*=Rn[3],Un[3]*=Rn[3]):(ti=Un[0],Un[0]=Un[2],Un[2]=ti,ti=Un[1],Un[1]=Un[3],Un[3]=ti,Rn[1]<0&&(ti=Un[2],Un[2]=Un[3],Un[3]=ti),Un[2]*=Rn[1],Un[3]*=Rn[1],Rn[2]<0&&(ti=Un[0],Un[0]=Un[1],Un[1]=ti),Un[0]*=Rn[2],Un[1]*=Rn[2]),Un[0]+=Rn[4],Un[1]+=Rn[4],Un[2]+=Rn[5],Un[3]+=Rn[5]}static transform(Rn,Un){return[Rn[0]*Un[0]+Rn[2]*Un[1],Rn[1]*Un[0]+Rn[3]*Un[1],Rn[0]*Un[2]+Rn[2]*Un[3],Rn[1]*Un[2]+Rn[3]*Un[3],Rn[0]*Un[4]+Rn[2]*Un[5]+Rn[4],Rn[1]*Un[4]+Rn[3]*Un[5]+Rn[5]]}static applyTransform(Rn,Un){const ti=Rn[0]*Un[0]+Rn[1]*Un[2]+Un[4],pi=Rn[0]*Un[1]+Rn[1]*Un[3]+Un[5];return[ti,pi]}static applyInverseTransform(Rn,Un){const ti=Un[0]*Un[3]-Un[1]*Un[2],pi=(Rn[0]*Un[3]-Rn[1]*Un[2]+Un[2]*Un[5]-Un[4]*Un[3])/ti,Si=(-Rn[0]*Un[1]+Rn[1]*Un[0]+Un[4]*Un[1]-Un[5]*Un[0])/ti;return[pi,Si]}static getAxialAlignedBoundingBox(Rn,Un){const ti=zn.applyTransform(Rn,Un),pi=zn.applyTransform(Rn.slice(2,4),Un),Si=zn.applyTransform([Rn[0],Rn[3]],Un),fi=zn.applyTransform([Rn[2],Rn[1]],Un);return[Math.min(ti[0],pi[0],Si[0],fi[0]),Math.min(ti[1],pi[1],Si[1],fi[1]),Math.max(ti[0],pi[0],Si[0],fi[0]),Math.max(ti[1],pi[1],Si[1],fi[1])]}static inverseTransform(Rn){const Un=Rn[0]*Rn[3]-Rn[1]*Rn[2];return[Rn[3]/Un,-Rn[1]/Un,-Rn[2]/Un,Rn[0]/Un,(Rn[2]*Rn[5]-Rn[4]*Rn[3])/Un,(Rn[4]*Rn[1]-Rn[5]*Rn[0])/Un]}static singularValueDecompose2dScale(Rn){const Un=[Rn[0],Rn[2],Rn[1],Rn[3]],ti=Rn[0]*Un[0]+Rn[1]*Un[2],pi=Rn[0]*Un[1]+Rn[1]*Un[3],Si=Rn[2]*Un[0]+Rn[3]*Un[2],fi=Rn[2]*Un[1]+Rn[3]*Un[3],di=(ti+fi)/2,wi=Math.sqrt((ti+fi)**2-4*(ti*fi-Si*pi))/2,Ri=di+wi||1,Fi=di-wi||1;return[Math.sqrt(Ri),Math.sqrt(Fi)]}static normalizeRect(Rn){const Un=Rn.slice(0);return Rn[0]>Rn[2]&&(Un[0]=Rn[2],Un[2]=Rn[0]),Rn[1]>Rn[3]&&(Un[1]=Rn[3],Un[3]=Rn[1]),Un}static intersect(Rn,Un){const ti=Math.max(Math.min(Rn[0],Rn[2]),Math.min(Un[0],Un[2])),pi=Math.min(Math.max(Rn[0],Rn[2]),Math.max(Un[0],Un[2]));if(ti>pi)return null;const Si=Math.max(Math.min(Rn[1],Rn[3]),Math.min(Un[1],Un[3])),fi=Math.min(Math.max(Rn[1],Rn[3]),Math.max(Un[1],Un[3]));return Si>fi?null:[ti,Si,pi,fi]}static bezierBoundingBox(Rn,Un,ti,pi,Si,fi,di,wi){const Ri=[],Fi=[[],[]];let Oi,Ii,xi,Bi,Qi,Xi,Hi,Ui;for(let Yi=0;Yi<2;++Yi){if(Yi===0?(Ii=6*Rn-12*ti+6*Si,Oi=-3*Rn+9*ti-9*Si+3*di,xi=3*ti-3*Rn):(Ii=6*Un-12*pi+6*fi,Oi=-3*Un+9*pi-9*fi+3*wi,xi=3*pi-3*Un),Math.abs(Oi)<1e-12){if(Math.abs(Ii)<1e-12)continue;Bi=-xi/Ii,0<Bi&&Bi<1&&Ri.push(Bi);continue}Hi=Ii*Ii-4*xi*Oi,Ui=Math.sqrt(Hi),!(Hi<0)&&(Qi=(-Ii+Ui)/(2*Oi),0<Qi&&Qi<1&&Ri.push(Qi),Xi=(-Ii-Ui)/(2*Oi),0<Xi&&Xi<1&&Ri.push(Xi))}let ir=Ri.length,tr;const Ji=ir;for(;ir--;)Bi=Ri[ir],tr=1-Bi,Fi[0][ir]=tr*tr*tr*Rn+3*tr*tr*Bi*ti+3*tr*Bi*Bi*Si+Bi*Bi*Bi*di,Fi[1][ir]=tr*tr*tr*Un+3*tr*tr*Bi*pi+3*tr*Bi*Bi*fi+Bi*Bi*Bi*wi;return Fi[0][Ji]=Rn,Fi[1][Ji]=Un,Fi[0][Ji+1]=di,Fi[1][Ji+1]=wi,Fi[0].length=Fi[1].length=Ji+2,[Math.min(...Fi[0]),Math.min(...Fi[1]),Math.max(...Fi[0]),Math.max(...Fi[1])]}}t.Util=zn;const $n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Yn(In){if(In[0]>="\xEF"){let Un;if(In[0]==="\xFE"&&In[1]==="\xFF"?Un="utf-16be":In[0]==="\xFF"&&In[1]==="\xFE"?Un="utf-16le":In[0]==="\xEF"&&In[1]==="\xBB"&&In[2]==="\xBF"&&(Un="utf-8"),Un)try{const ti=new TextDecoder(Un,{fatal:!0}),pi=tn(In);return ti.decode(pi)}catch(ti){Hn(`stringToPDFString: "${ti}".`)}}const Rn=[];for(let Un=0,ti=In.length;Un<ti;Un++){const pi=$n[In.charCodeAt(Un)];Rn.push(pi?String.fromCharCode(pi):In.charAt(Un))}return Rn.join("")}function jn(In){return In.replace(/([()\\\n\r])/g,Rn=>Rn===`
`?"\\n":Rn==="\r"?"\\r":`\\${Rn}`)}function Xn(In){return/^[\x00-\x7F]*$/.test(In)}function li(In){const Rn=["\xFE\xFF"];for(let Un=0,ti=In.length;Un<ti;Un++){const pi=In.charCodeAt(Un);Rn.push(String.fromCharCode(pi>>8&255),String.fromCharCode(pi&255))}return Rn.join("")}function oi(In){return decodeURIComponent(escape(In))}function Ni(In){return unescape(encodeURIComponent(In))}function Ai(In){return typeof In=="object"&&In!==null&&In.byteLength!==void 0}function Li(In,Rn){if(In.length!==Rn.length)return!1;for(let Un=0,ti=In.length;Un<ti;Un++)if(In[Un]!==Rn[Un])return!1;return!0}function Ei(In=new Date){return[In.getUTCFullYear().toString(),(In.getUTCMonth()+1).toString().padStart(2,"0"),In.getUTCDate().toString().padStart(2,"0"),In.getUTCHours().toString().padStart(2,"0"),In.getUTCMinutes().toString().padStart(2,"0"),In.getUTCSeconds().toString().padStart(2,"0")].join("")}function ui(){const In=Object.create(null);let Rn=!1;return Object.defineProperty(In,"settled",{get(){return Rn}}),In.promise=new Promise(function(Un,ti){In.resolve=function(pi){Rn=!0,Un(pi)},In.reject=function(pi){Rn=!0,ti(pi)}}),In}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,r,_e,Ae,Se,Ee,xe,Te,Ce,Re,Ue,Dl,ke,Me;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(12),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Be,NodeCMapReaderFactory:Ie,NodeStandardFontDataFactory:qe}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=Be,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=Ie,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=qe}let createPDFNetworkStream;function setPDFNetworkStreamFactory(Be){createPDFNetworkStream=Be}function getDocument(Be){const Ie=new PDFDocumentLoadingTask;let qe;if(typeof Be=="string"||Be instanceof URL)qe={url:Be};else if((0,_util.isArrayBuffer)(Be))qe={data:Be};else if(Be instanceof PDFDataRangeTransport)qe={range:Be};else{if(typeof Be!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Be.url&&!Be.data&&!Be.range)throw new Error("Invalid parameter object: need either .data, .range or .url");qe=Be}const je=Object.create(null);let ze=null,Ve=null;for(const Qe in qe){const Je=qe[Qe];switch(Qe){case"url":if(typeof window<"u")try{je[Qe]=new URL(Je,window.location).href;continue}catch(dn){(0,_util.warn)(`Cannot create valid URL: "${dn}".`)}else if(typeof Je=="string"||Je instanceof URL){je[Qe]=Je.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":ze=Je;continue;case"worker":Ve=Je;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Je instanceof Buffer)je[Qe]=new Uint8Array(Je);else{if(Je instanceof Uint8Array)break;if(typeof Je=="string")je[Qe]=(0,_util.stringToBytes)(Je);else if(typeof Je=="object"&&Je!==null&&!isNaN(Je.length))je[Qe]=new Uint8Array(Je);else if((0,_util.isArrayBuffer)(Je))je[Qe]=new Uint8Array(Je);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}je[Qe]=Je}if(je.CMapReaderFactory=je.CMapReaderFactory||DefaultCMapReaderFactory,je.StandardFontDataFactory=je.StandardFontDataFactory||DefaultStandardFontDataFactory,je.ignoreErrors=je.stopAtErrors!==!0,je.fontExtraProperties=je.fontExtraProperties===!0,je.pdfBug=je.pdfBug===!0,je.enableXfa=je.enableXfa===!0,(!Number.isInteger(je.rangeChunkSize)||je.rangeChunkSize<1)&&(je.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof je.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(je.docBaseUrl))&&(je.docBaseUrl=null),(!Number.isInteger(je.maxImageSize)||je.maxImageSize<-1)&&(je.maxImageSize=-1),typeof je.cMapUrl!="string"&&(je.cMapUrl=null),typeof je.standardFontDataUrl!="string"&&(je.standardFontDataUrl=null),typeof je.useWorkerFetch!="boolean"&&(je.useWorkerFetch=je.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&je.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof je.isEvalSupported!="boolean"&&(je.isEvalSupported=!0),typeof je.isOffscreenCanvasSupported!="boolean"&&(je.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof je.disableFontFace!="boolean"&&(je.disableFontFace=_is_node.isNodeJS),typeof je.useSystemFonts!="boolean"&&(je.useSystemFonts=!_is_node.isNodeJS&&!je.disableFontFace),(typeof je.ownerDocument!="object"||je.ownerDocument===null)&&(je.ownerDocument=globalThis.document),typeof je.disableRange!="boolean"&&(je.disableRange=!1),typeof je.disableStream!="boolean"&&(je.disableStream=!1),typeof je.disableAutoFetch!="boolean"&&(je.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(je.verbosity),!Ve){const Qe={verbosity:je.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Ve=Qe.port?PDFWorker.fromPort(Qe):new PDFWorker(Qe),Ie._worker=Ve}const He=Ie.docId;return Ve.promise.then(function(){if(Ie.destroyed)throw new Error("Loading aborted");const Qe=_fetchDocument(Ve,je,ze,He),Je=new Promise(function(dn){let an;ze?an=new _transport_stream.PDFDataTransportStream({length:je.length,initialData:je.initialData,progressiveDone:je.progressiveDone,contentDispositionFilename:je.contentDispositionFilename,disableRange:je.disableRange,disableStream:je.disableStream},ze):je.data||(an=createPDFNetworkStream({url:je.url,length:je.length,httpHeaders:je.httpHeaders,withCredentials:je.withCredentials,rangeChunkSize:je.rangeChunkSize,disableRange:je.disableRange,disableStream:je.disableStream})),dn(an)});return Promise.all([Qe,Je]).then(function([dn,an]){if(Ie.destroyed)throw new Error("Loading aborted");const Ke=new _message_handler.MessageHandler(He,dn,Ve.port),rn=new WorkerTransport(Ke,Ie,an,je);Ie._transport=rn,Ke.send("Ready",null)})}).catch(Ie._capability.reject),Ie}async function _fetchDocument(Be,Ie,qe,je){if(Be.destroyed)throw new Error("Worker was destroyed");qe&&(Ie.length=qe.length,Ie.initialData=qe.initialData,Ie.progressiveDone=qe.progressiveDone,Ie.contentDispositionFilename=qe.contentDispositionFilename);const ze=await Be.messageHandler.sendWithPromise("GetDocRequest",{docId:je,apiVersion:"3.0.279",data:Ie.data,password:Ie.password,disableAutoFetch:Ie.disableAutoFetch,rangeChunkSize:Ie.rangeChunkSize,length:Ie.length,docBaseUrl:Ie.docBaseUrl,enableXfa:Ie.enableXfa,evaluatorOptions:{maxImageSize:Ie.maxImageSize,disableFontFace:Ie.disableFontFace,ignoreErrors:Ie.ignoreErrors,isEvalSupported:Ie.isEvalSupported,isOffscreenCanvasSupported:Ie.isOffscreenCanvasSupported,fontExtraProperties:Ie.fontExtraProperties,useSystemFonts:Ie.useSystemFonts,cMapUrl:Ie.useWorkerFetch?Ie.cMapUrl:null,standardFontDataUrl:Ie.useWorkerFetch?Ie.standardFontDataUrl:null}});if(Ie.data&&(Ie.data=null),Be.destroyed)throw new Error("Worker was destroyed");return ze}const t=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Ol(t,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var Ie;this.destroyed=!0,await((Ie=this._transport)==null?void 0:Ie.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=t;e=new WeakMap,ei(PDFDocumentLoadingTask,e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Ie,qe,je=!1,ze=null){this.length=Ie,this.initialData=qe,this.progressiveDone=je,this.contentDispositionFilename=ze,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(Ie){this._rangeListeners.push(Ie)}addProgressListener(Ie){this._progressListeners.push(Ie)}addProgressiveReadListener(Ie){this._progressiveReadListeners.push(Ie)}addProgressiveDoneListener(Ie){this._progressiveDoneListeners.push(Ie)}onDataRange(Ie,qe){for(const je of this._rangeListeners)je(Ie,qe)}onDataProgress(Ie,qe){this._readyCapability.promise.then(()=>{for(const je of this._progressListeners)je(Ie,qe)})}onDataProgressiveRead(Ie){this._readyCapability.promise.then(()=>{for(const qe of this._progressiveReadListeners)qe(Ie)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Ie of this._progressiveDoneListeners)Ie()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Ie,qe){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Ie,qe){this._pdfInfo=Ie,this._transport=qe}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Ie){return this._transport.getPage(Ie)}getPageIndex(Ie){return this._transport.getPageIndex(Ie)}getDestinations(){return this._transport.getDestinations()}getDestination(Ie){return this._transport.getDestination(Ie)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Ie=!1){return this._transport.startCleanup(Ie||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Ie,qe,je,ze,Ve=!1){this._pageIndex=Ie,this._pageInfo=qe,this._ownerDocument=ze,this._transport=je,this._stats=Ve?new _display_utils.StatTimer:null,this._pdfBug=Ve,this.commonObjs=je.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Ie,rotation:qe=this.rotate,offsetX:je=0,offsetY:ze=0,dontFlip:Ve=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Ie,rotation:qe,offsetX:je,offsetY:ze,dontFlip:Ve})}getAnnotations({intent:Ie="display"}={}){const qe=this._transport.getRenderingIntent(Ie);let je=this._annotationPromises.get(qe.cacheKey);return je||(je=this._transport.getAnnotations(this._pageIndex,qe.renderingIntent),this._annotationPromises.set(qe.cacheKey,je)),je}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var Ie;return((Ie=this._transport._htmlForXfa)==null?void 0:Ie.children[this._pageIndex])||null}render({canvasContext:Ie,viewport:qe,intent:je="display",annotationMode:ze=_util.AnnotationMode.ENABLE,transform:Ve=null,canvasFactory:He=null,background:Qe=null,optionalContentConfigPromise:Je=null,annotationCanvasMap:dn=null,pageColors:an=null,printAnnotationStorage:Ke=null}){var On,Hn;(On=this._stats)==null||On.time("Overall");const rn=this._transport.getRenderingIntent(je,ze,Ke);this.pendingCleanup=!1,Je||(Je=this._transport.getOptionalContentConfig());let Cn=this._intentStates.get(rn.cacheKey);Cn||(Cn=Object.create(null),this._intentStates.set(rn.cacheKey,Cn)),Cn.streamReaderCancelTimeout&&(clearTimeout(Cn.streamReaderCancelTimeout),Cn.streamReaderCancelTimeout=null);const Sn=He||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),fn=!!(rn.renderingIntent&_util.RenderingIntentFlag.PRINT);Cn.displayReadyCapability||(Cn.displayReadyCapability=(0,_util.createPromiseCapability)(),Cn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Hn=this._stats)==null||Hn.time("Page Request"),this._pumpOperatorList(rn));const gn=Bn=>{var Ze,Xe;Cn.renderTasks.delete(vn),(this.cleanupAfterRender||fn)&&(this.pendingCleanup=!0),this._tryCleanup(),Bn?(vn.capability.reject(Bn),this._abortOperatorList({intentState:Cn,reason:Bn instanceof Error?Bn:new Error(Bn)})):vn.capability.resolve(),(Ze=this._stats)==null||Ze.timeEnd("Rendering"),(Xe=this._stats)==null||Xe.timeEnd("Overall")},vn=new InternalRenderTask({callback:gn,params:{canvasContext:Ie,viewport:qe,transform:Ve,background:Qe},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:dn,operatorList:Cn.operatorList,pageIndex:this._pageIndex,canvasFactory:Sn,useRequestAnimationFrame:!fn,pdfBug:this._pdfBug,pageColors:an});(Cn.renderTasks||(Cn.renderTasks=new Set)).add(vn);const pn=vn.task;return Promise.all([Cn.displayReadyCapability.promise,Je]).then(([Bn,Ze])=>{var Xe;if(this.pendingCleanup){gn();return}(Xe=this._stats)==null||Xe.time("Rendering"),vn.initializeGraphics({transparency:Bn,optionalContentConfig:Ze}),vn.operatorListChanged()}).catch(gn),pn}getOperatorList({intent:Ie="display",annotationMode:qe=_util.AnnotationMode.ENABLE,printAnnotationStorage:je=null}={}){var Je;function ze(){He.operatorList.lastChunk&&(He.opListReadCapability.resolve(He.operatorList),He.renderTasks.delete(Qe))}const Ve=this._transport.getRenderingIntent(Ie,qe,je,!0);let He=this._intentStates.get(Ve.cacheKey);He||(He=Object.create(null),this._intentStates.set(Ve.cacheKey,He));let Qe;return He.opListReadCapability||(Qe=Object.create(null),Qe.operatorListChanged=ze,He.opListReadCapability=(0,_util.createPromiseCapability)(),(He.renderTasks||(He.renderTasks=new Set)).add(Qe),He.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Je=this._stats)==null||Je.time("Page Request"),this._pumpOperatorList(Ve)),He.opListReadCapability.promise}streamTextContent({disableCombineTextItems:Ie=!1,includeMarkedContent:qe=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:Ie!==!0,includeMarkedContent:qe===!0},{highWaterMark:100,size(ze){return ze.items.length}})}getTextContent(Ie={}){if(this._transport._htmlForXfa)return this.getXfa().then(je=>_xfa_text.XfaText.textContent(je));const qe=this.streamTextContent(Ie);return new Promise(function(je,ze){function Ve(){He.read().then(function({value:Je,done:dn}){if(dn){je(Qe);return}Object.assign(Qe.styles,Je.styles),Qe.items.push(...Je.items),Ve()},ze)}const He=qe.getReader(),Qe={items:[],styles:Object.create(null)};Ve()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const Ie=[];for(const qe of this._intentStates.values())if(this._abortOperatorList({intentState:qe,reason:new Error("Page was destroyed."),force:!0}),!qe.opListReadCapability)for(const je of qe.renderTasks)Ie.push(je.completed),je.cancel();this.objs.clear();for(const qe of this._bitmaps)qe.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(Ie)}cleanup(Ie=!1){return this.pendingCleanup=!0,this._tryCleanup(Ie)}_tryCleanup(Ie=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:qe,operatorList:je}of this._intentStates.values())if(qe.size>0||!je.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,Ie&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const qe of this._bitmaps)qe.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(Ie,qe){var ze,Ve;const je=this._intentStates.get(qe);!je||((ze=this._stats)==null||ze.timeEnd("Page Request"),(Ve=je.displayReadyCapability)==null||Ve.resolve(Ie))}_renderPageChunk(Ie,qe){for(let je=0,ze=Ie.length;je<ze;je++)qe.operatorList.fnArray.push(Ie.fnArray[je]),qe.operatorList.argsArray.push(Ie.argsArray[je]);qe.operatorList.lastChunk=Ie.lastChunk,qe.operatorList.separateAnnots=Ie.separateAnnots;for(const je of qe.renderTasks)je.operatorListChanged();Ie.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:Ie,cacheKey:qe,annotationStorageMap:je}){const Ve=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Ie,cacheKey:qe,annotationStorage:je}).getReader(),He=this._intentStates.get(qe);He.streamReader=Ve;const Qe=()=>{Ve.read().then(({value:Je,done:dn})=>{if(dn){He.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Je,He),Qe())},Je=>{if(He.streamReader=null,!this._transport.destroyed){if(He.operatorList){He.operatorList.lastChunk=!0;for(const dn of He.renderTasks)dn.operatorListChanged();this._tryCleanup()}if(He.displayReadyCapability)He.displayReadyCapability.reject(Je);else if(He.opListReadCapability)He.opListReadCapability.reject(Je);else throw Je}})};Qe()}_abortOperatorList({intentState:Ie,reason:qe,force:je=!1}){if(!!Ie.streamReader){if(!je){if(Ie.renderTasks.size>0)return;if(qe instanceof _display_utils.RenderingCancelledException){Ie.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:Ie,reason:qe,force:!0}),Ie.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(Ie.streamReader.cancel(new _util.AbortException(qe.message)).catch(()=>{}),Ie.streamReader=null,!this._transport.destroyed){for(const[ze,Ve]of this._intentStates)if(Ve===Ie){this._intentStates.delete(ze);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ei(this,r,[]);ei(this,_e,Promise.resolve())}postMessage(Ie,qe){const je={data:structuredClone(Ie,qe)};Nn(this,_e).then(()=>{for(const ze of Nn(this,r))ze.call(this,je)})}addEventListener(Ie,qe){Nn(this,r).push(qe)}removeEventListener(Ie,qe){const je=Nn(this,r).indexOf(qe);Nn(this,r).splice(je,1)}terminate(){Nn(this,r).length=0}}r=new WeakMap,_e=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Be=(Ae=document==null?void 0:document.currentScript)==null?void 0:Ae.src;Be&&(PDFWorkerUtil.fallbackWorkerSrc=Be.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Be,Ie){let qe;try{if(qe=new URL(Be),!qe.origin||qe.origin==="null")return!1}catch{return!1}const je=new URL(Ie,qe);return qe.origin===je.origin},PDFWorkerUtil.createCDNWrapper=function(Be){const Ie=`importScripts("${Be}");`;return URL.createObjectURL(new Blob([Ie]))}}const _PDFWorker=class{constructor({name:Be=null,port:Ie=null,verbosity:qe=(0,_util.getVerbosityLevel)()}={}){if(Ie&&Nn(_PDFWorker,Se).has(Ie))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Be,this.destroyed=!1,this.verbosity=qe,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,Ie){Nn(_PDFWorker,Se).set(Ie,this),this._initializeFromPort(Ie);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Be){this._port=Be,this._messageHandler=new _message_handler.MessageHandler("main","worker",Be),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Be}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Be)||(Be=PDFWorkerUtil.createCDNWrapper(new URL(Be,window.location).href));const Ie=new Worker(Be),qe=new _message_handler.MessageHandler("main","worker",Ie),je=()=>{Ie.removeEventListener("error",ze),qe.destroy(),Ie.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ze=()=>{this._webWorker||je()};Ie.addEventListener("error",ze),qe.on("test",He=>{if(Ie.removeEventListener("error",ze),this.destroyed){je();return}He?(this._messageHandler=qe,this._port=Ie,this._webWorker=Ie,this._readyCapability.resolve(),qe.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),qe.destroy(),Ie.terminate())}),qe.on("ready",He=>{if(Ie.removeEventListener("error",ze),this.destroyed){je();return}try{Ve()}catch{this._setupFakeWorker()}});const Ve=()=>{const He=new Uint8Array;qe.send("test",He,[He.buffer])};Ve();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Be=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Ie=new LoopbackPort;this._port=Ie;const qe=`fake${PDFWorkerUtil.fakeWorkerId++}`,je=new _message_handler.MessageHandler(qe+"_worker",qe,Ie);Be.setup(je,Ie);const ze=new _message_handler.MessageHandler(qe,qe+"_worker",Ie);this._messageHandler=ze,this._readyCapability.resolve(),ze.send("configure",{verbosity:this.verbosity})}).catch(Be=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Be.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Nn(_PDFWorker,Se).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Be){if(!(Be!=null&&Be.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Nn(this,Se).has(Be.port)?Nn(this,Se).get(Be.port):new _PDFWorker(Be)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Be;try{return((Be=globalThis.pdfjsWorker)==null?void 0:Be.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;Se=new WeakMap,ei(PDFWorker,Se,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Ie,qe,je,ze){ei(this,Ee,null);ei(this,xe,new Map);ei(this,Te,new Map);ei(this,Ce,null);this.messageHandler=Ie,this.loadingTask=qe,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:ze.ownerDocument,styleElement:ze.styleElement}),this._params=ze,ze.useWorkerFetch||(this.CMapReaderFactory=new ze.CMapReaderFactory({baseUrl:ze.cMapUrl,isCompressed:ze.cMapPacked}),this.StandardFontDataFactory=new ze.StandardFontDataFactory({baseUrl:ze.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=je,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Nn(this,Ee)}getRenderingIntent(Ie,qe=_util.AnnotationMode.ENABLE,je=null,ze=!1){let Ve=_util.RenderingIntentFlag.DISPLAY,He=null;switch(Ie){case"any":Ve=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ve=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Ie}`)}switch(qe){case _util.AnnotationMode.DISABLE:Ve+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ve+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ve+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,He=(Ve&_util.RenderingIntentFlag.PRINT&&je instanceof _annotation_storage.PrintAnnotationStorage?je:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${qe}`)}return ze&&(Ve+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ve,cacheKey:`${Ve}_${_annotation_storage.AnnotationStorage.getHash(He)}`,annotationStorageMap:He}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const Ie=[];for(const je of Nn(this,xe).values())Ie.push(je._destroy());Nn(this,xe).clear(),Nn(this,Te).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const qe=this.messageHandler.sendWithPromise("Terminate",null);return Ie.push(qe),Promise.all(Ie).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),bi(this,Ce,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Ie,loadingTask:qe}=this;Ie.on("GetReader",(je,ze)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ve=>{this._lastProgress={loaded:Ve.loaded,total:Ve.total}},ze.onPull=()=>{this._fullReader.read().then(function({value:Ve,done:He}){if(He){ze.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(Ve),"GetReader - expected an ArrayBuffer."),ze.enqueue(new Uint8Array(Ve),1,[Ve])}).catch(Ve=>{ze.error(Ve)})},ze.onCancel=Ve=>{this._fullReader.cancel(Ve),ze.ready.catch(He=>{if(!this.destroyed)throw He})}}),Ie.on("ReaderHeadersReady",je=>{const ze=(0,_util.createPromiseCapability)(),Ve=this._fullReader;return Ve.headersReady.then(()=>{var He;(!Ve.isStreamingSupported||!Ve.isRangeSupported)&&(this._lastProgress&&((He=qe.onProgress)==null||He.call(qe,this._lastProgress)),Ve.onProgress=Qe=>{var Je;(Je=qe.onProgress)==null||Je.call(qe,{loaded:Qe.loaded,total:Qe.total})}),ze.resolve({isStreamingSupported:Ve.isStreamingSupported,isRangeSupported:Ve.isRangeSupported,contentLength:Ve.contentLength})},ze.reject),ze.promise}),Ie.on("GetRangeReader",(je,ze)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ve=this._networkStream.getRangeReader(je.begin,je.end);if(!Ve){ze.close();return}ze.onPull=()=>{Ve.read().then(function({value:He,done:Qe}){if(Qe){ze.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(He),"GetRangeReader - expected an ArrayBuffer."),ze.enqueue(new Uint8Array(He),1,[He])}).catch(He=>{ze.error(He)})},ze.onCancel=He=>{Ve.cancel(He),ze.ready.catch(Qe=>{if(!this.destroyed)throw Qe})}}),Ie.on("GetDoc",({pdfInfo:je})=>{this._numPages=je.numPages,this._htmlForXfa=je.htmlForXfa,delete je.htmlForXfa,qe._capability.resolve(new PDFDocumentProxy(je,this))}),Ie.on("DocException",function(je){let ze;switch(je.name){case"PasswordException":ze=new _util.PasswordException(je.message,je.code);break;case"InvalidPDFException":ze=new _util.InvalidPDFException(je.message);break;case"MissingPDFException":ze=new _util.MissingPDFException(je.message);break;case"UnexpectedResponseException":ze=new _util.UnexpectedResponseException(je.message,je.status);break;case"UnknownErrorException":ze=new _util.UnknownErrorException(je.message,je.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}qe._capability.reject(ze)}),Ie.on("PasswordRequest",je=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),qe.onPassword){const ze=Ve=>{Ve instanceof Error?this._passwordCapability.reject(Ve):this._passwordCapability.resolve({password:Ve})};try{qe.onPassword(ze,je.code)}catch(Ve){this._passwordCapability.reject(Ve)}}else this._passwordCapability.reject(new _util.PasswordException(je.message,je.code));return this._passwordCapability.promise}),Ie.on("DataLoaded",je=>{var ze;(ze=qe.onProgress)==null||ze.call(qe,{loaded:je.length,total:je.length}),this.downloadInfoCapability.resolve(je)}),Ie.on("StartRenderPage",je=>{if(this.destroyed)return;Nn(this,xe).get(je.pageIndex)._startRenderPage(je.transparency,je.cacheKey)}),Ie.on("commonobj",([je,ze,Ve])=>{var He;if(!this.destroyed&&!this.commonObjs.has(je))switch(ze){case"Font":const Qe=this._params;if("error"in Ve){const an=Ve.error;(0,_util.warn)(`Error during font loading: ${an}`),this.commonObjs.resolve(je,an);break}let Je=null;Qe.pdfBug&&((He=globalThis.FontInspector)==null?void 0:He.enabled)&&(Je={registerFont(an,Ke){globalThis.FontInspector.fontAdded(an,Ke)}});const dn=new _font_loader.FontFaceObject(Ve,{isEvalSupported:Qe.isEvalSupported,disableFontFace:Qe.disableFontFace,ignoreErrors:Qe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Je});this.fontLoader.bind(dn).catch(an=>Ie.sendWithPromise("FontFallback",{id:je})).finally(()=>{!Qe.fontExtraProperties&&dn.data&&(dn.data=null),this.commonObjs.resolve(je,dn)});break;case"FontPath":case"Image":this.commonObjs.resolve(je,Ve);break;default:throw new Error(`Got unknown common object type ${ze}`)}}),Ie.on("obj",([je,ze,Ve,He])=>{var Je;if(this.destroyed)return;const Qe=Nn(this,xe).get(ze);if(!Qe.objs.has(je))switch(Ve){case"Image":Qe.objs.resolve(je,He);const dn=8e6;if(He){let an;if(He.bitmap){const{bitmap:Ke,width:rn,height:Cn}=He;an=rn*Cn*4,Qe._bitmaps.add(Ke)}else an=((Je=He.data)==null?void 0:Je.length)||0;an>dn&&(Qe.cleanupAfterRender=!0)}break;case"Pattern":Qe.objs.resolve(je,He);break;default:throw new Error(`Got unknown object type ${Ve}`)}}),Ie.on("DocProgress",je=>{var ze;this.destroyed||(ze=qe.onProgress)==null||ze.call(qe,{loaded:je.loaded,total:je.total})}),Ie.on("DocStats",je=>{this.destroyed||bi(this,Ee,Object.freeze({streamTypes:Object.freeze(je.streamTypes),fontTypes:Object.freeze(je.fontTypes)}))}),Ie.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),Ie.on("FetchBuiltInCMap",je=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(je):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Ie.on("FetchStandardFontData",je=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(je):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:Ie}){var qe,je;this.destroyed||(je=(qe=this.loadingTask).onUnsupportedFeature)==null||je.call(qe,Ie)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ie,qe;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(qe=(Ie=this._fullReader)==null?void 0:Ie.filename)!=null?qe:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(Ie){if(!Number.isInteger(Ie)||Ie<=0||Ie>this._numPages)return Promise.reject(new Error("Invalid page request."));const qe=Ie-1,je=Nn(this,Te).get(qe);if(je)return je;const ze=this.messageHandler.sendWithPromise("GetPage",{pageIndex:qe}).then(Ve=>{if(this.destroyed)throw new Error("Transport destroyed");const He=new PDFPageProxy(qe,Ve,this,this._params.ownerDocument,this._params.pdfBug);return Nn(this,xe).set(qe,He),He});return Nn(this,Te).set(qe,ze),ze}getPageIndex(Ie){return typeof Ie!="object"||Ie===null||!Number.isInteger(Ie.num)||Ie.num<0||!Number.isInteger(Ie.gen)||Ie.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Ie.num,gen:Ie.gen})}getAnnotations(Ie,qe){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Ie,intent:qe})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Ie){return typeof Ie!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Ie})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(Ie){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Ie})}getStructTree(Ie){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Ie})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Ie=>new _optional_content_config.OptionalContentConfig(Ie))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Nn(this,Ce)||bi(this,Ce,this.messageHandler.sendWithPromise("GetMetadata",null).then(Ie=>{var qe,je,ze,Ve;return{info:Ie[0],metadata:Ie[1]?new _metadata.Metadata(Ie[1]):null,contentDispositionFilename:(je=(qe=this._fullReader)==null?void 0:qe.filename)!=null?je:null,contentLength:(Ve=(ze=this._fullReader)==null?void 0:ze.contentLength)!=null?Ve:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Ie=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const qe of Nn(this,xe).values())if(!qe.cleanup())throw new Error(`startCleanup: Page ${qe.pageNumber} is currently rendering.`);this.commonObjs.clear(),Ie||this.fontLoader.clear(),bi(this,Ce,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const Ie=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Ie.disableAutoFetch,enableXfa:Ie.enableXfa})}}Ee=new WeakMap,xe=new WeakMap,Te=new WeakMap,Ce=new WeakMap;class PDFObjects{constructor(){ei(this,Ue);ei(this,Re,Object.create(null))}get(Ie,qe=null){if(qe){const ze=ii(this,Ue,Dl).call(this,Ie);return ze.capability.promise.then(()=>qe(ze.data)),null}const je=Nn(this,Re)[Ie];if(!(je!=null&&je.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Ie}.`);return je.data}has(Ie){const qe=Nn(this,Re)[Ie];return(qe==null?void 0:qe.capability.settled)||!1}resolve(Ie,qe=null){const je=ii(this,Ue,Dl).call(this,Ie);je.data=qe,je.capability.resolve()}clear(){bi(this,Re,Object.create(null))}}Re=new WeakMap,Ue=new WeakSet,Dl=function(Ie){const qe=Nn(this,Re)[Ie];return qe||(Nn(this,Re)[Ie]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(Ie){ei(this,ke,null);bi(this,ke,Ie),this.onContinue=null}get promise(){return Nn(this,ke).capability.promise}cancel(){Nn(this,ke).cancel()}get separateAnnots(){const{separateAnnots:Ie}=Nn(this,ke).operatorList;if(!Ie)return!1;const{annotationCanvasMap:qe}=Nn(this,ke);return Ie.form||Ie.canvas&&(qe==null?void 0:qe.size)>0}}ke=new WeakMap,exports.RenderTask=RenderTask;const Oe=class{constructor({callback:Ie,params:qe,objs:je,commonObjs:ze,annotationCanvasMap:Ve,operatorList:He,pageIndex:Qe,canvasFactory:Je,useRequestAnimationFrame:dn=!1,pdfBug:an=!1,pageColors:Ke=null}){this.callback=Ie,this.params=qe,this.objs=je,this.commonObjs=ze,this.annotationCanvasMap=Ve,this.operatorListIdx=null,this.operatorList=He,this._pageIndex=Qe,this.canvasFactory=Je,this._pdfBug=an,this.pageColors=Ke,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=dn===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=qe.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Ie=!1,optionalContentConfig:qe}){var Qe,Je;if(this.cancelled)return;if(this._canvas){if(Nn(Oe,Me).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Nn(Oe,Me).add(this._canvas)}this._pdfBug&&((Qe=globalThis.StepperManager)==null?void 0:Qe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:je,viewport:ze,transform:Ve,background:He}=this.params;this.gfx=new _canvas.CanvasGraphics(je,this.commonObjs,this.objs,this.canvasFactory,qe,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ve,viewport:ze,transparency:Ie,background:He}),this.operatorListIdx=0,this.graphicsReady=!0,(Je=this.graphicsReadyCallback)==null||Je.call(this)}cancel(Ie=null){var qe;this.running=!1,this.cancelled=!0,(qe=this.gfx)==null||qe.endDrawing(),this._canvas&&Nn(Oe,Me).delete(this._canvas),this.callback(Ie||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){var Ie;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Ie=this.stepper)==null||Ie.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Nn(Oe,Me).delete(this._canvas),this.callback())))}};let InternalRenderTask=Oe;Me=new WeakMap,ei(InternalRenderTask,Me,new WeakSet);const version="3.0.279";exports.version=version;const build="d0823066c";exports.build=build},(e,t,r)=>{var Te,Gc,Re;Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var _e=r(1),Ae=r(4),Se=r(8);class Ee{constructor(){ei(this,Te);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(De,ke){const Me=this._storage.get(De);return Me===void 0?ke:Object.assign(ke,Me)}getRawValue(De){return this._storage.get(De)}remove(De){if(this._storage.delete(De),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ke of this._storage.values())if(ke instanceof Ae.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(De,ke){const Me=this._storage.get(De);let Oe=!1;if(Me!==void 0)for(const[Be,Ie]of Object.entries(ke))Me[Be]!==Ie&&(Oe=!0,Me[Be]=Ie);else Oe=!0,this._storage.set(De,ke);Oe&&ii(this,Te,Gc).call(this),ke instanceof Ae.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ke.constructor._type)}has(De){return this._storage.has(De)}getAll(){return this._storage.size>0?(0,_e.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new xe(this)}get serializable(){if(this._storage.size===0)return null;const De=new Map;for(const[ke,Me]of this._storage){const Oe=Me instanceof Ae.AnnotationEditor?Me.serialize():Me;Oe&&De.set(ke,Oe)}return De}static getHash(De){if(!De)return"";const ke=new Se.MurmurHash3_64;for(const[Me,Oe]of De)ke.update(`${Me}:${JSON.stringify(Oe)}`);return ke.hexdigest()}}Te=new WeakSet,Gc=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=Ee;class xe extends Ee{constructor(ke){super();ei(this,Re,null);bi(this,Re,structuredClone(ke.serializable))}get print(){(0,_e.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Nn(this,Re)}}Re=new WeakMap,t.PrintAnnotationStorage=xe},(e,t,r)=>{var Ee,xe,Te,Ce,Re,Ue;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var _e=r(5),Ae=r(1);const De=class{constructor(Me){ei(this,Ee,this.focusin.bind(this));ei(this,xe,this.focusout.bind(this));ei(this,Te,!1);ei(this,Ce,!1);ei(this,Re,!1);ei(this,Ue,De._zIndex++);this.constructor===De&&(0,Ae.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Me.parent,this.id=Me.id,this.width=this.height=null,this.pageIndex=Me.parent.pageIndex,this.name=Me.name,this.div=null;const[Oe,Be]=this.parent.viewportBaseDimensions;this.x=Me.x/Oe,this.y=Me.y/Be,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,Ae.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Nn(this,Ue)}focusin(Me){Nn(this,Te)?bi(this,Te,!1):this.parent.setSelected(this)}focusout(Me){if(!this.isAttachedToDOM)return;const Oe=Me.relatedTarget;Oe!=null&&Oe.closest(`#${this.id}`)||(Me.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(Me){const Oe=this.parent.div.getBoundingClientRect();this.startX=Me.clientX-Oe.x,this.startY=Me.clientY-Oe.y,Me.dataTransfer.setData("text/plain",this.id),Me.dataTransfer.effectAllowed="move"}setAt(Me,Oe,Be,Ie){const[qe,je]=this.parent.viewportBaseDimensions;[Be,Ie]=this.screenToPageTranslation(Be,Ie),this.x=(Me+Be)/qe,this.y=(Oe+Ie)/je,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(Me,Oe){const[Be,Ie]=this.parent.viewportBaseDimensions;[Me,Oe]=this.screenToPageTranslation(Me,Oe),this.x+=Me/Be,this.y+=Oe/Ie,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(Me,Oe){const{rotation:Be}=this.parent.viewport;switch(Be){case 90:return[Oe,-Me];case 180:return[-Me,-Oe];case 270:return[-Oe,Me];default:return[Me,Oe]}}setDims(Me,Oe){const[Be,Ie]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*Me/Be}%`,this.div.style.height=`${100*Oe/Ie}%`}fixDims(){const{style:Me}=this.div,{height:Oe,width:Be}=Me,Ie=Be.endsWith("%"),qe=Oe.endsWith("%");if(Ie&&qe)return;const[je,ze]=this.parent.viewportBaseDimensions;Ie||(Me.width=`${100*parseFloat(Be)/je}%`),qe||(Me.height=`${100*parseFloat(Oe)/ze}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Nn(this,Ee)),this.div.addEventListener("focusout",Nn(this,xe));const[Me,Oe]=this.getInitialTranslation();return this.translate(Me,Oe),(0,_e.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Me){const Oe=_e.KeyboardManager.platform.isMac;if(Me.button!==0||Me.ctrlKey&&Oe){Me.preventDefault();return}Me.ctrlKey&&!Oe||Me.shiftKey||Me.metaKey&&Oe?this.parent.toggleSelected(this):this.parent.setSelected(this),bi(this,Te,!0)}getRect(Me,Oe){const[Be,Ie]=this.parent.viewportBaseDimensions,[qe,je]=this.parent.pageDimensions,ze=qe*Me/Be,Ve=je*Oe/Ie,He=this.x*qe,Qe=this.y*je,Je=this.width*qe,dn=this.height*je;switch(this.rotation){case 0:return[He+ze,je-Qe-Ve-dn,He+ze+Je,je-Qe-Ve];case 90:return[He+Ve,je-Qe+ze,He+Ve+dn,je-Qe+ze+Je];case 180:return[He-ze-Je,je-Qe+Ve,He-ze,je-Qe+Ve+dn];case 270:return[He-Ve-dn,je-Qe-ze-Je,He-Ve,je-Qe-ze];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Me,Oe){const[Be,Ie,qe,je]=Me,ze=qe-Be,Ve=je-Ie;switch(this.rotation){case 0:return[Be,Oe-je,ze,Ve];case 90:return[Be,Oe-Ie,Ve,ze];case 180:return[qe,Oe-Ie,ze,Ve];case 270:return[qe,Oe-je,Ve,ze];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){bi(this,Re,!0)}disableEditMode(){bi(this,Re,!1)}isInEditMode(){return Nn(this,Re)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Me;(Me=this.div)==null||Me.addEventListener("focusin",Nn(this,Ee))}serialize(){(0,Ae.unreachable)("An editor must be serializable")}static deserialize(Me,Oe){const Be=new this.prototype.constructor({parent:Oe,id:Oe.getNextId()});Be.rotation=Me.rotation;const[Ie,qe]=Oe.pageDimensions,[je,ze,Ve,He]=Be.getRectInCurrentCoords(Me.rect,qe);return Be.x=je/Ie,Be.y=ze/qe,Be.width=Ve/Ie,Be.height=He/qe,Be}remove(){this.div.removeEventListener("focusin",Nn(this,Ee)),this.div.removeEventListener("focusout",Nn(this,xe)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var Me;(Me=this.div)==null||Me.classList.add("selectedEditor")}unselect(){var Me;(Me=this.div)==null||Me.classList.remove("selectedEditor")}updateParams(Me,Oe){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return Nn(this,Ce)}set isEditing(Me){bi(this,Ce,Me),Me?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let Se=De;Ee=new WeakMap,xe=new WeakMap,Te=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Ue=new WeakMap,hr(Se,"_colorManager",new _e.ColorManager),hr(Se,"_zIndex",1),t.AnnotationEditor=Se},(e,t,r)=>{var De,ke,Me,Oe,Be,Ie,$c,Ve,He,Qe,Je,dn,an,Ke,rn,Cn,Sn,fn,gn,vn,pn,On,Hn,Bn,Ze,Xe,Ye,Xc,on,Bl,bn,Yc,Vn,Kc,un,Vr,St,Ha,$e,Jc,En,Qc,Pn,jl,nn,za,_n,Ul;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=Se,t.opacityToHex=Ee;var _e=r(1),Ae=r(6);function Se(Yn,jn,Xn){for(const li of Xn)jn.addEventListener(li,Yn[li].bind(Yn))}function Ee(Yn){return Math.round(Math.min(255,Math.max(1,255*Yn))).toString(16).padStart(2,"0")}class xe{constructor(){ei(this,De,0)}getId(){return`${_e.AnnotationEditorPrefix}${Ol(this,De)._++}`}}De=new WeakMap;class Te{constructor(jn=128){ei(this,ke,[]);ei(this,Me,!1);ei(this,Oe,void 0);ei(this,Be,-1);bi(this,Oe,jn)}add({cmd:jn,undo:Xn,mustExec:li,type:oi=NaN,overwriteIfSameType:Ni=!1,keepUndo:Ai=!1}){if(li&&jn(),Nn(this,Me))return;const Li={cmd:jn,undo:Xn,type:oi};if(Nn(this,Be)===-1){Nn(this,ke).length>0&&(Nn(this,ke).length=0),bi(this,Be,0),Nn(this,ke).push(Li);return}if(Ni&&Nn(this,ke)[Nn(this,Be)].type===oi){Ai&&(Li.undo=Nn(this,ke)[Nn(this,Be)].undo),Nn(this,ke)[Nn(this,Be)]=Li;return}const Ei=Nn(this,Be)+1;Ei===Nn(this,Oe)?Nn(this,ke).splice(0,1):(bi(this,Be,Ei),Ei<Nn(this,ke).length&&Nn(this,ke).splice(Ei)),Nn(this,ke).push(Li)}undo(){Nn(this,Be)!==-1&&(bi(this,Me,!0),Nn(this,ke)[Nn(this,Be)].undo(),bi(this,Me,!1),bi(this,Be,Nn(this,Be)-1))}redo(){Nn(this,Be)<Nn(this,ke).length-1&&(bi(this,Be,Nn(this,Be)+1),bi(this,Me,!0),Nn(this,ke)[Nn(this,Be)].cmd(),bi(this,Me,!1))}hasSomethingToUndo(){return Nn(this,Be)!==-1}hasSomethingToRedo(){return Nn(this,Be)<Nn(this,ke).length-1}destroy(){bi(this,ke,null)}}ke=new WeakMap,Me=new WeakMap,Oe=new WeakMap,Be=new WeakMap,t.CommandManager=Te;const je=class{constructor(jn){ei(this,Ie);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Xn=je.platform.isMac;for(const[li,oi]of jn)for(const Ni of li){const Ai=Ni.startsWith("mac+");Xn&&Ai?(this.callbacks.set(Ni.slice(4),oi),this.allKeys.add(Ni.split("+").at(-1))):!Xn&&!Ai&&(this.callbacks.set(Ni,oi),this.allKeys.add(Ni.split("+").at(-1)))}}static get platform(){const jn=typeof navigator<"u"?navigator.platform:"";return(0,_e.shadow)(this,"platform",{isWin:jn.includes("Win"),isMac:jn.includes("Mac")})}exec(jn,Xn){if(!this.allKeys.has(Xn.key))return;const li=this.callbacks.get(ii(this,Ie,$c).call(this,Xn));!li||(li.bind(jn)(),Xn.stopPropagation(),Xn.preventDefault())}};let Ce=je;Ie=new WeakSet,$c=function(jn){jn.altKey&&this.buffer.push("alt"),jn.ctrlKey&&this.buffer.push("ctrl"),jn.metaKey&&this.buffer.push("meta"),jn.shiftKey&&this.buffer.push("shift"),this.buffer.push(jn.key);const Xn=this.buffer.join("+");return this.buffer.length=0,Xn},t.KeyboardManager=Ce;const ze=class{get _colors(){const jn=new Map([["CanvasText",null],["Canvas",null]]);return(0,Ae.getColorValues)(jn),(0,_e.shadow)(this,"_colors",jn)}convert(jn){const Xn=(0,Ae.getRGB)(jn);if(!window.matchMedia("(forced-colors: active)").matches)return Xn;for(const[li,oi]of this._colors)if(oi.every((Ni,Ai)=>Ni===Xn[Ai]))return ze._colorsMapping.get(li);return Xn}getHexCode(jn){const Xn=this._colors.get(jn);return Xn?_e.Util.makeHexColor(...Xn):jn}};let Re=ze;hr(Re,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),t.ColorManager=Re;const $n=class{constructor(jn,Xn){ei(this,Ye);ei(this,on);ei(this,bn);ei(this,Vn);ei(this,un);ei(this,St);ei(this,$e);ei(this,En);ei(this,Pn);ei(this,nn);ei(this,_n);ei(this,Ve,null);ei(this,He,new Map);ei(this,Qe,new Map);ei(this,Je,new Te);ei(this,dn,0);ei(this,an,null);ei(this,Ke,null);ei(this,rn,new xe);ei(this,Cn,!1);ei(this,Sn,_e.AnnotationEditorType.NONE);ei(this,fn,new Set);ei(this,gn,this.copy.bind(this));ei(this,vn,this.cut.bind(this));ei(this,pn,this.paste.bind(this));ei(this,On,this.keydown.bind(this));ei(this,Hn,this.onEditingAction.bind(this));ei(this,Bn,this.onPageChanging.bind(this));ei(this,Ze,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ei(this,Xe,null);bi(this,Xe,jn),bi(this,Ke,Xn),Nn(this,Ke)._on("editingaction",Nn(this,Hn)),Nn(this,Ke)._on("pagechanging",Nn(this,Bn))}destroy(){ii(this,on,Bl).call(this),Nn(this,Ke)._off("editingaction",Nn(this,Hn)),Nn(this,Ke)._off("pagechanging",Nn(this,Bn));for(const jn of Nn(this,Qe).values())jn.destroy();Nn(this,Qe).clear(),Nn(this,He).clear(),bi(this,Ve,null),Nn(this,fn).clear(),Nn(this,Je).destroy()}onPageChanging({pageNumber:jn}){bi(this,dn,jn-1)}focusMainContainer(){Nn(this,Xe).focus()}copy(jn){if(jn.preventDefault(),Nn(this,Ve)&&Nn(this,Ve).commitOrRemove(),!this.hasSelection)return;const Xn=[];for(const li of Nn(this,fn))li.isEmpty()||Xn.push(li.serialize());Xn.length!==0&&jn.clipboardData.setData("application/pdfjs",JSON.stringify(Xn))}cut(jn){this.copy(jn),this.delete()}paste(jn){jn.preventDefault();let Xn=jn.clipboardData.getData("application/pdfjs");if(!Xn)return;try{Xn=JSON.parse(Xn)}catch(oi){(0,_e.warn)(`paste: "${oi.message}".`);return}if(!Array.isArray(Xn))return;this.unselectAll();const li=Nn(this,Qe).get(Nn(this,dn));try{const oi=[];for(const Li of Xn){const Ei=li.deserialize(Li);if(!Ei)return;oi.push(Ei)}const Ni=()=>{for(const Li of oi)ii(this,Pn,jl).call(this,Li);ii(this,_n,Ul).call(this,oi)},Ai=()=>{for(const Li of oi)Li.remove()};this.addCommands({cmd:Ni,undo:Ai,mustExec:!0})}catch(oi){(0,_e.warn)(`paste: "${oi.message}".`)}}keydown(jn){var Xn;(Xn=this.getActive())!=null&&Xn.shouldGetKeyboardEvents()||$n._keyboardManager.exec(this,jn)}onEditingAction(jn){["undo","redo","delete","selectAll"].includes(jn.name)&&this[jn.name]()}setEditingState(jn){jn?(ii(this,Ye,Xc).call(this),ii(this,bn,Yc).call(this),ii(this,un,Vr).call(this,{isEditing:Nn(this,Sn)!==_e.AnnotationEditorType.NONE,isEmpty:ii(this,nn,za).call(this),hasSomethingToUndo:Nn(this,Je).hasSomethingToUndo(),hasSomethingToRedo:Nn(this,Je).hasSomethingToRedo(),hasSelectedEditor:!1})):(ii(this,on,Bl).call(this),ii(this,Vn,Kc).call(this),ii(this,un,Vr).call(this,{isEditing:!1}))}registerEditorTypes(jn){if(!Nn(this,an)){bi(this,an,jn);for(const Xn of Nn(this,an))ii(this,St,Ha).call(this,Xn.defaultPropertiesToUpdate)}}getId(){return Nn(this,rn).getId()}addLayer(jn){Nn(this,Qe).set(jn.pageIndex,jn),Nn(this,Cn)?jn.enable():jn.disable()}removeLayer(jn){Nn(this,Qe).delete(jn.pageIndex)}updateMode(jn){if(bi(this,Sn,jn),jn===_e.AnnotationEditorType.NONE)this.setEditingState(!1),ii(this,En,Qc).call(this);else{this.setEditingState(!0),ii(this,$e,Jc).call(this);for(const Xn of Nn(this,Qe).values())Xn.updateMode(jn)}}updateToolbar(jn){jn!==Nn(this,Sn)&&Nn(this,Ke).dispatch("switchannotationeditormode",{source:this,mode:jn})}updateParams(jn,Xn){if(!!Nn(this,an)){for(const li of Nn(this,fn))li.updateParams(jn,Xn);for(const li of Nn(this,an))li.updateDefaultParams(jn,Xn)}}getEditors(jn){const Xn=[];for(const li of Nn(this,He).values())li.pageIndex===jn&&Xn.push(li);return Xn}getEditor(jn){return Nn(this,He).get(jn)}addEditor(jn){Nn(this,He).set(jn.id,jn)}removeEditor(jn){Nn(this,He).delete(jn.id),this.unselect(jn)}setActiveEditor(jn){Nn(this,Ve)!==jn&&(bi(this,Ve,jn),jn&&ii(this,St,Ha).call(this,jn.propertiesToUpdate))}toggleSelected(jn){if(Nn(this,fn).has(jn)){Nn(this,fn).delete(jn),jn.unselect(),ii(this,un,Vr).call(this,{hasSelectedEditor:this.hasSelection});return}Nn(this,fn).add(jn),jn.select(),ii(this,St,Ha).call(this,jn.propertiesToUpdate),ii(this,un,Vr).call(this,{hasSelectedEditor:!0})}setSelected(jn){for(const Xn of Nn(this,fn))Xn!==jn&&Xn.unselect();Nn(this,fn).clear(),Nn(this,fn).add(jn),jn.select(),ii(this,St,Ha).call(this,jn.propertiesToUpdate),ii(this,un,Vr).call(this,{hasSelectedEditor:!0})}isSelected(jn){return Nn(this,fn).has(jn)}unselect(jn){jn.unselect(),Nn(this,fn).delete(jn),ii(this,un,Vr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Nn(this,fn).size!==0}undo(){Nn(this,Je).undo(),ii(this,un,Vr).call(this,{hasSomethingToUndo:Nn(this,Je).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ii(this,nn,za).call(this)})}redo(){Nn(this,Je).redo(),ii(this,un,Vr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Nn(this,Je).hasSomethingToRedo(),isEmpty:ii(this,nn,za).call(this)})}addCommands(jn){Nn(this,Je).add(jn),ii(this,un,Vr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ii(this,nn,za).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const jn=[...Nn(this,fn)],Xn=()=>{for(const oi of jn)oi.remove()},li=()=>{for(const oi of jn)ii(this,Pn,jl).call(this,oi)};this.addCommands({cmd:Xn,undo:li,mustExec:!0})}commitOrRemove(){var jn;(jn=Nn(this,Ve))==null||jn.commitOrRemove()}selectAll(){for(const jn of Nn(this,fn))jn.commit();ii(this,_n,Ul).call(this,Nn(this,He).values())}unselectAll(){if(Nn(this,Ve)){Nn(this,Ve).commitOrRemove();return}if(Nn(this,fn).size!==0){for(const jn of Nn(this,fn))jn.unselect();Nn(this,fn).clear(),ii(this,un,Vr).call(this,{hasSelectedEditor:!1})}}isActive(jn){return Nn(this,Ve)===jn}getActive(){return Nn(this,Ve)}getMode(){return Nn(this,Sn)}};let Ue=$n;Ve=new WeakMap,He=new WeakMap,Qe=new WeakMap,Je=new WeakMap,dn=new WeakMap,an=new WeakMap,Ke=new WeakMap,rn=new WeakMap,Cn=new WeakMap,Sn=new WeakMap,fn=new WeakMap,gn=new WeakMap,vn=new WeakMap,pn=new WeakMap,On=new WeakMap,Hn=new WeakMap,Bn=new WeakMap,Ze=new WeakMap,Xe=new WeakMap,Ye=new WeakSet,Xc=function(){Nn(this,Xe).addEventListener("keydown",Nn(this,On))},on=new WeakSet,Bl=function(){Nn(this,Xe).removeEventListener("keydown",Nn(this,On))},bn=new WeakSet,Yc=function(){document.addEventListener("copy",Nn(this,gn)),document.addEventListener("cut",Nn(this,vn)),document.addEventListener("paste",Nn(this,pn))},Vn=new WeakSet,Kc=function(){document.removeEventListener("copy",Nn(this,gn)),document.removeEventListener("cut",Nn(this,vn)),document.removeEventListener("paste",Nn(this,pn))},un=new WeakSet,Vr=function(jn){Object.entries(jn).some(([li,oi])=>Nn(this,Ze)[li]!==oi)&&Nn(this,Ke).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Nn(this,Ze),jn)})},St=new WeakSet,Ha=function(jn){Nn(this,Ke).dispatch("annotationeditorparamschanged",{source:this,details:jn})},$e=new WeakSet,Jc=function(){if(!Nn(this,Cn)){bi(this,Cn,!0);for(const jn of Nn(this,Qe).values())jn.enable()}},En=new WeakSet,Qc=function(){if(this.unselectAll(),Nn(this,Cn)){bi(this,Cn,!1);for(const jn of Nn(this,Qe).values())jn.disable()}},Pn=new WeakSet,jl=function(jn){const Xn=Nn(this,Qe).get(jn.pageIndex);Xn?Xn.addOrRebuild(jn):this.addEditor(jn)},nn=new WeakSet,za=function(){if(Nn(this,He).size===0)return!0;if(Nn(this,He).size===1)for(const jn of Nn(this,He).values())return jn.isEmpty();return!1},_n=new WeakSet,Ul=function(jn){Nn(this,fn).clear();for(const Xn of jn)Xn.isEmpty()||(Nn(this,fn).add(Xn),Xn.select());ii(this,un,Vr).call(this,{hasSelectedEditor:!0})},hr(Ue,"_keyboardManager",new Ce([[["ctrl+a","mac+meta+a"],$n.prototype.selectAll],[["ctrl+z","mac+meta+z"],$n.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],$n.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],$n.prototype.delete],[["Escape","mac+Escape"],$n.prototype.unselectAll]])),t.AnnotationEditorUIManager=Ue},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=He,t.getColorValues=Ke,t.getCurrentTransform=rn,t.getCurrentTransformInverse=Cn,t.getFilenameFromUrl=Ie,t.getPdfFilenameFromUrl=qe,t.getRGB=an,t.getXfaPageViewport=dn,t.isDataScheme=Oe,t.isPdfFile=Be,t.isValidFetchUrl=ze,t.loadScript=Ve;var _e=r(7),Ae=r(1);const Se="http://www.w3.org/2000/svg",Ee="pdfjs_internal_id_";t.AnnotationPrefix=Ee;const Sn=class{};let xe=Sn;hr(xe,"CSS",96),hr(xe,"PDF",72),hr(xe,"PDF_TO_CSS_UNITS",Sn.CSS/Sn.PDF),t.PixelsPerInch=xe;class Te extends _e.BaseCanvasFactory{constructor({ownerDocument:gn=globalThis.document}={}){super(),this._document=gn}_createCanvas(gn,vn){const pn=this._document.createElement("canvas");return pn.width=gn,pn.height=vn,pn}}t.DOMCanvasFactory=Te;async function Ce(fn,gn=!1){if(ze(fn,document.baseURI)){const vn=await fetch(fn);if(!vn.ok)throw new Error(vn.statusText);return gn?new Uint8Array(await vn.arrayBuffer()):(0,Ae.stringToBytes)(await vn.text())}return new Promise((vn,pn)=>{const On=new XMLHttpRequest;On.open("GET",fn,!0),gn&&(On.responseType="arraybuffer"),On.onreadystatechange=()=>{if(On.readyState===XMLHttpRequest.DONE){if(On.status===200||On.status===0){let Hn;if(gn&&On.response?Hn=new Uint8Array(On.response):!gn&&On.responseText&&(Hn=(0,Ae.stringToBytes)(On.responseText)),Hn){vn(Hn);return}}pn(new Error(On.statusText))}},On.send(null)})}class Re extends _e.BaseCMapReaderFactory{_fetchData(gn,vn){return Ce(gn,this.isCompressed).then(pn=>({cMapData:pn,compressionType:vn}))}}t.DOMCMapReaderFactory=Re;class Ue extends _e.BaseStandardFontDataFactory{_fetchData(gn){return Ce(gn,!0)}}t.DOMStandardFontDataFactory=Ue;class De extends _e.BaseSVGFactory{_createSVG(gn){return document.createElementNS(Se,gn)}}t.DOMSVGFactory=De;class ke{constructor({viewBox:gn,scale:vn,rotation:pn,offsetX:On=0,offsetY:Hn=0,dontFlip:Bn=!1}){this.viewBox=gn,this.scale=vn,this.rotation=pn,this.offsetX=On,this.offsetY=Hn;const Ze=(gn[2]+gn[0])/2,Xe=(gn[3]+gn[1])/2;let Ye,en,on,hn;switch(pn%=360,pn<0&&(pn+=360),pn){case 180:Ye=-1,en=0,on=0,hn=1;break;case 90:Ye=0,en=1,on=1,hn=0;break;case 270:Ye=0,en=-1,on=-1,hn=0;break;case 0:Ye=1,en=0,on=0,hn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Bn&&(on=-on,hn=-hn);let bn,Ln,Vn,Wn;Ye===0?(bn=Math.abs(Xe-gn[1])*vn+On,Ln=Math.abs(Ze-gn[0])*vn+Hn,Vn=Math.abs(gn[3]-gn[1])*vn,Wn=Math.abs(gn[2]-gn[0])*vn):(bn=Math.abs(Ze-gn[0])*vn+On,Ln=Math.abs(Xe-gn[1])*vn+Hn,Vn=Math.abs(gn[2]-gn[0])*vn,Wn=Math.abs(gn[3]-gn[1])*vn),this.transform=[Ye*vn,en*vn,on*vn,hn*vn,bn-Ye*vn*Ze-on*vn*Xe,Ln-en*vn*Ze-hn*vn*Xe],this.width=Vn,this.height=Wn}clone({scale:gn=this.scale,rotation:vn=this.rotation,offsetX:pn=this.offsetX,offsetY:On=this.offsetY,dontFlip:Hn=!1}={}){return new ke({viewBox:this.viewBox.slice(),scale:gn,rotation:vn,offsetX:pn,offsetY:On,dontFlip:Hn})}convertToViewportPoint(gn,vn){return Ae.Util.applyTransform([gn,vn],this.transform)}convertToViewportRectangle(gn){const vn=Ae.Util.applyTransform([gn[0],gn[1]],this.transform),pn=Ae.Util.applyTransform([gn[2],gn[3]],this.transform);return[vn[0],vn[1],pn[0],pn[1]]}convertToPdfPoint(gn,vn){return Ae.Util.applyInverseTransform([gn,vn],this.transform)}}t.PageViewport=ke;class Me extends Ae.BaseException{constructor(gn,vn){super(gn,"RenderingCancelledException"),this.type=vn}}t.RenderingCancelledException=Me;function Oe(fn){const gn=fn.length;let vn=0;for(;vn<gn&&fn[vn].trim()==="";)vn++;return fn.substring(vn,vn+5).toLowerCase()==="data:"}function Be(fn){return typeof fn=="string"&&/\.pdf$/i.test(fn)}function Ie(fn){const gn=fn.indexOf("#"),vn=fn.indexOf("?"),pn=Math.min(gn>0?gn:fn.length,vn>0?vn:fn.length);return fn.substring(fn.lastIndexOf("/",pn)+1,pn)}function qe(fn,gn="document.pdf"){if(typeof fn!="string")return gn;if(Oe(fn))return(0,Ae.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),gn;const vn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,pn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,On=vn.exec(fn);let Hn=pn.exec(On[1])||pn.exec(On[2])||pn.exec(On[3]);if(Hn&&(Hn=Hn[0],Hn.includes("%")))try{Hn=pn.exec(decodeURIComponent(Hn))[0]}catch{}return Hn||gn}class je{constructor(){this.started=Object.create(null),this.times=[]}time(gn){gn in this.started&&(0,Ae.warn)(`Timer is already running for ${gn}`),this.started[gn]=Date.now()}timeEnd(gn){gn in this.started||(0,Ae.warn)(`Timer has not been started for ${gn}`),this.times.push({name:gn,start:this.started[gn],end:Date.now()}),delete this.started[gn]}toString(){const gn=[];let vn=0;for(const pn of this.times){const On=pn.name;On.length>vn&&(vn=On.length)}for(const pn of this.times){const On=pn.end-pn.start;gn.push(`${pn.name.padEnd(vn)} ${On}ms
`)}return gn.join("")}}t.StatTimer=je;function ze(fn,gn){try{const{protocol:vn}=gn?new URL(fn,gn):new URL(fn);return vn==="http:"||vn==="https:"}catch{return!1}}function Ve(fn,gn=!1){return new Promise((vn,pn)=>{const On=document.createElement("script");On.src=fn,On.onload=function(Hn){gn&&On.remove(),vn(Hn)},On.onerror=function(){pn(new Error(`Cannot load script at: ${On.src}`))},(document.head||document.documentElement).append(On)})}function He(fn){console.log("Deprecated API usage: "+fn)}let Qe;class Je{static toDateObject(gn){if(!gn||typeof gn!="string")return null;Qe||(Qe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const vn=Qe.exec(gn);if(!vn)return null;const pn=parseInt(vn[1],10);let On=parseInt(vn[2],10);On=On>=1&&On<=12?On-1:0;let Hn=parseInt(vn[3],10);Hn=Hn>=1&&Hn<=31?Hn:1;let Bn=parseInt(vn[4],10);Bn=Bn>=0&&Bn<=23?Bn:0;let Ze=parseInt(vn[5],10);Ze=Ze>=0&&Ze<=59?Ze:0;let Xe=parseInt(vn[6],10);Xe=Xe>=0&&Xe<=59?Xe:0;const Ye=vn[7]||"Z";let en=parseInt(vn[8],10);en=en>=0&&en<=23?en:0;let on=parseInt(vn[9],10)||0;return on=on>=0&&on<=59?on:0,Ye==="-"?(Bn+=en,Ze+=on):Ye==="+"&&(Bn-=en,Ze-=on),new Date(Date.UTC(pn,On,Hn,Bn,Ze,Xe))}}t.PDFDateString=Je;function dn(fn,{scale:gn=1,rotation:vn=0}){const{width:pn,height:On}=fn.attributes.style,Hn=[0,0,parseInt(pn),parseInt(On)];return new ke({viewBox:Hn,scale:gn,rotation:vn})}function an(fn){if(fn.startsWith("#")){const gn=parseInt(fn.slice(1),16);return[(gn&16711680)>>16,(gn&65280)>>8,gn&255]}return fn.startsWith("rgb(")?fn.slice(4,-1).split(",").map(gn=>parseInt(gn)):fn.startsWith("rgba(")?fn.slice(5,-1).split(",").map(gn=>parseInt(gn)).slice(0,3):((0,Ae.warn)(`Not a valid color format: "${fn}"`),[0,0,0])}function Ke(fn){const gn=document.createElement("span");gn.style.visibility="hidden",document.body.append(gn);for(const vn of fn.keys()){gn.style.color=vn;const pn=window.getComputedStyle(gn).color;fn.set(vn,an(pn))}gn.remove()}function rn(fn){const{a:gn,b:vn,c:pn,d:On,e:Hn,f:Bn}=fn.getTransform();return[gn,vn,pn,On,Hn,Bn]}function Cn(fn){const{a:gn,b:vn,c:pn,d:On,e:Hn,f:Bn}=fn.getTransform().invertSelf();return[gn,vn,pn,On,Hn,Bn]}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var _e=r(1);class Ae{constructor(){this.constructor===Ae&&(0,_e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Ce,Re){if(Ce<=0||Re<=0)throw new Error("Invalid canvas size");const Ue=this._createCanvas(Ce,Re);return{canvas:Ue,context:Ue.getContext("2d")}}reset(Ce,Re,Ue){if(!Ce.canvas)throw new Error("Canvas is not specified");if(Re<=0||Ue<=0)throw new Error("Invalid canvas size");Ce.canvas.width=Re,Ce.canvas.height=Ue}destroy(Ce){if(!Ce.canvas)throw new Error("Canvas is not specified");Ce.canvas.width=0,Ce.canvas.height=0,Ce.canvas=null,Ce.context=null}_createCanvas(Ce,Re){(0,_e.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=Ae;class Se{constructor({baseUrl:Ce=null,isCompressed:Re=!1}){this.constructor===Se&&(0,_e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Ce,this.isCompressed=Re}async fetch({name:Ce}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Ce)throw new Error("CMap name must be specified.");const Re=this.baseUrl+Ce+(this.isCompressed?".bcmap":""),Ue=this.isCompressed?_e.CMapCompressionType.BINARY:_e.CMapCompressionType.NONE;return this._fetchData(Re,Ue).catch(De=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Re}`)})}_fetchData(Ce,Re){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=Se;class Ee{constructor({baseUrl:Ce=null}){this.constructor===Ee&&(0,_e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Ce}async fetch({filename:Ce}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Ce)throw new Error("Font filename must be specified.");const Re=`${this.baseUrl}${Ce}`;return this._fetchData(Re).catch(Ue=>{throw new Error(`Unable to load font data at: ${Re}`)})}_fetchData(Ce){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=Ee;class xe{constructor(){this.constructor===xe&&(0,_e.unreachable)("Cannot initialize BaseSVGFactory.")}create(Ce,Re,Ue=!1){if(Ce<=0||Re<=0)throw new Error("Invalid SVG dimensions");const De=this._createSVG("svg:svg");return De.setAttribute("version","1.1"),Ue||(De.setAttribute("width",`${Ce}px`),De.setAttribute("height",`${Re}px`)),De.setAttribute("preserveAspectRatio","none"),De.setAttribute("viewBox",`0 0 ${Ce} ${Re}`),De}createElement(Ce){if(typeof Ce!="string")throw new Error("Invalid SVG element type");return this._createSVG(Ce)}_createSVG(Ce){(0,_e.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=xe},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var _e=r(1);const Ae=3285377520,Se=4294901760,Ee=65535;class xe{constructor(Ce){this.h1=Ce?Ce&4294967295:Ae,this.h2=Ce?Ce&4294967295:Ae}update(Ce){let Re,Ue;if(typeof Ce=="string"){Re=new Uint8Array(Ce.length*2),Ue=0;for(let Qe=0,Je=Ce.length;Qe<Je;Qe++){const dn=Ce.charCodeAt(Qe);dn<=255?Re[Ue++]=dn:(Re[Ue++]=dn>>>8,Re[Ue++]=dn&255)}}else if((0,_e.isArrayBuffer)(Ce))Re=Ce.slice(),Ue=Re.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const De=Ue>>2,ke=Ue-De*4,Me=new Uint32Array(Re.buffer,0,De);let Oe=0,Be=0,Ie=this.h1,qe=this.h2;const je=3432918353,ze=461845907,Ve=je&Ee,He=ze&Ee;for(let Qe=0;Qe<De;Qe++)Qe&1?(Oe=Me[Qe],Oe=Oe*je&Se|Oe*Ve&Ee,Oe=Oe<<15|Oe>>>17,Oe=Oe*ze&Se|Oe*He&Ee,Ie^=Oe,Ie=Ie<<13|Ie>>>19,Ie=Ie*5+3864292196):(Be=Me[Qe],Be=Be*je&Se|Be*Ve&Ee,Be=Be<<15|Be>>>17,Be=Be*ze&Se|Be*He&Ee,qe^=Be,qe=qe<<13|qe>>>19,qe=qe*5+3864292196);switch(Oe=0,ke){case 3:Oe^=Re[De*4+2]<<16;case 2:Oe^=Re[De*4+1]<<8;case 1:Oe^=Re[De*4],Oe=Oe*je&Se|Oe*Ve&Ee,Oe=Oe<<15|Oe>>>17,Oe=Oe*ze&Se|Oe*He&Ee,De&1?Ie^=Oe:qe^=Oe}this.h1=Ie,this.h2=qe}hexdigest(){let Ce=this.h1,Re=this.h2;Ce^=Re>>>1,Ce=Ce*3981806797&Se|Ce*36045&Ee,Re=Re*4283543511&Se|((Re<<16|Ce>>>16)*2950163797&Se)>>>16,Ce^=Re>>>1,Ce=Ce*444984403&Se|Ce*60499&Ee,Re=Re*3301882366&Se|((Re<<16|Ce>>>16)*3120437893&Se)>>>16,Ce^=Re>>>1;const Ue=(Ce>>>0).toString(16),De=(Re>>>0).toString(16);return Ue.padStart(8,"0")+De.padStart(8,"0")}}t.MurmurHash3_64=xe},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var _e=r(1);class Ae{constructor({onUnsupportedFeature:xe,ownerDocument:Te=globalThis.document,styleElement:Ce=null}){this._onUnsupportedFeature=xe,this._document=Te,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(xe){this.nativeFontFaces.push(xe),this._document.fonts.add(xe)}insertRule(xe){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Te=this.styleElement.sheet;Te.insertRule(xe,Te.cssRules.length)}clear(){for(const xe of this.nativeFontFaces)this._document.fonts.delete(xe);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(xe){if(xe.attached||xe.missingFile)return;if(xe.attached=!0,this.isFontLoadingAPISupported){const Ce=xe.createNativeFontFace();if(Ce){this.addNativeFontFace(Ce);try{await Ce.loaded}catch(Re){throw this._onUnsupportedFeature({featureId:_e.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_e.warn)(`Failed to load font '${Ce.family}': '${Re}'.`),xe.disableFontFace=!0,Re}}return}const Te=xe.createFontFaceRule();if(Te){if(this.insertRule(Te),this.isSyncFontLoadingSupported)return;await new Promise(Ce=>{const Re=this._queueLoadingCallback(Ce);this._prepareFontLoadEvent(xe,Re)})}}get isFontLoadingAPISupported(){var Te;const xe=!!((Te=this._document)!=null&&Te.fonts);return(0,_e.shadow)(this,"isFontLoadingAPISupported",xe)}get isSyncFontLoadingSupported(){let xe=!1;if(typeof navigator>"u")xe=!0;else{const Te=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(Te==null?void 0:Te[1])>=14&&(xe=!0)}return(0,_e.shadow)(this,"isSyncFontLoadingSupported",xe)}_queueLoadingCallback(xe){function Te(){for((0,_e.assert)(!Re.done,"completeRequest() cannot be called twice."),Re.done=!0;Ce.length>0&&Ce[0].done;){const Ue=Ce.shift();setTimeout(Ue.callback,0)}}const{loadingRequests:Ce}=this,Re={done:!1,complete:Te,callback:xe};return Ce.push(Re),Re}get _loadTestFont(){const xe=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,_e.shadow)(this,"_loadTestFont",xe)}_prepareFontLoadEvent(xe,Te){function Ce(an,Ke){return an.charCodeAt(Ke)<<24|an.charCodeAt(Ke+1)<<16|an.charCodeAt(Ke+2)<<8|an.charCodeAt(Ke+3)&255}function Re(an,Ke,rn,Cn){const Sn=an.substring(0,Ke),fn=an.substring(Ke+rn);return Sn+Cn+fn}let Ue,De;const ke=this._document.createElement("canvas");ke.width=1,ke.height=1;const Me=ke.getContext("2d");let Oe=0;function Be(an,Ke){if(++Oe>30){(0,_e.warn)("Load test font never loaded."),Ke();return}if(Me.font="30px "+an,Me.fillText(".",0,20),Me.getImageData(0,0,1,1).data[3]>0){Ke();return}setTimeout(Be.bind(null,an,Ke))}const Ie=`lt${Date.now()}${this.loadTestFontId++}`;let qe=this._loadTestFont;qe=Re(qe,976,Ie.length,Ie);const ze=16,Ve=1482184792;let He=Ce(qe,ze);for(Ue=0,De=Ie.length-3;Ue<De;Ue+=4)He=He-Ve+Ce(Ie,Ue)|0;Ue<Ie.length&&(He=He-Ve+Ce(Ie+"XXX",Ue)|0),qe=Re(qe,ze,4,(0,_e.string32)(He));const Qe=`url(data:font/opentype;base64,${btoa(qe)});`,Je=`@font-face {font-family:"${Ie}";src:${Qe}}`;this.insertRule(Je);const dn=this._document.createElement("div");dn.style.visibility="hidden",dn.style.width=dn.style.height="10px",dn.style.position="absolute",dn.style.top=dn.style.left="0px";for(const an of[xe.loadedName,Ie]){const Ke=this._document.createElement("span");Ke.textContent="Hi",Ke.style.fontFamily=an,dn.append(Ke)}this._document.body.append(dn),Be(Ie,()=>{dn.remove(),Te.complete()})}}t.FontLoader=Ae;class Se{constructor(xe,{isEvalSupported:Te=!0,disableFontFace:Ce=!1,ignoreErrors:Re=!1,onUnsupportedFeature:Ue,fontRegistry:De=null}){this.compiledGlyphs=Object.create(null);for(const ke in xe)this[ke]=xe[ke];this.isEvalSupported=Te!==!1,this.disableFontFace=Ce===!0,this.ignoreErrors=Re===!0,this._onUnsupportedFeature=Ue,this.fontRegistry=De}createNativeFontFace(){var Te;if(!this.data||this.disableFontFace)return null;let xe;if(!this.cssFontInfo)xe=new FontFace(this.loadedName,this.data,{});else{const Ce={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Ce.style=`oblique ${this.cssFontInfo.italicAngle}deg`),xe=new FontFace(this.cssFontInfo.fontFamily,this.data,Ce)}return(Te=this.fontRegistry)==null||Te.registerFont(this),xe}createFontFaceRule(){var Re;if(!this.data||this.disableFontFace)return null;const xe=(0,_e.bytesToString)(this.data),Te=`url(data:${this.mimetype};base64,${btoa(xe)});`;let Ce;if(!this.cssFontInfo)Ce=`@font-face {font-family:"${this.loadedName}";src:${Te}}`;else{let Ue=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Ue+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Ce=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Ue}src:${Te}}`}return(Re=this.fontRegistry)==null||Re.registerFont(this,Te),Ce}getPathGenerator(xe,Te){if(this.compiledGlyphs[Te]!==void 0)return this.compiledGlyphs[Te];let Ce;try{Ce=xe.get(this.loadedName+"_path_"+Te)}catch(Re){if(!this.ignoreErrors)throw Re;return this._onUnsupportedFeature({featureId:_e.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_e.warn)(`getPathGenerator - ignoring character: "${Re}".`),this.compiledGlyphs[Te]=function(Ue,De){}}if(this.isEvalSupported&&_e.FeatureTest.isEvalSupported){const Re=[];for(const Ue of Ce){const De=Ue.args!==void 0?Ue.args.join(","):"";Re.push("c.",Ue.cmd,"(",De,`);
`)}return this.compiledGlyphs[Te]=new Function("c","size",Re.join(""))}return this.compiledGlyphs[Te]=function(Re,Ue){for(const De of Ce)De.cmd==="scale"&&(De.args=[Ue,-Ue]),Re[De.cmd].apply(Re,De.args)}}}t.FontFaceObject=Se},(e,t,r)=>{var On,Vl;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var _e=r(1),Ae=r(6),Se=r(11),Ee=r(13),xe=r(12);const Te=16,Ce=100,Re=4096,Ue=15,De=10,ke=xe.isNodeJS&&typeof Path2D>"u"?-1:1e3,Me=16;function Oe(Ze,Xe){if(Ze._removeMirroring)throw new Error("Context is already forwarding operations.");Ze.__originalSave=Ze.save,Ze.__originalRestore=Ze.restore,Ze.__originalRotate=Ze.rotate,Ze.__originalScale=Ze.scale,Ze.__originalTranslate=Ze.translate,Ze.__originalTransform=Ze.transform,Ze.__originalSetTransform=Ze.setTransform,Ze.__originalResetTransform=Ze.resetTransform,Ze.__originalClip=Ze.clip,Ze.__originalMoveTo=Ze.moveTo,Ze.__originalLineTo=Ze.lineTo,Ze.__originalBezierCurveTo=Ze.bezierCurveTo,Ze.__originalRect=Ze.rect,Ze.__originalClosePath=Ze.closePath,Ze.__originalBeginPath=Ze.beginPath,Ze._removeMirroring=()=>{Ze.save=Ze.__originalSave,Ze.restore=Ze.__originalRestore,Ze.rotate=Ze.__originalRotate,Ze.scale=Ze.__originalScale,Ze.translate=Ze.__originalTranslate,Ze.transform=Ze.__originalTransform,Ze.setTransform=Ze.__originalSetTransform,Ze.resetTransform=Ze.__originalResetTransform,Ze.clip=Ze.__originalClip,Ze.moveTo=Ze.__originalMoveTo,Ze.lineTo=Ze.__originalLineTo,Ze.bezierCurveTo=Ze.__originalBezierCurveTo,Ze.rect=Ze.__originalRect,Ze.closePath=Ze.__originalClosePath,Ze.beginPath=Ze.__originalBeginPath,delete Ze._removeMirroring},Ze.save=function(){Xe.save(),this.__originalSave()},Ze.restore=function(){Xe.restore(),this.__originalRestore()},Ze.translate=function(en,on){Xe.translate(en,on),this.__originalTranslate(en,on)},Ze.scale=function(en,on){Xe.scale(en,on),this.__originalScale(en,on)},Ze.transform=function(en,on,hn,bn,Ln,Vn){Xe.transform(en,on,hn,bn,Ln,Vn),this.__originalTransform(en,on,hn,bn,Ln,Vn)},Ze.setTransform=function(en,on,hn,bn,Ln,Vn){Xe.setTransform(en,on,hn,bn,Ln,Vn),this.__originalSetTransform(en,on,hn,bn,Ln,Vn)},Ze.resetTransform=function(){Xe.resetTransform(),this.__originalResetTransform()},Ze.rotate=function(en){Xe.rotate(en),this.__originalRotate(en)},Ze.clip=function(en){Xe.clip(en),this.__originalClip(en)},Ze.moveTo=function(Ye,en){Xe.moveTo(Ye,en),this.__originalMoveTo(Ye,en)},Ze.lineTo=function(Ye,en){Xe.lineTo(Ye,en),this.__originalLineTo(Ye,en)},Ze.bezierCurveTo=function(Ye,en,on,hn,bn,Ln){Xe.bezierCurveTo(Ye,en,on,hn,bn,Ln),this.__originalBezierCurveTo(Ye,en,on,hn,bn,Ln)},Ze.rect=function(Ye,en,on,hn){Xe.rect(Ye,en,on,hn),this.__originalRect(Ye,en,on,hn)},Ze.closePath=function(){Xe.closePath(),this.__originalClosePath()},Ze.beginPath=function(){Xe.beginPath(),this.__originalBeginPath()}}class Be{constructor(Xe){this.canvasFactory=Xe,this.cache=Object.create(null)}getCanvas(Xe,Ye,en){let on;return this.cache[Xe]!==void 0?(on=this.cache[Xe],this.canvasFactory.reset(on,Ye,en)):(on=this.canvasFactory.create(Ye,en),this.cache[Xe]=on),on}delete(Xe){delete this.cache[Xe]}clear(){for(const Xe in this.cache){const Ye=this.cache[Xe];this.canvasFactory.destroy(Ye),delete this.cache[Xe]}}}function Ie(Ze,Xe,Ye,en,on,hn,bn,Ln,Vn,Wn){const[un,mn,St,tn,$e,yn]=(0,Ae.getCurrentTransform)(Ze);if(mn===0&&St===0){const Pn=bn*un+$e,Mn=Math.round(Pn),nn=Ln*tn+yn,xn=Math.round(nn),_n=(bn+Vn)*un+$e,zn=Math.abs(Math.round(_n)-Mn)||1,$n=(Ln+Wn)*tn+yn,Yn=Math.abs(Math.round($n)-xn)||1;return Ze.setTransform(Math.sign(un),0,0,Math.sign(tn),Mn,xn),Ze.drawImage(Xe,Ye,en,on,hn,0,0,zn,Yn),Ze.setTransform(un,mn,St,tn,$e,yn),[zn,Yn]}if(un===0&&tn===0){const Pn=Ln*St+$e,Mn=Math.round(Pn),nn=bn*mn+yn,xn=Math.round(nn),_n=(Ln+Wn)*St+$e,zn=Math.abs(Math.round(_n)-Mn)||1,$n=(bn+Vn)*mn+yn,Yn=Math.abs(Math.round($n)-xn)||1;return Ze.setTransform(0,Math.sign(mn),Math.sign(St),0,Mn,xn),Ze.drawImage(Xe,Ye,en,on,hn,0,0,Yn,zn),Ze.setTransform(un,mn,St,tn,$e,yn),[Yn,zn]}Ze.drawImage(Xe,Ye,en,on,hn,bn,Ln,Vn,Wn);const En=Math.hypot(un,mn),cn=Math.hypot(St,tn);return[En*Vn,cn*Wn]}function qe(Ze){const{width:Xe,height:Ye}=Ze;if(Xe>ke||Ye>ke)return null;const en=1e3,on=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),hn=Xe+1;let bn=new Uint8Array(hn*(Ye+1)),Ln,Vn,Wn;const un=Xe+7&-8;let mn=new Uint8Array(un*Ye),St=0;for(const cn of Ze.data){let Pn=128;for(;Pn>0;)mn[St++]=cn&Pn?0:255,Pn>>=1}let tn=0;for(St=0,mn[St]!==0&&(bn[0]=1,++tn),Vn=1;Vn<Xe;Vn++)mn[St]!==mn[St+1]&&(bn[Vn]=mn[St]?2:1,++tn),St++;for(mn[St]!==0&&(bn[Vn]=2,++tn),Ln=1;Ln<Ye;Ln++){St=Ln*un,Wn=Ln*hn,mn[St-un]!==mn[St]&&(bn[Wn]=mn[St]?1:8,++tn);let cn=(mn[St]?4:0)+(mn[St-un]?8:0);for(Vn=1;Vn<Xe;Vn++)cn=(cn>>2)+(mn[St+1]?4:0)+(mn[St-un+1]?8:0),on[cn]&&(bn[Wn+Vn]=on[cn],++tn),St++;if(mn[St-un]!==mn[St]&&(bn[Wn+Vn]=mn[St]?2:4,++tn),tn>en)return null}for(St=un*(Ye-1),Wn=Ln*hn,mn[St]!==0&&(bn[Wn]=8,++tn),Vn=1;Vn<Xe;Vn++)mn[St]!==mn[St+1]&&(bn[Wn+Vn]=mn[St]?4:8,++tn),St++;if(mn[St]!==0&&(bn[Wn+Vn]=4,++tn),tn>en)return null;const $e=new Int32Array([0,hn,-1,0,-hn,0,0,0,1]),yn=new Path2D;for(Ln=0;tn&&Ln<=Ye;Ln++){let cn=Ln*hn;const Pn=cn+Xe;for(;cn<Pn&&!bn[cn];)cn++;if(cn===Pn)continue;yn.moveTo(cn%hn,Ln);const Mn=cn;let nn=bn[cn];do{const xn=$e[nn];do cn+=xn;while(!bn[cn]);const _n=bn[cn];_n!==5&&_n!==10?(nn=_n,bn[cn]=0):(nn=_n&51*nn>>4,bn[cn]&=nn>>2|nn<<2),yn.lineTo(cn%hn,cn/hn|0),bn[cn]||--tn}while(Mn!==cn);--Ln}return mn=null,bn=null,function(cn){cn.save(),cn.scale(1/Xe,-1/Ye),cn.translate(0,-Ye),cn.fill(yn),cn.beginPath(),cn.restore()}}class je{constructor(Xe,Ye){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Xe,Ye])}clone(){const Xe=Object.create(this);return Xe.clipBox=this.clipBox.slice(),Xe}setCurrentPoint(Xe,Ye){this.x=Xe,this.y=Ye}updatePathMinMax(Xe,Ye,en){[Ye,en]=_e.Util.applyTransform([Ye,en],Xe),this.minX=Math.min(this.minX,Ye),this.minY=Math.min(this.minY,en),this.maxX=Math.max(this.maxX,Ye),this.maxY=Math.max(this.maxY,en)}updateRectMinMax(Xe,Ye){const en=_e.Util.applyTransform(Ye,Xe),on=_e.Util.applyTransform(Ye.slice(2),Xe);this.minX=Math.min(this.minX,en[0],on[0]),this.minY=Math.min(this.minY,en[1],on[1]),this.maxX=Math.max(this.maxX,en[0],on[0]),this.maxY=Math.max(this.maxY,en[1],on[1])}updateScalingPathMinMax(Xe,Ye){_e.Util.scaleMinMax(Xe,Ye),this.minX=Math.min(this.minX,Ye[0]),this.maxX=Math.max(this.maxX,Ye[1]),this.minY=Math.min(this.minY,Ye[2]),this.maxY=Math.max(this.maxY,Ye[3])}updateCurvePathMinMax(Xe,Ye,en,on,hn,bn,Ln,Vn,Wn,un){const mn=_e.Util.bezierBoundingBox(Ye,en,on,hn,bn,Ln,Vn,Wn);if(un){un[0]=Math.min(un[0],mn[0],mn[2]),un[1]=Math.max(un[1],mn[0],mn[2]),un[2]=Math.min(un[2],mn[1],mn[3]),un[3]=Math.max(un[3],mn[1],mn[3]);return}this.updateRectMinMax(Xe,mn)}getPathBoundingBox(Xe=Se.PathType.FILL,Ye=null){const en=[this.minX,this.minY,this.maxX,this.maxY];if(Xe===Se.PathType.STROKE){Ye||(0,_e.unreachable)("Stroke bounding box must include transform.");const on=_e.Util.singularValueDecompose2dScale(Ye),hn=on[0]*this.lineWidth/2,bn=on[1]*this.lineWidth/2;en[0]-=hn,en[1]-=bn,en[2]+=hn,en[3]+=bn}return en}updateClipFromPath(){const Xe=_e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Xe||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Xe){this.clipBox=Xe,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Xe=Se.PathType.FILL,Ye=null){return _e.Util.intersect(this.clipBox,this.getPathBoundingBox(Xe,Ye))}}function ze(Ze,Xe,Ye=null){if(typeof ImageData<"u"&&Xe instanceof ImageData){Ze.putImageData(Xe,0,0);return}const en=Xe.height,on=Xe.width,hn=en%Me,bn=(en-hn)/Me,Ln=hn===0?bn:bn+1,Vn=Ze.createImageData(on,Me);let Wn=0,un;const mn=Xe.data,St=Vn.data;let tn,$e,yn,En,cn,Pn,Mn,nn;if(Ye)switch(Ye.length){case 1:cn=Ye[0],Pn=Ye[0],Mn=Ye[0],nn=Ye[0];break;case 4:cn=Ye[0],Pn=Ye[1],Mn=Ye[2],nn=Ye[3];break}if(Xe.kind===_e.ImageKind.GRAYSCALE_1BPP){const xn=mn.byteLength,_n=new Uint32Array(St.buffer,0,St.byteLength>>2),zn=_n.length,$n=on+7>>3;let Yn=4294967295,jn=_e.FeatureTest.isLittleEndian?4278190080:255;for(nn&&nn[0]===255&&nn[255]===0&&([Yn,jn]=[jn,Yn]),tn=0;tn<Ln;tn++){for(yn=tn<bn?Me:hn,un=0,$e=0;$e<yn;$e++){const Xn=xn-Wn;let li=0;const oi=Xn>$n?on:Xn*8-7,Ni=oi&-8;let Ai=0,Li=0;for(;li<Ni;li+=8)Li=mn[Wn++],_n[un++]=Li&128?Yn:jn,_n[un++]=Li&64?Yn:jn,_n[un++]=Li&32?Yn:jn,_n[un++]=Li&16?Yn:jn,_n[un++]=Li&8?Yn:jn,_n[un++]=Li&4?Yn:jn,_n[un++]=Li&2?Yn:jn,_n[un++]=Li&1?Yn:jn;for(;li<oi;li++)Ai===0&&(Li=mn[Wn++],Ai=128),_n[un++]=Li&Ai?Yn:jn,Ai>>=1}for(;un<zn;)_n[un++]=0;Ze.putImageData(Vn,0,tn*Me)}}else if(Xe.kind===_e.ImageKind.RGBA_32BPP){const xn=!!(cn||Pn||Mn);for($e=0,En=on*Me*4,tn=0;tn<bn;tn++){if(St.set(mn.subarray(Wn,Wn+En)),Wn+=En,xn)for(let _n=0;_n<En;_n+=4)cn&&(St[_n+0]=cn[St[_n+0]]),Pn&&(St[_n+1]=Pn[St[_n+1]]),Mn&&(St[_n+2]=Mn[St[_n+2]]);Ze.putImageData(Vn,0,$e),$e+=Me}if(tn<Ln){if(En=on*hn*4,St.set(mn.subarray(Wn,Wn+En)),xn)for(let _n=0;_n<En;_n+=4)cn&&(St[_n+0]=cn[St[_n+0]]),Pn&&(St[_n+1]=Pn[St[_n+1]]),Mn&&(St[_n+2]=Mn[St[_n+2]]);Ze.putImageData(Vn,0,$e)}}else if(Xe.kind===_e.ImageKind.RGB_24BPP){const xn=!!(cn||Pn||Mn);for(yn=Me,En=on*yn,tn=0;tn<Ln;tn++){for(tn>=bn&&(yn=hn,En=on*yn),un=0,$e=En;$e--;)St[un++]=mn[Wn++],St[un++]=mn[Wn++],St[un++]=mn[Wn++],St[un++]=255;if(xn)for(let _n=0;_n<un;_n+=4)cn&&(St[_n+0]=cn[St[_n+0]]),Pn&&(St[_n+1]=Pn[St[_n+1]]),Mn&&(St[_n+2]=Mn[St[_n+2]]);Ze.putImageData(Vn,0,tn*Me)}}else throw new Error(`bad image kind: ${Xe.kind}`)}function Ve(Ze,Xe){if(Xe.bitmap){Ze.drawImage(Xe.bitmap,0,0);return}const Ye=Xe.height,en=Xe.width,on=Ye%Me,hn=(Ye-on)/Me,bn=on===0?hn:hn+1,Ln=Ze.createImageData(en,Me);let Vn=0;const Wn=Xe.data,un=Ln.data;for(let mn=0;mn<bn;mn++){const St=mn<hn?Me:on;({srcPos:Vn}=(0,Ee.applyMaskImageData)({src:Wn,srcPos:Vn,dest:un,width:en,height:St})),Ze.putImageData(Ln,0,mn*Me)}}function He(Ze,Xe){const Ye=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const en of Ye)Ze[en]!==void 0&&(Xe[en]=Ze[en]);Ze.setLineDash!==void 0&&(Xe.setLineDash(Ze.getLineDash()),Xe.lineDashOffset=Ze.lineDashOffset)}function Qe(Ze,Xe){Ze.strokeStyle=Ze.fillStyle=Xe||"#000000",Ze.fillRule="nonzero",Ze.globalAlpha=1,Ze.lineWidth=1,Ze.lineCap="butt",Ze.lineJoin="miter",Ze.miterLimit=10,Ze.globalCompositeOperation="source-over",Ze.font="10px sans-serif",Ze.setLineDash!==void 0&&(Ze.setLineDash([]),Ze.lineDashOffset=0)}function Je(Ze,Xe,Ye,en){const on=Ze.length;for(let hn=3;hn<on;hn+=4){const bn=Ze[hn];if(bn===0)Ze[hn-3]=Xe,Ze[hn-2]=Ye,Ze[hn-1]=en;else if(bn<255){const Ln=255-bn;Ze[hn-3]=Ze[hn-3]*bn+Xe*Ln>>8,Ze[hn-2]=Ze[hn-2]*bn+Ye*Ln>>8,Ze[hn-1]=Ze[hn-1]*bn+en*Ln>>8}}}function dn(Ze,Xe,Ye){const en=Ze.length,on=1/255;for(let hn=3;hn<en;hn+=4){const bn=Ye?Ye[Ze[hn]]:Ze[hn];Xe[hn]=Xe[hn]*bn*on|0}}function an(Ze,Xe,Ye){const en=Ze.length;for(let on=3;on<en;on+=4){const hn=Ze[on-3]*77+Ze[on-2]*152+Ze[on-1]*28;Xe[on]=Ye?Xe[on]*Ye[hn>>8]>>8:Xe[on]*hn>>16}}function Ke(Ze,Xe,Ye,en,on,hn,bn,Ln,Vn,Wn,un){const mn=!!hn,St=mn?hn[0]:0,tn=mn?hn[1]:0,$e=mn?hn[2]:0;let yn;on==="Luminosity"?yn=an:yn=dn;const cn=Math.min(en,Math.ceil(1048576/Ye));for(let Pn=0;Pn<en;Pn+=cn){const Mn=Math.min(cn,en-Pn),nn=Ze.getImageData(Ln-Wn,Pn+(Vn-un),Ye,Mn),xn=Xe.getImageData(Ln,Pn+Vn,Ye,Mn);mn&&Je(nn.data,St,tn,$e),yn(nn.data,xn.data,bn),Xe.putImageData(xn,Ln,Pn+Vn)}}function rn(Ze,Xe,Ye,en){const on=en[0],hn=en[1],bn=en[2]-on,Ln=en[3]-hn;bn===0||Ln===0||(Ke(Xe.context,Ye,bn,Ln,Xe.subtype,Xe.backdrop,Xe.transferMap,on,hn,Xe.offsetX,Xe.offsetY),Ze.save(),Ze.globalAlpha=1,Ze.globalCompositeOperation="source-over",Ze.setTransform(1,0,0,1,0,0),Ze.drawImage(Ye.canvas,0,0),Ze.restore())}function Cn(Ze,Xe){const Ye=_e.Util.singularValueDecompose2dScale(Ze);Ye[0]=Math.fround(Ye[0]),Ye[1]=Math.fround(Ye[1]);const en=Math.fround((globalThis.devicePixelRatio||1)*Ae.PixelsPerInch.PDF_TO_CSS_UNITS);return Xe!==void 0?Xe:Ye[0]<=en||Ye[1]<=en}const Sn=["butt","round","square"],fn=["miter","round","bevel"],gn={},vn={},Bn=class{constructor(Xe,Ye,en,on,hn,bn,Ln){ei(this,On);this.ctx=Xe,this.current=new je(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ye,this.objs=en,this.canvasFactory=on,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=hn,this.cachedCanvases=new Be(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=bn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ln==null?void 0:Ln.background)||null,this.foregroundColor=(Ln==null?void 0:Ln.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Xe,Ye=null){return typeof Xe=="string"?Xe.startsWith("g_")?this.commonObjs.get(Xe):this.objs.get(Xe):Ye}beginDrawing({transform:Xe,viewport:Ye,transparency:en=!1,background:on=null}){const hn=this.ctx.canvas.width,bn=this.ctx.canvas.height,Ln=on||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Vn=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Wn=this.backgroundColor=this.ctx.fillStyle;let un=!0,mn=Ln;if(this.ctx.fillStyle=Ln,mn=this.ctx.fillStyle,un=typeof mn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(mn),Vn==="#000000"&&Wn==="#ffffff"||Vn===Wn||!un)this.foregroundColor=this.backgroundColor=null;else{const[St,tn,$e]=(0,Ae.getRGB)(mn),yn=cn=>(cn/=255,cn<=.03928?cn/12.92:((cn+.055)/1.055)**2.4),En=Math.round(.2126*yn(St)+.7152*yn(tn)+.0722*yn($e));this.selectColor=(cn,Pn,Mn)=>{const nn=.2126*yn(cn)+.7152*yn(Pn)+.0722*yn(Mn);return Math.round(nn)===En?Wn:Vn}}}if(this.ctx.fillStyle=this.backgroundColor||Ln,this.ctx.fillRect(0,0,hn,bn),this.ctx.restore(),en){const Vn=this.cachedCanvases.getCanvas("transparent",hn,bn);this.compositeCtx=this.ctx,this.transparentCanvas=Vn.canvas,this.ctx=Vn.context,this.ctx.save(),this.ctx.transform(...(0,Ae.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Qe(this.ctx,this.foregroundColor),Xe&&(this.ctx.transform(...Xe),this.outputScaleX=Xe[0],this.outputScaleY=Xe[0]),this.ctx.transform(...Ye.transform),this.viewportScale=Ye.scale,this.baseTransform=(0,Ae.getCurrentTransform)(this.ctx)}executeOperatorList(Xe,Ye,en,on){const hn=Xe.argsArray,bn=Xe.fnArray;let Ln=Ye||0;const Vn=hn.length;if(Vn===Ln)return Ln;const Wn=Vn-Ln>De&&typeof en=="function",un=Wn?Date.now()+Ue:0;let mn=0;const St=this.commonObjs,tn=this.objs;let $e;for(;;){if(on!==void 0&&Ln===on.nextBreakPoint)return on.breakIt(Ln,en),Ln;if($e=bn[Ln],$e!==_e.OPS.dependency)this[$e].apply(this,hn[Ln]);else for(const yn of hn[Ln]){const En=yn.startsWith("g_")?St:tn;if(!En.has(yn))return En.get(yn,en),Ln}if(Ln++,Ln===Vn)return Ln;if(Wn&&++mn>De){if(Date.now()>un)return en(),Ln;mn=0}}}endDrawing(){ii(this,On,Vl).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Xe of this._cachedBitmapsMap.values()){for(const Ye of Xe.values())typeof HTMLCanvasElement<"u"&&Ye instanceof HTMLCanvasElement&&(Ye.width=Ye.height=0);Xe.clear()}this._cachedBitmapsMap.clear()}_scaleImage(Xe,Ye){const en=Xe.width,on=Xe.height;let hn=Math.max(Math.hypot(Ye[0],Ye[1]),1),bn=Math.max(Math.hypot(Ye[2],Ye[3]),1),Ln=en,Vn=on,Wn="prescale1",un,mn;for(;hn>2&&Ln>1||bn>2&&Vn>1;){let St=Ln,tn=Vn;hn>2&&Ln>1&&(St=Math.ceil(Ln/2),hn/=Ln/St),bn>2&&Vn>1&&(tn=Math.ceil(Vn/2),bn/=Vn/tn),un=this.cachedCanvases.getCanvas(Wn,St,tn),mn=un.context,mn.clearRect(0,0,St,tn),mn.drawImage(Xe,0,0,Ln,Vn,0,0,St,tn),Xe=un.canvas,Ln=St,Vn=tn,Wn=Wn==="prescale1"?"prescale2":"prescale1"}return{img:Xe,paintWidth:Ln,paintHeight:Vn}}_createMaskCanvas(Xe){const Ye=this.ctx,{width:en,height:on}=Xe,hn=this.current.fillColor,bn=this.current.patternFill,Ln=(0,Ae.getCurrentTransform)(Ye);let Vn,Wn,un,mn;if((Xe.bitmap||Xe.data)&&Xe.count>1){const zn=Xe.bitmap||Xe.data.buffer;Wn=JSON.stringify(bn?Ln:[Ln.slice(0,4),hn]),Vn=this._cachedBitmapsMap.get(zn),Vn||(Vn=new Map,this._cachedBitmapsMap.set(zn,Vn));const $n=Vn.get(Wn);if($n&&!bn){const Yn=Math.round(Math.min(Ln[0],Ln[2])+Ln[4]),jn=Math.round(Math.min(Ln[1],Ln[3])+Ln[5]);return{canvas:$n,offsetX:Yn,offsetY:jn}}un=$n}un||(mn=this.cachedCanvases.getCanvas("maskCanvas",en,on),Ve(mn.context,Xe));let St=_e.Util.transform(Ln,[1/en,0,0,-1/on,0,0]);St=_e.Util.transform(St,[1,0,0,1,0,-on]);const tn=_e.Util.applyTransform([0,0],St),$e=_e.Util.applyTransform([en,on],St),yn=_e.Util.normalizeRect([tn[0],tn[1],$e[0],$e[1]]),En=Math.round(yn[2]-yn[0])||1,cn=Math.round(yn[3]-yn[1])||1,Pn=this.cachedCanvases.getCanvas("fillCanvas",En,cn),Mn=Pn.context,nn=Math.min(tn[0],$e[0]),xn=Math.min(tn[1],$e[1]);Mn.translate(-nn,-xn),Mn.transform(...St),un||(un=this._scaleImage(mn.canvas,(0,Ae.getCurrentTransformInverse)(Mn)),un=un.img,Vn&&bn&&Vn.set(Wn,un)),Mn.imageSmoothingEnabled=Cn((0,Ae.getCurrentTransform)(Mn),Xe.interpolate),Ie(Mn,un,0,0,un.width,un.height,0,0,en,on),Mn.globalCompositeOperation="source-in";const _n=_e.Util.transform((0,Ae.getCurrentTransformInverse)(Mn),[1,0,0,1,-nn,-xn]);return Mn.fillStyle=bn?hn.getPattern(Ye,this,_n,Se.PathType.FILL):hn,Mn.fillRect(0,0,en,on),Vn&&!bn&&(this.cachedCanvases.delete("fillCanvas"),Vn.set(Wn,Pn.canvas)),{canvas:Pn.canvas,offsetX:Math.round(nn),offsetY:Math.round(xn)}}setLineWidth(Xe){Xe!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Xe,this.ctx.lineWidth=Xe}setLineCap(Xe){this.ctx.lineCap=Sn[Xe]}setLineJoin(Xe){this.ctx.lineJoin=fn[Xe]}setMiterLimit(Xe){this.ctx.miterLimit=Xe}setDash(Xe,Ye){const en=this.ctx;en.setLineDash!==void 0&&(en.setLineDash(Xe),en.lineDashOffset=Ye)}setRenderingIntent(Xe){}setFlatness(Xe){}setGState(Xe){for(const[Ye,en]of Xe)switch(Ye){case"LW":this.setLineWidth(en);break;case"LC":this.setLineCap(en);break;case"LJ":this.setLineJoin(en);break;case"ML":this.setMiterLimit(en);break;case"D":this.setDash(en[0],en[1]);break;case"RI":this.setRenderingIntent(en);break;case"FL":this.setFlatness(en);break;case"Font":this.setFont(en[0],en[1]);break;case"CA":this.current.strokeAlpha=en;break;case"ca":this.current.fillAlpha=en,this.ctx.globalAlpha=en;break;case"BM":this.ctx.globalCompositeOperation=en;break;case"SMask":this.current.activeSMask=en?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=en}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Xe=this.inSMaskMode;this.current.activeSMask&&!Xe?this.beginSMaskMode():!this.current.activeSMask&&Xe&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Xe=this.ctx.canvas.width,Ye=this.ctx.canvas.height,en="smaskGroupAt"+this.groupLevel,on=this.cachedCanvases.getCanvas(en,Xe,Ye);this.suspendedCtx=this.ctx,this.ctx=on.context;const hn=this.ctx;hn.setTransform(...(0,Ae.getCurrentTransform)(this.suspendedCtx)),He(this.suspendedCtx,hn),Oe(hn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),He(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Xe){if(!this.current.activeSMask)return;Xe?(Xe[0]=Math.floor(Xe[0]),Xe[1]=Math.floor(Xe[1]),Xe[2]=Math.ceil(Xe[2]),Xe[3]=Math.ceil(Xe[3])):Xe=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ye=this.current.activeSMask,en=this.suspendedCtx;rn(en,Ye,this.ctx,Xe),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(He(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Xe=this.current;this.stateStack.push(Xe),this.current=Xe.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),He(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Xe,Ye,en,on,hn,bn){this.ctx.transform(Xe,Ye,en,on,hn,bn),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Xe,Ye,en){const on=this.ctx,hn=this.current;let bn=hn.x,Ln=hn.y,Vn,Wn;const un=(0,Ae.getCurrentTransform)(on),mn=un[0]===0&&un[3]===0||un[1]===0&&un[2]===0,St=mn?en.slice(0):null;for(let tn=0,$e=0,yn=Xe.length;tn<yn;tn++)switch(Xe[tn]|0){case _e.OPS.rectangle:bn=Ye[$e++],Ln=Ye[$e++];const En=Ye[$e++],cn=Ye[$e++],Pn=bn+En,Mn=Ln+cn;on.moveTo(bn,Ln),En===0||cn===0?on.lineTo(Pn,Mn):(on.lineTo(Pn,Ln),on.lineTo(Pn,Mn),on.lineTo(bn,Mn)),mn||hn.updateRectMinMax(un,[bn,Ln,Pn,Mn]),on.closePath();break;case _e.OPS.moveTo:bn=Ye[$e++],Ln=Ye[$e++],on.moveTo(bn,Ln),mn||hn.updatePathMinMax(un,bn,Ln);break;case _e.OPS.lineTo:bn=Ye[$e++],Ln=Ye[$e++],on.lineTo(bn,Ln),mn||hn.updatePathMinMax(un,bn,Ln);break;case _e.OPS.curveTo:Vn=bn,Wn=Ln,bn=Ye[$e+4],Ln=Ye[$e+5],on.bezierCurveTo(Ye[$e],Ye[$e+1],Ye[$e+2],Ye[$e+3],bn,Ln),hn.updateCurvePathMinMax(un,Vn,Wn,Ye[$e],Ye[$e+1],Ye[$e+2],Ye[$e+3],bn,Ln,St),$e+=6;break;case _e.OPS.curveTo2:Vn=bn,Wn=Ln,on.bezierCurveTo(bn,Ln,Ye[$e],Ye[$e+1],Ye[$e+2],Ye[$e+3]),hn.updateCurvePathMinMax(un,Vn,Wn,bn,Ln,Ye[$e],Ye[$e+1],Ye[$e+2],Ye[$e+3],St),bn=Ye[$e+2],Ln=Ye[$e+3],$e+=4;break;case _e.OPS.curveTo3:Vn=bn,Wn=Ln,bn=Ye[$e+2],Ln=Ye[$e+3],on.bezierCurveTo(Ye[$e],Ye[$e+1],bn,Ln,bn,Ln),hn.updateCurvePathMinMax(un,Vn,Wn,Ye[$e],Ye[$e+1],bn,Ln,bn,Ln,St),$e+=4;break;case _e.OPS.closePath:on.closePath();break}mn&&hn.updateScalingPathMinMax(un,St),hn.setCurrentPoint(bn,Ln)}closePath(){this.ctx.closePath()}stroke(Xe){Xe=typeof Xe<"u"?Xe:!0;const Ye=this.ctx,en=this.current.strokeColor;Ye.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof en=="object"&&(en==null?void 0:en.getPattern)?(Ye.save(),Ye.strokeStyle=en.getPattern(Ye,this,(0,Ae.getCurrentTransformInverse)(Ye),Se.PathType.STROKE),this.rescaleAndStroke(!1),Ye.restore()):this.rescaleAndStroke(!0)),Xe&&this.consumePath(this.current.getClippedPathBoundingBox()),Ye.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Xe){Xe=typeof Xe<"u"?Xe:!0;const Ye=this.ctx,en=this.current.fillColor,on=this.current.patternFill;let hn=!1;on&&(Ye.save(),Ye.fillStyle=en.getPattern(Ye,this,(0,Ae.getCurrentTransformInverse)(Ye),Se.PathType.FILL),hn=!0);const bn=this.current.getClippedPathBoundingBox();this.contentVisible&&bn!==null&&(this.pendingEOFill?(Ye.fill("evenodd"),this.pendingEOFill=!1):Ye.fill()),hn&&Ye.restore(),Xe&&this.consumePath(bn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=gn}eoClip(){this.pendingClip=vn}beginText(){this.current.textMatrix=_e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Xe=this.pendingTextPaths,Ye=this.ctx;if(Xe===void 0){Ye.beginPath();return}Ye.save(),Ye.beginPath();for(const en of Xe)Ye.setTransform(...en.transform),Ye.translate(en.x,en.y),en.addToPath(Ye,en.fontSize);Ye.restore(),Ye.clip(),Ye.beginPath(),delete this.pendingTextPaths}setCharSpacing(Xe){this.current.charSpacing=Xe}setWordSpacing(Xe){this.current.wordSpacing=Xe}setHScale(Xe){this.current.textHScale=Xe/100}setLeading(Xe){this.current.leading=-Xe}setFont(Xe,Ye){const en=this.commonObjs.get(Xe),on=this.current;if(!en)throw new Error(`Can't find font for ${Xe}`);if(on.fontMatrix=en.fontMatrix||_e.FONT_IDENTITY_MATRIX,(on.fontMatrix[0]===0||on.fontMatrix[3]===0)&&(0,_e.warn)("Invalid font matrix for font "+Xe),Ye<0?(Ye=-Ye,on.fontDirection=-1):on.fontDirection=1,this.current.font=en,this.current.fontSize=Ye,en.isType3Font)return;const hn=en.loadedName||"sans-serif";let bn="normal";en.black?bn="900":en.bold&&(bn="bold");const Ln=en.italic?"italic":"normal",Vn=`"${hn}", ${en.fallbackName}`;let Wn=Ye;Ye<Te?Wn=Te:Ye>Ce&&(Wn=Ce),this.current.fontSizeScale=Ye/Wn,this.ctx.font=`${Ln} ${bn} ${Wn}px ${Vn}`}setTextRenderingMode(Xe){this.current.textRenderingMode=Xe}setTextRise(Xe){this.current.textRise=Xe}moveText(Xe,Ye){this.current.x=this.current.lineX+=Xe,this.current.y=this.current.lineY+=Ye}setLeadingMoveText(Xe,Ye){this.setLeading(-Ye),this.moveText(Xe,Ye)}setTextMatrix(Xe,Ye,en,on,hn,bn){this.current.textMatrix=[Xe,Ye,en,on,hn,bn],this.current.textMatrixScale=Math.hypot(Xe,Ye),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Xe,Ye,en,on){const hn=this.ctx,bn=this.current,Ln=bn.font,Vn=bn.textRenderingMode,Wn=bn.fontSize/bn.fontSizeScale,un=Vn&_e.TextRenderingMode.FILL_STROKE_MASK,mn=!!(Vn&_e.TextRenderingMode.ADD_TO_PATH_FLAG),St=bn.patternFill&&!Ln.missingFile;let tn;(Ln.disableFontFace||mn||St)&&(tn=Ln.getPathGenerator(this.commonObjs,Xe)),Ln.disableFontFace||St?(hn.save(),hn.translate(Ye,en),hn.beginPath(),tn(hn,Wn),on&&hn.setTransform(...on),(un===_e.TextRenderingMode.FILL||un===_e.TextRenderingMode.FILL_STROKE)&&hn.fill(),(un===_e.TextRenderingMode.STROKE||un===_e.TextRenderingMode.FILL_STROKE)&&hn.stroke(),hn.restore()):((un===_e.TextRenderingMode.FILL||un===_e.TextRenderingMode.FILL_STROKE)&&hn.fillText(Xe,Ye,en),(un===_e.TextRenderingMode.STROKE||un===_e.TextRenderingMode.FILL_STROKE)&&hn.strokeText(Xe,Ye,en)),mn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,Ae.getCurrentTransform)(hn),x:Ye,y:en,fontSize:Wn,addToPath:tn})}get isFontSubpixelAAEnabled(){const{context:Xe}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Xe.scale(1.5,1),Xe.fillText("I",0,10);const Ye=Xe.getImageData(0,0,10,10).data;let en=!1;for(let on=3;on<Ye.length;on+=4)if(Ye[on]>0&&Ye[on]<255){en=!0;break}return(0,_e.shadow)(this,"isFontSubpixelAAEnabled",en)}showText(Xe){const Ye=this.current,en=Ye.font;if(en.isType3Font)return this.showType3Text(Xe);const on=Ye.fontSize;if(on===0)return;const hn=this.ctx,bn=Ye.fontSizeScale,Ln=Ye.charSpacing,Vn=Ye.wordSpacing,Wn=Ye.fontDirection,un=Ye.textHScale*Wn,mn=Xe.length,St=en.vertical,tn=St?1:-1,$e=en.defaultVMetrics,yn=on*Ye.fontMatrix[0],En=Ye.textRenderingMode===_e.TextRenderingMode.FILL&&!en.disableFontFace&&!Ye.patternFill;hn.save(),hn.transform(...Ye.textMatrix),hn.translate(Ye.x,Ye.y+Ye.textRise),Wn>0?hn.scale(un,-1):hn.scale(un,1);let cn;if(Ye.patternFill){hn.save();const _n=Ye.fillColor.getPattern(hn,this,(0,Ae.getCurrentTransformInverse)(hn),Se.PathType.FILL);cn=(0,Ae.getCurrentTransform)(hn),hn.restore(),hn.fillStyle=_n}let Pn=Ye.lineWidth;const Mn=Ye.textMatrixScale;if(Mn===0||Pn===0){const _n=Ye.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;(_n===_e.TextRenderingMode.STROKE||_n===_e.TextRenderingMode.FILL_STROKE)&&(Pn=this.getSinglePixelWidth())}else Pn/=Mn;bn!==1&&(hn.scale(bn,bn),Pn/=bn),hn.lineWidth=Pn;let nn=0,xn;for(xn=0;xn<mn;++xn){const _n=Xe[xn];if(typeof _n=="number"){nn+=tn*_n*on/1e3;continue}let zn=!1;const $n=(_n.isSpace?Vn:0)+Ln,Yn=_n.fontChar,jn=_n.accent;let Xn,li,oi=_n.width;if(St){const Ai=_n.vmetric||$e,Li=-(_n.vmetric?Ai[1]:oi*.5)*yn,Ei=Ai[2]*yn;oi=Ai?-Ai[0]:oi,Xn=Li/bn,li=(nn+Ei)/bn}else Xn=nn/bn,li=0;if(en.remeasure&&oi>0){const Ai=hn.measureText(Yn).width*1e3/on*bn;if(oi<Ai&&this.isFontSubpixelAAEnabled){const Li=oi/Ai;zn=!0,hn.save(),hn.scale(Li,1),Xn/=Li}else oi!==Ai&&(Xn+=(oi-Ai)/2e3*on/bn)}if(this.contentVisible&&(_n.isInFont||en.missingFile)){if(En&&!jn)hn.fillText(Yn,Xn,li);else if(this.paintChar(Yn,Xn,li,cn),jn){const Ai=Xn+on*jn.offset.x/bn,Li=li-on*jn.offset.y/bn;this.paintChar(jn.fontChar,Ai,Li,cn)}}let Ni;St?Ni=oi*yn-$n*Wn:Ni=oi*yn+$n*Wn,nn+=Ni,zn&&hn.restore()}St?Ye.y-=nn:Ye.x+=nn*un,hn.restore(),this.compose()}showType3Text(Xe){const Ye=this.ctx,en=this.current,on=en.font,hn=en.fontSize,bn=en.fontDirection,Ln=on.vertical?1:-1,Vn=en.charSpacing,Wn=en.wordSpacing,un=en.textHScale*bn,mn=en.fontMatrix||_e.FONT_IDENTITY_MATRIX,St=Xe.length,tn=en.textRenderingMode===_e.TextRenderingMode.INVISIBLE;let $e,yn,En,cn;if(!(tn||hn===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Ye.save(),Ye.transform(...en.textMatrix),Ye.translate(en.x,en.y),Ye.scale(un,bn),$e=0;$e<St;++$e){if(yn=Xe[$e],typeof yn=="number"){cn=Ln*yn*hn/1e3,this.ctx.translate(cn,0),en.x+=cn*un;continue}const Pn=(yn.isSpace?Wn:0)+Vn,Mn=on.charProcOperatorList[yn.operatorListId];if(!Mn){(0,_e.warn)(`Type3 character "${yn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=yn,this.save(),Ye.scale(hn,hn),Ye.transform(...mn),this.executeOperatorList(Mn),this.restore()),En=_e.Util.applyTransform([yn.width,0],mn)[0]*hn+Pn,Ye.translate(En,0),en.x+=En*un}Ye.restore(),this.processingType3=null}}setCharWidth(Xe,Ye){}setCharWidthAndBounds(Xe,Ye,en,on,hn,bn){this.ctx.rect(en,on,hn-en,bn-on),this.ctx.clip(),this.endPath()}getColorN_Pattern(Xe){let Ye;if(Xe[0]==="TilingPattern"){const en=Xe[1],on=this.baseTransform||(0,Ae.getCurrentTransform)(this.ctx),hn={createCanvasGraphics:bn=>new Bn(bn,this.commonObjs,this.objs,this.canvasFactory)};Ye=new Se.TilingPattern(Xe,en,this.ctx,hn,on)}else Ye=this._getPattern(Xe[1],Xe[2]);return Ye}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Xe,Ye,en){var hn;const on=((hn=this.selectColor)==null?void 0:hn.call(this,Xe,Ye,en))||_e.Util.makeHexColor(Xe,Ye,en);this.ctx.strokeStyle=on,this.current.strokeColor=on}setFillRGBColor(Xe,Ye,en){var hn;const on=((hn=this.selectColor)==null?void 0:hn.call(this,Xe,Ye,en))||_e.Util.makeHexColor(Xe,Ye,en);this.ctx.fillStyle=on,this.current.fillColor=on,this.current.patternFill=!1}_getPattern(Xe,Ye=null){let en;return this.cachedPatterns.has(Xe)?en=this.cachedPatterns.get(Xe):(en=(0,Se.getShadingPattern)(this.objs.get(Xe)),this.cachedPatterns.set(Xe,en)),Ye&&(en.matrix=Ye),en}shadingFill(Xe){if(!this.contentVisible)return;const Ye=this.ctx;this.save();const en=this._getPattern(Xe);Ye.fillStyle=en.getPattern(Ye,this,(0,Ae.getCurrentTransformInverse)(Ye),Se.PathType.SHADING);const on=(0,Ae.getCurrentTransformInverse)(Ye);if(on){const hn=Ye.canvas,bn=hn.width,Ln=hn.height,Vn=_e.Util.applyTransform([0,0],on),Wn=_e.Util.applyTransform([0,Ln],on),un=_e.Util.applyTransform([bn,0],on),mn=_e.Util.applyTransform([bn,Ln],on),St=Math.min(Vn[0],Wn[0],un[0],mn[0]),tn=Math.min(Vn[1],Wn[1],un[1],mn[1]),$e=Math.max(Vn[0],Wn[0],un[0],mn[0]),yn=Math.max(Vn[1],Wn[1],un[1],mn[1]);this.ctx.fillRect(St,tn,$e-St,yn-tn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_e.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_e.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Xe,Ye){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Xe)&&Xe.length===6&&this.transform(...Xe),this.baseTransform=(0,Ae.getCurrentTransform)(this.ctx),Ye)){const en=Ye[2]-Ye[0],on=Ye[3]-Ye[1];this.ctx.rect(Ye[0],Ye[1],en,on),this.current.updateRectMinMax((0,Ae.getCurrentTransform)(this.ctx),Ye),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Xe){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ye=this.ctx;Xe.isolated||(0,_e.info)("TODO: Support non-isolated groups."),Xe.knockout&&(0,_e.warn)("Knockout groups not supported.");const en=(0,Ae.getCurrentTransform)(Ye);if(Xe.matrix&&Ye.transform(...Xe.matrix),!Xe.bbox)throw new Error("Bounding box is required.");let on=_e.Util.getAxialAlignedBoundingBox(Xe.bbox,(0,Ae.getCurrentTransform)(Ye));const hn=[0,0,Ye.canvas.width,Ye.canvas.height];on=_e.Util.intersect(on,hn)||[0,0,0,0];const bn=Math.floor(on[0]),Ln=Math.floor(on[1]);let Vn=Math.max(Math.ceil(on[2])-bn,1),Wn=Math.max(Math.ceil(on[3])-Ln,1),un=1,mn=1;Vn>Re&&(un=Vn/Re,Vn=Re),Wn>Re&&(mn=Wn/Re,Wn=Re),this.current.startNewPathAndClipBox([0,0,Vn,Wn]);let St="groupAt"+this.groupLevel;Xe.smask&&(St+="_smask_"+this.smaskCounter++%2);const tn=this.cachedCanvases.getCanvas(St,Vn,Wn),$e=tn.context;$e.scale(1/un,1/mn),$e.translate(-bn,-Ln),$e.transform(...en),Xe.smask?this.smaskStack.push({canvas:tn.canvas,context:$e,offsetX:bn,offsetY:Ln,scaleX:un,scaleY:mn,subtype:Xe.smask.subtype,backdrop:Xe.smask.backdrop,transferMap:Xe.smask.transferMap||null,startTransformInverse:null}):(Ye.setTransform(1,0,0,1,0,0),Ye.translate(bn,Ln),Ye.scale(un,mn),Ye.save()),He(Ye,$e),this.ctx=$e,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ye),this.groupLevel++}endGroup(Xe){if(!this.contentVisible)return;this.groupLevel--;const Ye=this.ctx,en=this.groupStack.pop();if(this.ctx=en,this.ctx.imageSmoothingEnabled=!1,Xe.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const on=(0,Ae.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...on);const hn=_e.Util.getAxialAlignedBoundingBox([0,0,Ye.canvas.width,Ye.canvas.height],on);this.ctx.drawImage(Ye.canvas,0,0),this.ctx.restore(),this.compose(hn)}}beginAnnotation(Xe,Ye,en,on,hn){if(ii(this,On,Vl).call(this),Qe(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ye)&&Ye.length===4){const bn=Ye[2]-Ye[0],Ln=Ye[3]-Ye[1];if(hn&&this.annotationCanvasMap){en=en.slice(),en[4]-=Ye[0],en[5]-=Ye[1],Ye=Ye.slice(),Ye[0]=Ye[1]=0,Ye[2]=bn,Ye[3]=Ln;const[Vn,Wn]=_e.Util.singularValueDecompose2dScale((0,Ae.getCurrentTransform)(this.ctx)),{viewportScale:un}=this,mn=Math.ceil(bn*this.outputScaleX*un),St=Math.ceil(Ln*this.outputScaleY*un);this.annotationCanvas=this.canvasFactory.create(mn,St);const{canvas:tn,context:$e}=this.annotationCanvas;this.annotationCanvasMap.set(Xe,tn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=$e,this.ctx.setTransform(Vn,0,0,-Wn,0,Ln*Wn),Qe(this.ctx,this.foregroundColor)}else Qe(this.ctx,this.foregroundColor),this.ctx.rect(Ye[0],Ye[1],bn,Ln),this.ctx.clip(),this.endPath()}this.current=new je(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...en),this.transform(...on)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Xe){if(!this.contentVisible)return;const Ye=Xe.count;Xe=this.getObject(Xe.data,Xe),Xe.count=Ye;const en=this.ctx,on=this.processingType3;if(on&&(on.compiled===void 0&&(on.compiled=qe(Xe)),on.compiled)){on.compiled(en);return}const hn=this._createMaskCanvas(Xe),bn=hn.canvas;en.save(),en.setTransform(1,0,0,1,0,0),en.drawImage(bn,hn.offsetX,hn.offsetY),en.restore(),this.compose()}paintImageMaskXObjectRepeat(Xe,Ye,en=0,on=0,hn,bn){if(!this.contentVisible)return;Xe=this.getObject(Xe.data,Xe);const Ln=this.ctx;Ln.save();const Vn=(0,Ae.getCurrentTransform)(Ln);Ln.transform(Ye,en,on,hn,0,0);const Wn=this._createMaskCanvas(Xe);Ln.setTransform(1,0,0,1,0,0);for(let un=0,mn=bn.length;un<mn;un+=2){const St=_e.Util.transform(Vn,[Ye,en,on,hn,bn[un],bn[un+1]]),[tn,$e]=_e.Util.applyTransform([0,0],St);Ln.drawImage(Wn.canvas,tn,$e)}Ln.restore(),this.compose()}paintImageMaskXObjectGroup(Xe){if(!this.contentVisible)return;const Ye=this.ctx,en=this.current.fillColor,on=this.current.patternFill;for(const hn of Xe){const{data:bn,width:Ln,height:Vn,transform:Wn}=hn,un=this.cachedCanvases.getCanvas("maskCanvas",Ln,Vn),mn=un.context;mn.save();const St=this.getObject(bn,hn);Ve(mn,St),mn.globalCompositeOperation="source-in",mn.fillStyle=on?en.getPattern(mn,this,(0,Ae.getCurrentTransformInverse)(Ye),Se.PathType.FILL):en,mn.fillRect(0,0,Ln,Vn),mn.restore(),Ye.save(),Ye.transform(...Wn),Ye.scale(1,-1),Ie(Ye,un.canvas,0,0,Ln,Vn,0,-1,1,1),Ye.restore()}this.compose()}paintImageXObject(Xe){if(!this.contentVisible)return;const Ye=this.getObject(Xe);if(!Ye){(0,_e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ye)}paintImageXObjectRepeat(Xe,Ye,en,on){if(!this.contentVisible)return;const hn=this.getObject(Xe);if(!hn){(0,_e.warn)("Dependent image isn't ready yet");return}const bn=hn.width,Ln=hn.height,Vn=[];for(let Wn=0,un=on.length;Wn<un;Wn+=2)Vn.push({transform:[Ye,0,0,en,on[Wn],on[Wn+1]],x:0,y:0,w:bn,h:Ln});this.paintInlineImageXObjectGroup(hn,Vn)}paintInlineImageXObject(Xe){if(!this.contentVisible)return;const Ye=Xe.width,en=Xe.height,on=this.ctx;this.save(),on.scale(1/Ye,-1/en);let hn;if(typeof HTMLElement=="function"&&Xe instanceof HTMLElement||!Xe.data)hn=Xe;else{const Ln=this.cachedCanvases.getCanvas("inlineImage",Ye,en),Vn=Ln.context;ze(Vn,Xe,this.current.transferMaps),hn=Ln.canvas}const bn=this._scaleImage(hn,(0,Ae.getCurrentTransformInverse)(on));on.imageSmoothingEnabled=Cn((0,Ae.getCurrentTransform)(on),Xe.interpolate),Ie(on,bn.img,0,0,bn.paintWidth,bn.paintHeight,0,-en,Ye,en),this.compose(),this.restore()}paintInlineImageXObjectGroup(Xe,Ye){if(!this.contentVisible)return;const en=this.ctx,on=Xe.width,hn=Xe.height,bn=this.cachedCanvases.getCanvas("inlineImage",on,hn),Ln=bn.context;ze(Ln,Xe,this.current.transferMaps);for(const Vn of Ye)en.save(),en.transform(...Vn.transform),en.scale(1,-1),Ie(en,bn.canvas,Vn.x,Vn.y,Vn.w,Vn.h,0,-1,1,1),en.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Xe){}markPointProps(Xe,Ye){}beginMarkedContent(Xe){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Xe,Ye){Xe==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ye)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Xe){const Ye=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Xe);const en=this.ctx;this.pendingClip&&(Ye||(this.pendingClip===vn?en.clip("evenodd"):en.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),en.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Xe=(0,Ae.getCurrentTransform)(this.ctx);if(Xe[1]===0&&Xe[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Xe[0]),Math.abs(Xe[3]));else{const Ye=Math.abs(Xe[0]*Xe[3]-Xe[2]*Xe[1]),en=Math.hypot(Xe[0],Xe[2]),on=Math.hypot(Xe[1],Xe[3]);this._cachedGetSinglePixelWidth=Math.max(en,on)/Ye}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Xe}=this.current,Ye=(0,Ae.getCurrentTransform)(this.ctx);let en,on;if(Ye[1]===0&&Ye[2]===0){const hn=Math.abs(Ye[0]),bn=Math.abs(Ye[3]);if(Xe===0)en=1/hn,on=1/bn;else{const Ln=hn*Xe,Vn=bn*Xe;en=Ln<1?1/Ln:1,on=Vn<1?1/Vn:1}}else{const hn=Math.abs(Ye[0]*Ye[3]-Ye[2]*Ye[1]),bn=Math.hypot(Ye[0],Ye[1]),Ln=Math.hypot(Ye[2],Ye[3]);if(Xe===0)en=Ln/hn,on=bn/hn;else{const Vn=Xe*hn;en=Ln>Vn?Ln/Vn:1,on=bn>Vn?bn/Vn:1}}this._cachedScaleForStroking=[en,on]}return this._cachedScaleForStroking}rescaleAndStroke(Xe){const{ctx:Ye}=this,{lineWidth:en}=this.current,[on,hn]=this.getScaleForStroking();if(Ye.lineWidth=en||1,on===1&&hn===1){Ye.stroke();return}let bn,Ln,Vn;Xe&&(bn=(0,Ae.getCurrentTransform)(Ye),Ln=Ye.getLineDash().slice(),Vn=Ye.lineDashOffset),Ye.scale(on,hn);const Wn=Math.max(on,hn);Ye.setLineDash(Ye.getLineDash().map(un=>un/Wn)),Ye.lineDashOffset/=Wn,Ye.stroke(),Xe&&(Ye.setTransform(...bn),Ye.setLineDash(Ln),Ye.lineDashOffset=Vn)}isContentVisible(){for(let Xe=this.markedContentStack.length-1;Xe>=0;Xe--)if(!this.markedContentStack[Xe].visible)return!1;return!0}};let pn=Bn;On=new WeakSet,Vl=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},t.CanvasGraphics=pn;for(const Ze in _e.OPS)pn.prototype[Ze]!==void 0&&(pn.prototype[_e.OPS[Ze]]=pn.prototype[Ze])},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=Me;var _e=r(1),Ae=r(6),Se=r(12);const Ee={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=Ee;function xe(Ie,qe){if(!qe||Se.isNodeJS)return;const je=qe[2]-qe[0],ze=qe[3]-qe[1],Ve=new Path2D;Ve.rect(qe[0],qe[1],je,ze),Ie.clip(Ve)}class Te{constructor(){this.constructor===Te&&(0,_e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_e.unreachable)("Abstract method `getPattern` called.")}}class Ce extends Te{constructor(qe){super(),this._type=qe[1],this._bbox=qe[2],this._colorStops=qe[3],this._p0=qe[4],this._p1=qe[5],this._r0=qe[6],this._r1=qe[7],this.matrix=null}_createGradient(qe){let je;this._type==="axial"?je=qe.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(je=qe.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ze of this._colorStops)je.addColorStop(ze[0],ze[1]);return je}getPattern(qe,je,ze,Ve){let He;if(Ve===Ee.STROKE||Ve===Ee.FILL){const Qe=je.current.getClippedPathBoundingBox(Ve,(0,Ae.getCurrentTransform)(qe))||[0,0,0,0],Je=Math.ceil(Qe[2]-Qe[0])||1,dn=Math.ceil(Qe[3]-Qe[1])||1,an=je.cachedCanvases.getCanvas("pattern",Je,dn,!0),Ke=an.context;Ke.clearRect(0,0,Ke.canvas.width,Ke.canvas.height),Ke.beginPath(),Ke.rect(0,0,Ke.canvas.width,Ke.canvas.height),Ke.translate(-Qe[0],-Qe[1]),ze=_e.Util.transform(ze,[1,0,0,1,Qe[0],Qe[1]]),Ke.transform(...je.baseTransform),this.matrix&&Ke.transform(...this.matrix),xe(Ke,this._bbox),Ke.fillStyle=this._createGradient(Ke),Ke.fill(),He=qe.createPattern(an.canvas,"no-repeat");const rn=new DOMMatrix(ze);He.setTransform(rn)}else xe(qe,this._bbox),He=this._createGradient(qe);return He}}function Re(Ie,qe,je,ze,Ve,He,Qe,Je){const dn=qe.coords,an=qe.colors,Ke=Ie.data,rn=Ie.width*4;let Cn;dn[je+1]>dn[ze+1]&&(Cn=je,je=ze,ze=Cn,Cn=He,He=Qe,Qe=Cn),dn[ze+1]>dn[Ve+1]&&(Cn=ze,ze=Ve,Ve=Cn,Cn=Qe,Qe=Je,Je=Cn),dn[je+1]>dn[ze+1]&&(Cn=je,je=ze,ze=Cn,Cn=He,He=Qe,Qe=Cn);const Sn=(dn[je]+qe.offsetX)*qe.scaleX,fn=(dn[je+1]+qe.offsetY)*qe.scaleY,gn=(dn[ze]+qe.offsetX)*qe.scaleX,vn=(dn[ze+1]+qe.offsetY)*qe.scaleY,pn=(dn[Ve]+qe.offsetX)*qe.scaleX,On=(dn[Ve+1]+qe.offsetY)*qe.scaleY;if(fn>=On)return;const Hn=an[He],Bn=an[He+1],Ze=an[He+2],Xe=an[Qe],Ye=an[Qe+1],en=an[Qe+2],on=an[Je],hn=an[Je+1],bn=an[Je+2],Ln=Math.round(fn),Vn=Math.round(On);let Wn,un,mn,St,tn,$e,yn,En;for(let cn=Ln;cn<=Vn;cn++){if(cn<vn){let _n;cn<fn?_n=0:_n=(fn-cn)/(fn-vn),Wn=Sn-(Sn-gn)*_n,un=Hn-(Hn-Xe)*_n,mn=Bn-(Bn-Ye)*_n,St=Ze-(Ze-en)*_n}else{let _n;cn>On?_n=1:vn===On?_n=0:_n=(vn-cn)/(vn-On),Wn=gn-(gn-pn)*_n,un=Xe-(Xe-on)*_n,mn=Ye-(Ye-hn)*_n,St=en-(en-bn)*_n}let Pn;cn<fn?Pn=0:cn>On?Pn=1:Pn=(fn-cn)/(fn-On),tn=Sn-(Sn-pn)*Pn,$e=Hn-(Hn-on)*Pn,yn=Bn-(Bn-hn)*Pn,En=Ze-(Ze-bn)*Pn;const Mn=Math.round(Math.min(Wn,tn)),nn=Math.round(Math.max(Wn,tn));let xn=rn*cn+Mn*4;for(let _n=Mn;_n<=nn;_n++)Pn=(Wn-_n)/(Wn-tn),Pn<0?Pn=0:Pn>1&&(Pn=1),Ke[xn++]=un-(un-$e)*Pn|0,Ke[xn++]=mn-(mn-yn)*Pn|0,Ke[xn++]=St-(St-En)*Pn|0,Ke[xn++]=255}}function Ue(Ie,qe,je){const ze=qe.coords,Ve=qe.colors;let He,Qe;switch(qe.type){case"lattice":const Je=qe.verticesPerRow,dn=Math.floor(ze.length/Je)-1,an=Je-1;for(He=0;He<dn;He++){let Ke=He*Je;for(let rn=0;rn<an;rn++,Ke++)Re(Ie,je,ze[Ke],ze[Ke+1],ze[Ke+Je],Ve[Ke],Ve[Ke+1],Ve[Ke+Je]),Re(Ie,je,ze[Ke+Je+1],ze[Ke+1],ze[Ke+Je],Ve[Ke+Je+1],Ve[Ke+1],Ve[Ke+Je])}break;case"triangles":for(He=0,Qe=ze.length;He<Qe;He+=3)Re(Ie,je,ze[He],ze[He+1],ze[He+2],Ve[He],Ve[He+1],Ve[He+2]);break;default:throw new Error("illegal figure")}}class De extends Te{constructor(qe){super(),this._coords=qe[2],this._colors=qe[3],this._figures=qe[4],this._bounds=qe[5],this._bbox=qe[7],this._background=qe[8],this.matrix=null}_createMeshCanvas(qe,je,ze){const Je=Math.floor(this._bounds[0]),dn=Math.floor(this._bounds[1]),an=Math.ceil(this._bounds[2])-Je,Ke=Math.ceil(this._bounds[3])-dn,rn=Math.min(Math.ceil(Math.abs(an*qe[0]*1.1)),3e3),Cn=Math.min(Math.ceil(Math.abs(Ke*qe[1]*1.1)),3e3),Sn=an/rn,fn=Ke/Cn,gn={coords:this._coords,colors:this._colors,offsetX:-Je,offsetY:-dn,scaleX:1/Sn,scaleY:1/fn},vn=rn+2*2,pn=Cn+2*2,On=ze.getCanvas("mesh",vn,pn,!1),Hn=On.context,Bn=Hn.createImageData(rn,Cn);if(je){const Xe=Bn.data;for(let Ye=0,en=Xe.length;Ye<en;Ye+=4)Xe[Ye]=je[0],Xe[Ye+1]=je[1],Xe[Ye+2]=je[2],Xe[Ye+3]=255}for(const Xe of this._figures)Ue(Bn,Xe,gn);return Hn.putImageData(Bn,2,2),{canvas:On.canvas,offsetX:Je-2*Sn,offsetY:dn-2*fn,scaleX:Sn,scaleY:fn}}getPattern(qe,je,ze,Ve){xe(qe,this._bbox);let He;if(Ve===Ee.SHADING)He=_e.Util.singularValueDecompose2dScale((0,Ae.getCurrentTransform)(qe));else if(He=_e.Util.singularValueDecompose2dScale(je.baseTransform),this.matrix){const Je=_e.Util.singularValueDecompose2dScale(this.matrix);He=[He[0]*Je[0],He[1]*Je[1]]}const Qe=this._createMeshCanvas(He,Ve===Ee.SHADING?null:this._background,je.cachedCanvases);return Ve!==Ee.SHADING&&(qe.setTransform(...je.baseTransform),this.matrix&&qe.transform(...this.matrix)),qe.translate(Qe.offsetX,Qe.offsetY),qe.scale(Qe.scaleX,Qe.scaleY),qe.createPattern(Qe.canvas,"no-repeat")}}class ke extends Te{getPattern(){return"hotpink"}}function Me(Ie){switch(Ie[0]){case"RadialAxial":return new Ce(Ie);case"Mesh":return new De(Ie);case"Dummy":return new ke}throw new Error(`Unknown IR type: ${Ie[0]}`)}const Oe={COLORED:1,UNCOLORED:2};class Be{static get MAX_PATTERN_SIZE(){return(0,_e.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(qe,je,ze,Ve,He){this.operatorList=qe[2],this.matrix=qe[3]||[1,0,0,1,0,0],this.bbox=qe[4],this.xstep=qe[5],this.ystep=qe[6],this.paintType=qe[7],this.tilingType=qe[8],this.color=je,this.ctx=ze,this.canvasGraphicsFactory=Ve,this.baseTransform=He}createPatternCanvas(qe){const je=this.operatorList,ze=this.bbox,Ve=this.xstep,He=this.ystep,Qe=this.paintType,Je=this.tilingType,dn=this.color,an=this.canvasGraphicsFactory;(0,_e.info)("TilingType: "+Je);const Ke=ze[0],rn=ze[1],Cn=ze[2],Sn=ze[3],fn=_e.Util.singularValueDecompose2dScale(this.matrix),gn=_e.Util.singularValueDecompose2dScale(this.baseTransform),vn=[fn[0]*gn[0],fn[1]*gn[1]],pn=this.getSizeAndScale(Ve,this.ctx.canvas.width,vn[0]),On=this.getSizeAndScale(He,this.ctx.canvas.height,vn[1]),Hn=qe.cachedCanvases.getCanvas("pattern",pn.size,On.size,!0),Bn=Hn.context,Ze=an.createCanvasGraphics(Bn);Ze.groupLevel=qe.groupLevel,this.setFillAndStrokeStyleToContext(Ze,Qe,dn);let Xe=Ke,Ye=rn,en=Cn,on=Sn;return Ke<0&&(Xe=0,en+=Math.abs(Ke)),rn<0&&(Ye=0,on+=Math.abs(rn)),Bn.translate(-(pn.scale*Xe),-(On.scale*Ye)),Ze.transform(pn.scale,0,0,On.scale,0,0),Bn.save(),this.clipBbox(Ze,Xe,Ye,en,on),Ze.baseTransform=(0,Ae.getCurrentTransform)(Ze.ctx),Ze.executeOperatorList(je),Ze.endDrawing(),{canvas:Hn.canvas,scaleX:pn.scale,scaleY:On.scale,offsetX:Xe,offsetY:Ye}}getSizeAndScale(qe,je,ze){qe=Math.abs(qe);const Ve=Math.max(Be.MAX_PATTERN_SIZE,je);let He=Math.ceil(qe*ze);return He>=Ve?He=Ve:ze=He/qe,{scale:ze,size:He}}clipBbox(qe,je,ze,Ve,He){const Qe=Ve-je,Je=He-ze;qe.ctx.rect(je,ze,Qe,Je),qe.current.updateRectMinMax((0,Ae.getCurrentTransform)(qe.ctx),[je,ze,Ve,He]),qe.clip(),qe.endPath()}setFillAndStrokeStyleToContext(qe,je,ze){const Ve=qe.ctx,He=qe.current;switch(je){case Oe.COLORED:const Qe=this.ctx;Ve.fillStyle=Qe.fillStyle,Ve.strokeStyle=Qe.strokeStyle,He.fillColor=Qe.fillStyle,He.strokeColor=Qe.strokeStyle;break;case Oe.UNCOLORED:const Je=_e.Util.makeHexColor(ze[0],ze[1],ze[2]);Ve.fillStyle=Je,Ve.strokeStyle=Je,He.fillColor=Je,He.strokeColor=Je;break;default:throw new _e.FormatError(`Unsupported paint type: ${je}`)}}getPattern(qe,je,ze,Ve){let He=ze;Ve!==Ee.SHADING&&(He=_e.Util.transform(He,je.baseTransform),this.matrix&&(He=_e.Util.transform(He,this.matrix)));const Qe=this.createPatternCanvas(je);let Je=new DOMMatrix(He);Je=Je.translate(Qe.offsetX,Qe.offsetY),Je=Je.scale(1/Qe.scaleX,1/Qe.scaleY);const dn=qe.createPattern(Qe.canvas,"repeat");return dn.setTransform(Je),dn}}t.TilingPattern=Be},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=r},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=Ae;var _e=r(1);function Ae({src:Se,srcPos:Ee=0,dest:xe,destPos:Te=0,width:Ce,height:Re,inverseDecode:Ue=!1}){const De=_e.FeatureTest.isLittleEndian?4278190080:255,[ke,Me]=Ue?[0,De]:[De,0],Oe=Ce>>3,Be=Ce&7,Ie=Se.length;xe=new Uint32Array(xe.buffer);for(let qe=0;qe<Re;qe++){for(const ze=Ee+Oe;Ee<ze;Ee++){const Ve=Ee<Ie?Se[Ee]:255;xe[Te++]=Ve&128?Me:ke,xe[Te++]=Ve&64?Me:ke,xe[Te++]=Ve&32?Me:ke,xe[Te++]=Ve&16?Me:ke,xe[Te++]=Ve&8?Me:ke,xe[Te++]=Ve&4?Me:ke,xe[Te++]=Ve&2?Me:ke,xe[Te++]=Ve&1?Me:ke}if(Be===0)continue;const je=Ee<Ie?Se[Ee++]:255;for(let ze=0;ze<Be;ze++)xe[Te++]=je&1<<7-ze?Me:ke}return{srcPos:Ee,destPos:Te}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=r.workerPort===void 0?null:r.workerPort,r.workerSrc=r.workerSrc===void 0?"":r.workerSrc},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var _e=r(1);const Ae={UNKNOWN:0,DATA:1,ERROR:2},Se={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ee(Te){switch(Te instanceof Error||typeof Te=="object"&&Te!==null||(0,_e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Te.name){case"AbortException":return new _e.AbortException(Te.message);case"MissingPDFException":return new _e.MissingPDFException(Te.message);case"PasswordException":return new _e.PasswordException(Te.message,Te.code);case"UnexpectedResponseException":return new _e.UnexpectedResponseException(Te.message,Te.status);case"UnknownErrorException":return new _e.UnknownErrorException(Te.message,Te.details);default:return new _e.UnknownErrorException(Te.message,Te.toString())}}class xe{constructor(Ce,Re,Ue){this.sourceName=Ce,this.targetName=Re,this.comObj=Ue,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=De=>{const ke=De.data;if(ke.targetName!==this.sourceName)return;if(ke.stream){this._processStreamMessage(ke);return}if(ke.callback){const Oe=ke.callbackId,Be=this.callbackCapabilities[Oe];if(!Be)throw new Error(`Cannot resolve callback ${Oe}`);if(delete this.callbackCapabilities[Oe],ke.callback===Ae.DATA)Be.resolve(ke.data);else if(ke.callback===Ae.ERROR)Be.reject(Ee(ke.reason));else throw new Error("Unexpected callback case");return}const Me=this.actionHandler[ke.action];if(!Me)throw new Error(`Unknown action from worker: ${ke.action}`);if(ke.callbackId){const Oe=this.sourceName,Be=ke.sourceName;new Promise(function(Ie){Ie(Me(ke.data))}).then(function(Ie){Ue.postMessage({sourceName:Oe,targetName:Be,callback:Ae.DATA,callbackId:ke.callbackId,data:Ie})},function(Ie){Ue.postMessage({sourceName:Oe,targetName:Be,callback:Ae.ERROR,callbackId:ke.callbackId,reason:Ee(Ie)})});return}if(ke.streamId){this._createStreamSink(ke);return}Me(ke.data)},Ue.addEventListener("message",this._onComObjOnMessage)}on(Ce,Re){const Ue=this.actionHandler;if(Ue[Ce])throw new Error(`There is already an actionName called "${Ce}"`);Ue[Ce]=Re}send(Ce,Re,Ue){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ce,data:Re},Ue)}sendWithPromise(Ce,Re,Ue){const De=this.callbackId++,ke=(0,_e.createPromiseCapability)();this.callbackCapabilities[De]=ke;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ce,callbackId:De,data:Re},Ue)}catch(Me){ke.reject(Me)}return ke.promise}sendWithStream(Ce,Re,Ue,De){const ke=this.streamId++,Me=this.sourceName,Oe=this.targetName,Be=this.comObj;return new ReadableStream({start:Ie=>{const qe=(0,_e.createPromiseCapability)();return this.streamControllers[ke]={controller:Ie,startCall:qe,pullCall:null,cancelCall:null,isClosed:!1},Be.postMessage({sourceName:Me,targetName:Oe,action:Ce,streamId:ke,data:Re,desiredSize:Ie.desiredSize},De),qe.promise},pull:Ie=>{const qe=(0,_e.createPromiseCapability)();return this.streamControllers[ke].pullCall=qe,Be.postMessage({sourceName:Me,targetName:Oe,stream:Se.PULL,streamId:ke,desiredSize:Ie.desiredSize}),qe.promise},cancel:Ie=>{(0,_e.assert)(Ie instanceof Error,"cancel must have a valid reason");const qe=(0,_e.createPromiseCapability)();return this.streamControllers[ke].cancelCall=qe,this.streamControllers[ke].isClosed=!0,Be.postMessage({sourceName:Me,targetName:Oe,stream:Se.CANCEL,streamId:ke,reason:Ee(Ie)}),qe.promise}},Ue)}_createStreamSink(Ce){const Re=Ce.streamId,Ue=this.sourceName,De=Ce.sourceName,ke=this.comObj,Me=this,Oe=this.actionHandler[Ce.action],Be={enqueue(Ie,qe=1,je){if(this.isCancelled)return;const ze=this.desiredSize;this.desiredSize-=qe,ze>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),ke.postMessage({sourceName:Ue,targetName:De,stream:Se.ENQUEUE,streamId:Re,chunk:Ie},je)},close(){this.isCancelled||(this.isCancelled=!0,ke.postMessage({sourceName:Ue,targetName:De,stream:Se.CLOSE,streamId:Re}),delete Me.streamSinks[Re])},error(Ie){(0,_e.assert)(Ie instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ke.postMessage({sourceName:Ue,targetName:De,stream:Se.ERROR,streamId:Re,reason:Ee(Ie)}))},sinkCapability:(0,_e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:Ce.desiredSize,ready:null};Be.sinkCapability.resolve(),Be.ready=Be.sinkCapability.promise,this.streamSinks[Re]=Be,new Promise(function(Ie){Ie(Oe(Ce.data,Be))}).then(function(){ke.postMessage({sourceName:Ue,targetName:De,stream:Se.START_COMPLETE,streamId:Re,success:!0})},function(Ie){ke.postMessage({sourceName:Ue,targetName:De,stream:Se.START_COMPLETE,streamId:Re,reason:Ee(Ie)})})}_processStreamMessage(Ce){const Re=Ce.streamId,Ue=this.sourceName,De=Ce.sourceName,ke=this.comObj,Me=this.streamControllers[Re],Oe=this.streamSinks[Re];switch(Ce.stream){case Se.START_COMPLETE:Ce.success?Me.startCall.resolve():Me.startCall.reject(Ee(Ce.reason));break;case Se.PULL_COMPLETE:Ce.success?Me.pullCall.resolve():Me.pullCall.reject(Ee(Ce.reason));break;case Se.PULL:if(!Oe){ke.postMessage({sourceName:Ue,targetName:De,stream:Se.PULL_COMPLETE,streamId:Re,success:!0});break}Oe.desiredSize<=0&&Ce.desiredSize>0&&Oe.sinkCapability.resolve(),Oe.desiredSize=Ce.desiredSize,new Promise(function(Be){Be(Oe.onPull&&Oe.onPull())}).then(function(){ke.postMessage({sourceName:Ue,targetName:De,stream:Se.PULL_COMPLETE,streamId:Re,success:!0})},function(Be){ke.postMessage({sourceName:Ue,targetName:De,stream:Se.PULL_COMPLETE,streamId:Re,reason:Ee(Be)})});break;case Se.ENQUEUE:if((0,_e.assert)(Me,"enqueue should have stream controller"),Me.isClosed)break;Me.controller.enqueue(Ce.chunk);break;case Se.CLOSE:if((0,_e.assert)(Me,"close should have stream controller"),Me.isClosed)break;Me.isClosed=!0,Me.controller.close(),this._deleteStreamController(Me,Re);break;case Se.ERROR:(0,_e.assert)(Me,"error should have stream controller"),Me.controller.error(Ee(Ce.reason)),this._deleteStreamController(Me,Re);break;case Se.CANCEL_COMPLETE:Ce.success?Me.cancelCall.resolve():Me.cancelCall.reject(Ee(Ce.reason)),this._deleteStreamController(Me,Re);break;case Se.CANCEL:if(!Oe)break;new Promise(function(Be){Be(Oe.onCancel&&Oe.onCancel(Ee(Ce.reason)))}).then(function(){ke.postMessage({sourceName:Ue,targetName:De,stream:Se.CANCEL_COMPLETE,streamId:Re,success:!0})},function(Be){ke.postMessage({sourceName:Ue,targetName:De,stream:Se.CANCEL_COMPLETE,streamId:Re,reason:Ee(Be)})}),Oe.sinkCapability.reject(Ee(Ce.reason)),Oe.isCancelled=!0,delete this.streamSinks[Re];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(Ce,Re){await Promise.allSettled([Ce.startCall&&Ce.startCall.promise,Ce.pullCall&&Ce.pullCall.promise,Ce.cancelCall&&Ce.cancelCall.promise]),delete this.streamControllers[Re]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}t.MessageHandler=xe},(e,t,r)=>{var Se,Ee;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var _e=r(1);class Ae{constructor({parsedData:Te,rawData:Ce}){ei(this,Se,void 0);ei(this,Ee,void 0);bi(this,Se,Te),bi(this,Ee,Ce)}getRaw(){return Nn(this,Ee)}get(Te){var Ce;return(Ce=Nn(this,Se).get(Te))!=null?Ce:null}getAll(){return(0,_e.objectFromMap)(Nn(this,Se))}has(Te){return Nn(this,Se).has(Te)}}Se=new WeakMap,Ee=new WeakMap,t.Metadata=Ae},(e,t,r)=>{var Te,Ce,Re,Ue,De,ke,ql;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var _e=r(1),Ae=r(8);const Se=Symbol("INTERNAL");class Ee{constructor(Be,Ie){ei(this,Te,!0);this.name=Be,this.intent=Ie}get visible(){return Nn(this,Te)}_setVisible(Be,Ie){Be!==Se&&(0,_e.unreachable)("Internal method `_setVisible` called."),bi(this,Te,Ie)}}Te=new WeakMap;class xe{constructor(Be){ei(this,ke);ei(this,Ce,null);ei(this,Re,new Map);ei(this,Ue,null);ei(this,De,null);if(this.name=null,this.creator=null,Be!==null){this.name=Be.name,this.creator=Be.creator,bi(this,De,Be.order);for(const Ie of Be.groups)Nn(this,Re).set(Ie.id,new Ee(Ie.name,Ie.intent));if(Be.baseState==="OFF")for(const Ie of Nn(this,Re).values())Ie._setVisible(Se,!1);for(const Ie of Be.on)Nn(this,Re).get(Ie)._setVisible(Se,!0);for(const Ie of Be.off)Nn(this,Re).get(Ie)._setVisible(Se,!1);bi(this,Ue,this.getHash())}}isVisible(Be){if(Nn(this,Re).size===0)return!0;if(!Be)return(0,_e.warn)("Optional content group not defined."),!0;if(Be.type==="OCG")return Nn(this,Re).has(Be.id)?Nn(this,Re).get(Be.id).visible:((0,_e.warn)(`Optional content group not found: ${Be.id}`),!0);if(Be.type==="OCMD"){if(Be.expression)return ii(this,ke,ql).call(this,Be.expression);if(!Be.policy||Be.policy==="AnyOn"){for(const Ie of Be.ids){if(!Nn(this,Re).has(Ie))return(0,_e.warn)(`Optional content group not found: ${Ie}`),!0;if(Nn(this,Re).get(Ie).visible)return!0}return!1}else if(Be.policy==="AllOn"){for(const Ie of Be.ids){if(!Nn(this,Re).has(Ie))return(0,_e.warn)(`Optional content group not found: ${Ie}`),!0;if(!Nn(this,Re).get(Ie).visible)return!1}return!0}else if(Be.policy==="AnyOff"){for(const Ie of Be.ids){if(!Nn(this,Re).has(Ie))return(0,_e.warn)(`Optional content group not found: ${Ie}`),!0;if(!Nn(this,Re).get(Ie).visible)return!0}return!1}else if(Be.policy==="AllOff"){for(const Ie of Be.ids){if(!Nn(this,Re).has(Ie))return(0,_e.warn)(`Optional content group not found: ${Ie}`),!0;if(Nn(this,Re).get(Ie).visible)return!1}return!0}return(0,_e.warn)(`Unknown optional content policy ${Be.policy}.`),!0}return(0,_e.warn)(`Unknown group type ${Be.type}.`),!0}setVisibility(Be,Ie=!0){if(!Nn(this,Re).has(Be)){(0,_e.warn)(`Optional content group not found: ${Be}`);return}Nn(this,Re).get(Be)._setVisible(Se,!!Ie),bi(this,Ce,null)}get hasInitialVisibility(){return this.getHash()===Nn(this,Ue)}getOrder(){return Nn(this,Re).size?Nn(this,De)?Nn(this,De).slice():[...Nn(this,Re).keys()]:null}getGroups(){return Nn(this,Re).size>0?(0,_e.objectFromMap)(Nn(this,Re)):null}getGroup(Be){return Nn(this,Re).get(Be)||null}getHash(){if(Nn(this,Ce)!==null)return Nn(this,Ce);const Be=new Ae.MurmurHash3_64;for(const[Ie,qe]of Nn(this,Re))Be.update(`${Ie}:${qe.visible}`);return bi(this,Ce,Be.hexdigest())}}Ce=new WeakMap,Re=new WeakMap,Ue=new WeakMap,De=new WeakMap,ke=new WeakSet,ql=function(Be){const Ie=Be.length;if(Ie<2)return!0;const qe=Be[0];for(let je=1;je<Ie;je++){const ze=Be[je];let Ve;if(Array.isArray(ze))Ve=ii(this,ke,ql).call(this,ze);else if(Nn(this,Re).has(ze))Ve=Nn(this,Re).get(ze).visible;else return(0,_e.warn)(`Optional content group not found: ${ze}`),!0;switch(qe){case"And":if(!Ve)return!1;break;case"Or":if(Ve)return!0;break;case"Not":return!Ve;default:return!0}}return qe==="And"},t.OptionalContentConfig=xe},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var _e=r(1),Ae=r(6);class Se{constructor(Ce,Re){(0,_e.assert)(Re,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ce.progressiveDone||!1,this._contentDispositionFilename=Ce.contentDispositionFilename||null;const Ue=Ce.initialData;if((Ue==null?void 0:Ue.length)>0){const De=new Uint8Array(Ue).buffer;this._queuedChunks.push(De)}this._pdfDataRangeTransport=Re,this._isStreamingSupported=!Ce.disableStream,this._isRangeSupported=!Ce.disableRange,this._contentLength=Ce.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((De,ke)=>{this._onReceiveData({begin:De,chunk:ke})}),this._pdfDataRangeTransport.addProgressListener((De,ke)=>{this._onProgress({loaded:De,total:ke})}),this._pdfDataRangeTransport.addProgressiveReadListener(De=>{this._onReceiveData({chunk:De})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(Ce){const Re=new Uint8Array(Ce.chunk).buffer;if(Ce.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Re):this._queuedChunks.push(Re);else{const Ue=this._rangeReaders.some(function(De){return De._begin!==Ce.begin?!1:(De._enqueue(Re),!0)});(0,_e.assert)(Ue,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Ce,Re;return(Re=(Ce=this._fullRequestReader)==null?void 0:Ce._loaded)!=null?Re:0}_onProgress(Ce){var Re,Ue,De,ke;Ce.total===void 0?(Ue=(Re=this._rangeReaders[0])==null?void 0:Re.onProgress)==null||Ue.call(Re,{loaded:Ce.loaded}):(ke=(De=this._fullRequestReader)==null?void 0:De.onProgress)==null||ke.call(De,{loaded:Ce.loaded,total:Ce.total})}_onProgressiveDone(){var Ce;(Ce=this._fullRequestReader)==null||Ce.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Ce){const Re=this._rangeReaders.indexOf(Ce);Re>=0&&this._rangeReaders.splice(Re,1)}getFullReader(){(0,_e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Ce=this._queuedChunks;return this._queuedChunks=null,new Ee(this,Ce,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Ce,Re){if(Re<=this._progressiveDataLength)return null;const Ue=new xe(this,Ce,Re);return this._pdfDataRangeTransport.requestDataRange(Ce,Re),this._rangeReaders.push(Ue),Ue}cancelAllRequests(Ce){var Re;(Re=this._fullRequestReader)==null||Re.cancel(Ce);for(const Ue of this._rangeReaders.slice(0))Ue.cancel(Ce);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=Se;class Ee{constructor(Ce,Re,Ue=!1,De=null){this._stream=Ce,this._done=Ue||!1,this._filename=(0,Ae.isPdfFile)(De)?De:null,this._queuedChunks=Re||[],this._loaded=0;for(const ke of this._queuedChunks)this._loaded+=ke.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Ce._fullRequestReader=this,this.onProgress=null}_enqueue(Ce){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Ce,done:!1}):this._queuedChunks.push(Ce),this._loaded+=Ce.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ce=(0,_e.createPromiseCapability)();return this._requests.push(Ce),Ce.promise}cancel(Ce){this._done=!0;for(const Re of this._requests)Re.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class xe{constructor(Ce,Re,Ue){this._stream=Ce,this._begin=Re,this._end=Ue,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Ce){if(!this._done){if(this._requests.length===0)this._queuedChunk=Ce;else{this._requests.shift().resolve({value:Ce,done:!1});for(const Ue of this._requests)Ue.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const Re=this._queuedChunk;return this._queuedChunk=null,{value:Re,done:!1}}if(this._done)return{value:void 0,done:!0};const Ce=(0,_e.createPromiseCapability)();return this._requests.push(Ce),Ce.promise}cancel(Ce){this._done=!0;for(const Re of this._requests)Re.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class r{static textContent(Ae){const Se=[],Ee={items:Se,styles:Object.create(null)};function xe(Te){var Ue;if(!Te)return;let Ce=null;const Re=Te.name;if(Re==="#text")Ce=Te.value;else if(r.shouldBuildText(Re))(Ue=Te==null?void 0:Te.attributes)!=null&&Ue.textContent?Ce=Te.attributes.textContent:Te.value&&(Ce=Te.value);else return;if(Ce!==null&&Se.push({str:Ce}),!!Te.children)for(const De of Te.children)xe(De)}return xe(Ae),Ee}static shouldBuildText(Ae){return!(Ae==="textarea"||Ae==="input"||Ae==="option"||Ae==="select")}}t.XfaText=r},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var _e=r(7);const Ae=function(Te){return new Promise((Ce,Re)=>{require$$5.readFile(Te,(De,ke)=>{if(De||!ke){Re(new Error(De));return}Ce(new Uint8Array(ke))})})};class Se extends _e.BaseCanvasFactory{_createCanvas(Ce,Re){return require$$5.createCanvas(Ce,Re)}}t.NodeCanvasFactory=Se;class Ee extends _e.BaseCMapReaderFactory{_fetchData(Ce,Re){return Ae(Ce).then(Ue=>({cMapData:Ue,compressionType:Re}))}}t.NodeCMapReaderFactory=Ee;class xe extends _e.BaseStandardFontDataFactory{_fetchData(Ce){return Ae(Ce)}}t.NodeStandardFontDataFactory=xe},(e,t,r)=>{var Te,Ce,Re,Ue,De,ke,Me,Oe,Be,Hl,qe,Zc,ze,zl,He,eu;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var _e=r(5),Ae=r(1),Se=r(22),Ee=r(23);const Je=class{constructor(an){ei(this,Be);ei(this,qe);ei(this,ze);ei(this,He);ei(this,Te,void 0);ei(this,Ce,!1);ei(this,Re,this.pointerup.bind(this));ei(this,Ue,this.pointerdown.bind(this));ei(this,De,new Map);ei(this,ke,!1);ei(this,Me,!1);ei(this,Oe,void 0);Je._initialized||(Je._initialized=!0,Se.FreeTextEditor.initialize(an.l10n),Ee.InkEditor.initialize(an.l10n)),an.uiManager.registerEditorTypes([Se.FreeTextEditor,Ee.InkEditor]),bi(this,Oe,an.uiManager),this.annotationStorage=an.annotationStorage,this.pageIndex=an.pageIndex,this.div=an.div,bi(this,Te,an.accessibilityManager),Nn(this,Oe).addLayer(this)}updateToolbar(an){Nn(this,Oe).updateToolbar(an)}updateMode(an=Nn(this,Oe).getMode()){ii(this,He,eu).call(this),an===Ae.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Nn(this,Oe).unselectAll(),this.div.classList.toggle("freeTextEditing",an===Ae.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",an===Ae.AnnotationEditorType.INK)}addInkEditorIfNeeded(an){if(!an&&Nn(this,Oe).getMode()!==Ae.AnnotationEditorType.INK)return;if(!an){for(const rn of Nn(this,De).values())if(rn.isEmpty()){rn.setInBackground();return}}ii(this,ze,zl).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(an){Nn(this,Oe).setEditingState(an)}addCommands(an){Nn(this,Oe).addCommands(an)}enable(){this.div.style.pointerEvents="auto";for(const an of Nn(this,De).values())an.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const an of Nn(this,De).values())an.disableEditing()}setActiveEditor(an){Nn(this,Oe).getActive()!==an&&Nn(this,Oe).setActiveEditor(an)}enableClick(){this.div.addEventListener("pointerdown",Nn(this,Ue)),this.div.addEventListener("pointerup",Nn(this,Re))}disableClick(){this.div.removeEventListener("pointerdown",Nn(this,Ue)),this.div.removeEventListener("pointerup",Nn(this,Re))}attach(an){Nn(this,De).set(an.id,an)}detach(an){var Ke;Nn(this,De).delete(an.id),(Ke=Nn(this,Te))==null||Ke.removePointerInTextLayer(an.contentDiv)}remove(an){Nn(this,Oe).removeEditor(an),this.detach(an),this.annotationStorage.remove(an.id),an.div.style.display="none",setTimeout(()=>{an.div.style.display="",an.div.remove(),an.isAttachedToDOM=!1,document.activeElement===document.body&&Nn(this,Oe).focusMainContainer()},0),Nn(this,Me)||this.addInkEditorIfNeeded(!1)}add(an){if(ii(this,Be,Hl).call(this,an),Nn(this,Oe).addEditor(an),this.attach(an),!an.isAttachedToDOM){const Ke=an.render();this.div.append(Ke),an.isAttachedToDOM=!0}this.moveEditorInDOM(an),an.onceAdded(),this.addToAnnotationStorage(an)}moveEditorInDOM(an){var Ke;(Ke=Nn(this,Te))==null||Ke.moveElementInDOM(this.div,an.div,an.contentDiv,!0)}addToAnnotationStorage(an){!an.isEmpty()&&!this.annotationStorage.has(an.id)&&this.annotationStorage.setValue(an.id,an)}addOrRebuild(an){an.needsToBeRebuilt()?an.rebuild():this.add(an)}addANewEditor(an){const Ke=()=>{this.addOrRebuild(an)},rn=()=>{an.remove()};this.addCommands({cmd:Ke,undo:rn,mustExec:!0})}addUndoableEditor(an){const Ke=()=>{this.addOrRebuild(an)},rn=()=>{an.remove()};this.addCommands({cmd:Ke,undo:rn,mustExec:!1})}getNextId(){return Nn(this,Oe).getId()}deserialize(an){switch(an.annotationType){case Ae.AnnotationEditorType.FREETEXT:return Se.FreeTextEditor.deserialize(an,this);case Ae.AnnotationEditorType.INK:return Ee.InkEditor.deserialize(an,this)}return null}setSelected(an){Nn(this,Oe).setSelected(an)}toggleSelected(an){Nn(this,Oe).toggleSelected(an)}isSelected(an){return Nn(this,Oe).isSelected(an)}unselect(an){Nn(this,Oe).unselect(an)}pointerup(an){const Ke=_e.KeyboardManager.platform.isMac;if(!(an.button!==0||an.ctrlKey&&Ke)&&an.target===this.div&&!!Nn(this,ke)){if(bi(this,ke,!1),!Nn(this,Ce)){bi(this,Ce,!0);return}ii(this,ze,zl).call(this,an)}}pointerdown(an){const Ke=_e.KeyboardManager.platform.isMac;if(an.button!==0||an.ctrlKey&&Ke||an.target!==this.div)return;bi(this,ke,!0);const rn=Nn(this,Oe).getActive();bi(this,Ce,!rn||rn.isEmpty())}drop(an){const Ke=an.dataTransfer.getData("text/plain"),rn=Nn(this,Oe).getEditor(Ke);if(!rn)return;an.preventDefault(),an.dataTransfer.dropEffect="move",ii(this,Be,Hl).call(this,rn);const Cn=this.div.getBoundingClientRect(),Sn=an.clientX-Cn.x,fn=an.clientY-Cn.y;rn.translate(Sn-rn.startX,fn-rn.startY),this.moveEditorInDOM(rn),rn.div.focus()}dragover(an){an.preventDefault()}destroy(){var an,Ke;((an=Nn(this,Oe).getActive())==null?void 0:an.parent)===this&&Nn(this,Oe).setActiveEditor(null);for(const rn of Nn(this,De).values())(Ke=Nn(this,Te))==null||Ke.removePointerInTextLayer(rn.contentDiv),rn.isAttachedToDOM=!1,rn.div.remove(),rn.parent=null;this.div=null,Nn(this,De).clear(),Nn(this,Oe).removeLayer(this)}render(an){this.viewport=an.viewport,(0,_e.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Ke of Nn(this,Oe).getEditors(this.pageIndex))this.add(Ke);this.updateMode()}update(an){Nn(this,Oe).commitOrRemove(),this.viewport=an.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[an,Ke,rn,Cn]=this.viewport.viewBox,Sn=rn-an,fn=Cn-Ke;return[Sn,fn]}get viewportBaseDimensions(){const{width:an,height:Ke,rotation:rn}=this.viewport;return rn%180===0?[an,Ke]:[Ke,an]}setDimensions(){const{width:an,height:Ke,rotation:rn}=this.viewport,Cn=rn%180!==0,Sn=Math.floor(an)+"px",fn=Math.floor(Ke)+"px";this.div.style.width=Cn?fn:Sn,this.div.style.height=Cn?Sn:fn,this.div.setAttribute("data-main-rotation",rn)}};let xe=Je;Te=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Ue=new WeakMap,De=new WeakMap,ke=new WeakMap,Me=new WeakMap,Oe=new WeakMap,Be=new WeakSet,Hl=function(an){var Ke;an.parent!==this&&(this.attach(an),an.pageIndex=this.pageIndex,(Ke=an.parent)==null||Ke.detach(an),an.parent=this,an.div&&an.isAttachedToDOM&&(an.div.remove(),this.div.append(an.div)))},qe=new WeakSet,Zc=function(an){switch(Nn(this,Oe).getMode()){case Ae.AnnotationEditorType.FREETEXT:return new Se.FreeTextEditor(an);case Ae.AnnotationEditorType.INK:return new Ee.InkEditor(an)}return null},ze=new WeakSet,zl=function(an){const Ke=this.getNextId(),rn=ii(this,qe,Zc).call(this,{parent:this,id:Ke,x:an.offsetX,y:an.offsetY});return rn&&this.add(rn),rn},He=new WeakSet,eu=function(){bi(this,Me,!0);for(const an of Nn(this,De).values())an.isEmpty()&&an.remove();bi(this,Me,!1)},hr(xe,"_initialized",!1),t.AnnotationEditorLayer=xe},(e,t,r)=>{var xe,Te,Ce,Re,Ue,De,ke,Me,Oe,Be,tu,qe,nu,ze,iu,He,Wl;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var _e=r(1),Ae=r(5),Se=r(4);const Je=class extends Se.AnnotationEditor{constructor(Ke){super({...Ke,name:"freeTextEditor"});ei(this,Be);ei(this,qe);ei(this,ze);ei(this,He);ei(this,xe,this.editorDivBlur.bind(this));ei(this,Te,this.editorDivFocus.bind(this));ei(this,Ce,this.editorDivInput.bind(this));ei(this,Re,this.editorDivKeydown.bind(this));ei(this,Ue,void 0);ei(this,De,"");ei(this,ke,`${this.id}-editor`);ei(this,Me,!1);ei(this,Oe,void 0);bi(this,Ue,Ke.color||Je._defaultColor||Se.AnnotationEditor._defaultLineColor),bi(this,Oe,Ke.fontSize||Je._defaultFontSize)}static initialize(Ke){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Cn=>[Cn,Ke.get(Cn)]));const rn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(rn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ke,rn){switch(Ke){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:Je._defaultFontSize=rn;break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:Je._defaultColor=rn;break}}updateParams(Ke,rn){switch(Ke){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:ii(this,Be,tu).call(this,rn);break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:ii(this,qe,nu).call(this,rn);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,Je._defaultFontSize],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,Je._defaultColor||Se.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,Nn(this,Oe)],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,Nn(this,Ue)]]}getInitialTranslation(){return[-Je._internalPadding*this.parent.scaleFactor,-(Je._internalPadding+Nn(this,Oe))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_e.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Nn(this,Re)),this.editorDiv.addEventListener("focus",Nn(this,Te)),this.editorDiv.addEventListener("blur",Nn(this,xe)),this.editorDiv.addEventListener("input",Nn(this,Ce)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Nn(this,ke)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",Nn(this,Re)),this.editorDiv.removeEventListener("focus",Nn(this,Te)),this.editorDiv.removeEventListener("blur",Nn(this,xe)),this.editorDiv.removeEventListener("input",Nn(this,Ce)),this.div.focus(),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ke){super.focusin(Ke),Ke.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){super.commit(),Nn(this,Me)||(bi(this,Me,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),bi(this,De,ii(this,ze,iu).call(this).trimEnd()),ii(this,He,Wl).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Ke){this.enableEditMode(),this.editorDiv.focus()}keydown(Ke){Ke.target===this.div&&Ke.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Ke){Je._keyboardManager.exec(this,Ke)}editorDivFocus(Ke){this.isEditing=!0}editorDivBlur(Ke){this.isEditing=!1}editorDivInput(Ke){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ke,rn;this.width&&(Ke=this.x,rn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Nn(this,ke)),this.enableEditing(),Je._l10nPromise.get("editor_free_text2_aria_label").then(Sn=>{var fn;return(fn=this.editorDiv)==null?void 0:fn.setAttribute("aria-label",Sn)}),Je._l10nPromise.get("free_text2_default_content").then(Sn=>{var fn;return(fn=this.editorDiv)==null?void 0:fn.setAttribute("default-content",Sn)}),this.editorDiv.contentEditable=!0;const{style:Cn}=this.editorDiv;if(Cn.fontSize=`calc(${Nn(this,Oe)}px * var(--scale-factor))`,Cn.color=Nn(this,Ue),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Ae.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Sn,fn]=this.parent.viewportBaseDimensions;this.setAt(Ke*Sn,rn*fn,this.width*Sn,this.height*fn);for(const gn of Nn(this,De).split(`
`)){const vn=document.createElement("div");vn.append(gn?document.createTextNode(gn):document.createElement("br")),this.editorDiv.append(vn)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ke,rn){const Cn=super.deserialize(Ke,rn);return bi(Cn,Oe,Ke.fontSize),bi(Cn,Ue,_e.Util.makeHexColor(...Ke.color)),bi(Cn,De,Ke.value),Cn}serialize(){if(this.isEmpty())return null;const Ke=Je._internalPadding*this.parent.scaleFactor,rn=this.getRect(Ke,Ke),Cn=Se.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:_e.AnnotationEditorType.FREETEXT,color:Cn,fontSize:Nn(this,Oe),value:Nn(this,De),pageIndex:this.parent.pageIndex,rect:rn,rotation:this.rotation}}};let Ee=Je;xe=new WeakMap,Te=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Ue=new WeakMap,De=new WeakMap,ke=new WeakMap,Me=new WeakMap,Oe=new WeakMap,Be=new WeakSet,tu=function(Ke){const rn=Sn=>{this.editorDiv.style.fontSize=`calc(${Sn}px * var(--scale-factor))`,this.translate(0,-(Sn-Nn(this,Oe))*this.parent.scaleFactor),bi(this,Oe,Sn),ii(this,He,Wl).call(this)},Cn=Nn(this,Oe);this.parent.addCommands({cmd:()=>{rn(Ke)},undo:()=>{rn(Cn)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},qe=new WeakSet,nu=function(Ke){const rn=Nn(this,Ue);this.parent.addCommands({cmd:()=>{bi(this,Ue,Ke),this.editorDiv.style.color=Ke},undo:()=>{bi(this,Ue,rn),this.editorDiv.style.color=rn},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ze=new WeakSet,iu=function(){const Ke=this.editorDiv.getElementsByTagName("div");if(Ke.length===0)return this.editorDiv.innerText;const rn=[];for(const Cn of Ke){const Sn=Cn.firstChild;(Sn==null?void 0:Sn.nodeName)==="#text"?rn.push(Sn.data):rn.push("")}return rn.join(`
`)},He=new WeakSet,Wl=function(){const[Ke,rn]=this.parent.viewportBaseDimensions,Cn=this.div.getBoundingClientRect();this.width=Cn.width/Ke,this.height=Cn.height/rn},hr(Ee,"_freeTextDefaultContent",""),hr(Ee,"_l10nPromise"),hr(Ee,"_internalPadding",0),hr(Ee,"_defaultColor",null),hr(Ee,"_defaultFontSize",10),hr(Ee,"_keyboardManager",new Ae.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Je.prototype.commitOrRemove]])),hr(Ee,"_type","freetext"),t.FreeTextEditor=Ee},(e,t,r)=>{var Re,Ue,De,ke,Me,Oe,Be,Ie,qe,je,ze,Ve,He,Qe,Je,ru,an,su,rn,au,Sn,ou,gn,Gl,pn,lu,Hn,cu,Ze,uu,Ye,ns,on,$l,bn,Oo,Vn,Do,un,ua,St,Xl,$e,Bo,En,Yl,Pn,hu,nn,du,_n,fu,$n,Kl,jn,jo,li,ha,Ni,Jl;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return Se.fitCurve}});var _e=r(1),Ae=r(4),Se=r(24),Ee=r(5);const xe=16,Te=100,Li=class extends Ae.AnnotationEditor{constructor(In){super({...In,name:"inkEditor"});ei(this,Je);ei(this,an);ei(this,rn);ei(this,Sn);ei(this,gn);ei(this,pn);ei(this,Hn);ei(this,Ze);ei(this,Ye);ei(this,on);ei(this,bn);ei(this,Vn);ei(this,un);ei(this,St);ei(this,$e);ei(this,Pn);ei(this,nn);ei(this,_n);ei(this,$n);ei(this,jn);ei(this,li);ei(this,Ni);ei(this,Re,0);ei(this,Ue,0);ei(this,De,0);ei(this,ke,this.canvasPointermove.bind(this));ei(this,Me,this.canvasPointerleave.bind(this));ei(this,Oe,this.canvasPointerup.bind(this));ei(this,Be,this.canvasPointerdown.bind(this));ei(this,Ie,!1);ei(this,qe,!1);ei(this,je,null);ei(this,ze,null);ei(this,Ve,0);ei(this,He,0);ei(this,Qe,null);this.color=In.color||null,this.thickness=In.thickness||null,this.opacity=In.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(In){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(Rn=>[Rn,In.get(Rn)]))}static updateDefaultParams(In,Rn){switch(In){case _e.AnnotationEditorParamsType.INK_THICKNESS:Li._defaultThickness=Rn;break;case _e.AnnotationEditorParamsType.INK_COLOR:Li._defaultColor=Rn;break;case _e.AnnotationEditorParamsType.INK_OPACITY:Li._defaultOpacity=Rn/100;break}}updateParams(In,Rn){switch(In){case _e.AnnotationEditorParamsType.INK_THICKNESS:ii(this,Je,ru).call(this,Rn);break;case _e.AnnotationEditorParamsType.INK_COLOR:ii(this,an,su).call(this,Rn);break;case _e.AnnotationEditorParamsType.INK_OPACITY:ii(this,rn,au).call(this,Rn);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,Li._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,Li._defaultColor||Ae.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(Li._defaultOpacity*100)]]}get propertiesToUpdate(){var In;return[[_e.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Li._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,this.color||Li._defaultColor||Ae.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((In=this.opacity)!=null?In:Li._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ii(this,bn,Oo).call(this),ii(this,Vn,Do).call(this)),this.isAttachedToDOM||(this.parent.add(this),ii(this,un,ua).call(this)),ii(this,li,ha).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Nn(this,ze).disconnect(),bi(this,ze,null),super.remove())}enableEditMode(){Nn(this,Ie)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",Nn(this,Be)),this.canvas.addEventListener("pointerup",Nn(this,Oe)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Nn(this,Be)),this.canvas.removeEventListener("pointerup",Nn(this,Oe)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Nn(this,Ie)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),bi(this,Ie,!0),this.div.classList.add("disabled"),ii(this,li,ha).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(In){super.focusin(In),this.enableEditMode()}canvasPointerdown(In){In.button!==0||!this.isInEditMode()||Nn(this,Ie)||(this.setInForeground(),In.type!=="mouse"&&this.div.focus(),In.stopPropagation(),this.canvas.addEventListener("pointerleave",Nn(this,Me)),this.canvas.addEventListener("pointermove",Nn(this,ke)),ii(this,pn,lu).call(this,In.offsetX,In.offsetY))}canvasPointermove(In){In.stopPropagation(),ii(this,Hn,cu).call(this,In.offsetX,In.offsetY)}canvasPointerup(In){In.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(In.stopPropagation(),ii(this,on,$l).call(this,In),this.setInBackground())}canvasPointerleave(In){ii(this,on,$l).call(this,In),this.setInBackground()}render(){if(this.div)return this.div;let In,Rn;this.width&&(In=this.x,Rn=this.y),super.render(),Li._l10nPromise.get("editor_ink2_aria_label").then(fi=>{var di;return(di=this.div)==null?void 0:di.setAttribute("aria-label",fi)});const[Un,ti,pi,Si]=ii(this,Sn,ou).call(this);if(this.setAt(Un,ti,0,0),this.setDims(pi,Si),ii(this,bn,Oo).call(this),this.width){const[fi,di]=this.parent.viewportBaseDimensions;this.setAt(In*fi,Rn*di,this.width*fi,this.height*di),bi(this,qe,!0),ii(this,un,ua).call(this),this.setDims(this.width*fi,this.height*di),ii(this,Ye,ns).call(this),ii(this,Ni,Jl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ii(this,Vn,Do).call(this),this.div}setDimensions(In,Rn){const Un=Math.round(In),ti=Math.round(Rn);if(Nn(this,Ve)===Un&&Nn(this,He)===ti)return;bi(this,Ve,Un),bi(this,He,ti),this.canvas.style.visibility="hidden",Nn(this,Re)&&Math.abs(Nn(this,Re)-In/Rn)>.01&&(Rn=Math.ceil(In/Nn(this,Re)),this.setDims(In,Rn));const[pi,Si]=this.parent.viewportBaseDimensions;this.width=In/pi,this.height=Rn/Si,Nn(this,Ie)&&ii(this,St,Xl).call(this,In,Rn),ii(this,un,ua).call(this),ii(this,Ye,ns).call(this),this.canvas.style.visibility="visible"}static deserialize(In,Rn){var Fi,Oi;const Un=super.deserialize(In,Rn);Un.thickness=In.thickness,Un.color=_e.Util.makeHexColor(...In.color),Un.opacity=In.opacity;const[ti,pi]=Rn.pageDimensions,Si=Un.width*ti,fi=Un.height*pi,di=Rn.scaleFactor,wi=In.thickness/2;bi(Un,Re,Si/fi),bi(Un,Ie,!0),bi(Un,Ve,Math.round(Si)),bi(Un,He,Math.round(fi));for(const{bezier:Ii}of In.paths){const xi=[];Un.paths.push(xi);let Bi=di*(Ii[0]-wi),Qi=di*(fi-Ii[1]-wi);for(let Hi=2,Ui=Ii.length;Hi<Ui;Hi+=6){const ir=di*(Ii[Hi]-wi),tr=di*(fi-Ii[Hi+1]-wi),Ji=di*(Ii[Hi+2]-wi),Yi=di*(fi-Ii[Hi+3]-wi),rr=di*(Ii[Hi+4]-wi),vr=di*(fi-Ii[Hi+5]-wi);xi.push([[Bi,Qi],[ir,tr],[Ji,Yi],[rr,vr]]),Bi=rr,Qi=vr}const Xi=ii(this,En,Yl).call(this,xi);Un.bezierPath2D.push(Xi)}const Ri=ii(Fi=Un,$n,Kl).call(Fi);return bi(Un,De,Math.max(xe,Ri[2]-Ri[0])),bi(Un,Ue,Math.max(xe,Ri[3]-Ri[1])),ii(Oi=Un,St,Xl).call(Oi,Si,fi),Un}serialize(){if(this.isEmpty())return null;const In=this.getRect(0,0),Rn=this.rotation%180===0?In[3]-In[1]:In[2]-In[0],Un=Ae.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_e.AnnotationEditorType.INK,color:Un,thickness:this.thickness,opacity:this.opacity,paths:ii(this,Pn,hu).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Rn),pageIndex:this.parent.pageIndex,rect:In,rotation:this.rotation}}};let Ce=Li;Re=new WeakMap,Ue=new WeakMap,De=new WeakMap,ke=new WeakMap,Me=new WeakMap,Oe=new WeakMap,Be=new WeakMap,Ie=new WeakMap,qe=new WeakMap,je=new WeakMap,ze=new WeakMap,Ve=new WeakMap,He=new WeakMap,Qe=new WeakMap,Je=new WeakSet,ru=function(In){const Rn=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=In,ii(this,li,ha).call(this)},undo:()=>{this.thickness=Rn,ii(this,li,ha).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},an=new WeakSet,su=function(In){const Rn=this.color;this.parent.addCommands({cmd:()=>{this.color=In,ii(this,Ye,ns).call(this)},undo:()=>{this.color=Rn,ii(this,Ye,ns).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rn=new WeakSet,au=function(In){In/=100;const Rn=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=In,ii(this,Ye,ns).call(this)},undo:()=>{this.opacity=Rn,ii(this,Ye,ns).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Sn=new WeakSet,ou=function(){const{width:In,height:Rn,rotation:Un}=this.parent.viewport;switch(Un){case 90:return[0,In,In,Rn];case 180:return[In,Rn,In,Rn];case 270:return[Rn,0,In,Rn];default:return[0,0,In,Rn]}},gn=new WeakSet,Gl=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,Ee.opacityToHex)(this.opacity)}`},pn=new WeakSet,lu=function(In,Rn){var Un;this.isEditing=!0,Nn(this,qe)||(bi(this,qe,!0),ii(this,un,ua).call(this),this.thickness||(this.thickness=Li._defaultThickness),this.color||(this.color=Li._defaultColor||Ae.AnnotationEditor._defaultLineColor),(Un=this.opacity)!=null||(this.opacity=Li._defaultOpacity)),this.currentPath.push([In,Rn]),bi(this,je,null),ii(this,gn,Gl).call(this),this.ctx.beginPath(),this.ctx.moveTo(In,Rn),bi(this,Qe,()=>{!Nn(this,Qe)||(Nn(this,je)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ii(this,Ye,ns).call(this),this.ctx.lineTo(...Nn(this,je)),bi(this,je,null),this.ctx.stroke()),window.requestAnimationFrame(Nn(this,Qe)))}),window.requestAnimationFrame(Nn(this,Qe))},Hn=new WeakSet,cu=function(In,Rn){const[Un,ti]=this.currentPath.at(-1);In===Un&&Rn===ti||(this.currentPath.push([In,Rn]),bi(this,je,[In,Rn]))},Ze=new WeakSet,uu=function(In,Rn){var wi;this.ctx.closePath(),bi(this,Qe,null),In=Math.min(Math.max(In,0),this.canvas.width),Rn=Math.min(Math.max(Rn,0),this.canvas.height);const[Un,ti]=this.currentPath.at(-1);(In!==Un||Rn!==ti)&&this.currentPath.push([In,Rn]);let pi;if(this.currentPath.length!==1)pi=(0,Se.fitCurve)(this.currentPath,30,null);else{const Ri=[In,Rn];pi=[[Ri,Ri.slice(),Ri.slice(),Ri]]}const Si=ii(wi=Li,En,Yl).call(wi,pi);this.currentPath.length=0;const fi=()=>{this.paths.push(pi),this.bezierPath2D.push(Si),this.rebuild()},di=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ii(this,bn,Oo).call(this),ii(this,Vn,Do).call(this)),ii(this,li,ha).call(this))};this.parent.addCommands({cmd:fi,undo:di,mustExec:!0})},Ye=new WeakSet,ns=function(){if(this.isEmpty()){ii(this,$e,Bo).call(this);return}ii(this,gn,Gl).call(this);const{canvas:In,ctx:Rn}=this;Rn.setTransform(1,0,0,1,0,0),Rn.clearRect(0,0,In.width,In.height),ii(this,$e,Bo).call(this);for(const Un of this.bezierPath2D)Rn.stroke(Un)},on=new WeakSet,$l=function(In){ii(this,Ze,uu).call(this,In.offsetX,In.offsetY),this.canvas.removeEventListener("pointerleave",Nn(this,Me)),this.canvas.removeEventListener("pointermove",Nn(this,ke)),this.parent.addToAnnotationStorage(this)},bn=new WeakSet,Oo=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Li._l10nPromise.get("editor_ink_canvas_aria_label").then(In=>{var Rn;return(Rn=this.canvas)==null?void 0:Rn.setAttribute("aria-label",In)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Vn=new WeakSet,Do=function(){let In=null;bi(this,ze,new ResizeObserver(Rn=>{const Un=Rn[0].contentRect;Un.width&&Un.height&&(In!==null&&clearTimeout(In),In=setTimeout(()=>{this.fixDims(),In=null},Te),this.setDimensions(Un.width,Un.height))})),Nn(this,ze).observe(this.div)},un=new WeakSet,ua=function(){if(!Nn(this,qe))return;const[In,Rn]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*In),this.canvas.height=Math.ceil(this.height*Rn),ii(this,$e,Bo).call(this)},St=new WeakSet,Xl=function(In,Rn){const Un=ii(this,jn,jo).call(this),ti=(In-Un)/Nn(this,De),pi=(Rn-Un)/Nn(this,Ue);this.scaleFactor=Math.min(ti,pi)},$e=new WeakSet,Bo=function(){const In=ii(this,jn,jo).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+In,this.translationY*this.scaleFactor+In)},En=new WeakSet,Yl=function(In){const Rn=new Path2D;for(let Un=0,ti=In.length;Un<ti;Un++){const[pi,Si,fi,di]=In[Un];Un===0&&Rn.moveTo(...pi),Rn.bezierCurveTo(Si[0],Si[1],fi[0],fi[1],di[0],di[1])}return Rn},Pn=new WeakSet,hu=function(In,Rn,Un,ti){const Si=[],fi=this.thickness/2;let di,wi;for(const Ri of this.paths){di=[],wi=[];for(let Fi=0,Oi=Ri.length;Fi<Oi;Fi++){const[Ii,xi,Bi,Qi]=Ri[Fi],Xi=In*(Ii[0]+Rn)+fi,Hi=ti-In*(Ii[1]+Un)-fi,Ui=In*(xi[0]+Rn)+fi,ir=ti-In*(xi[1]+Un)-fi,tr=In*(Bi[0]+Rn)+fi,Ji=ti-In*(Bi[1]+Un)-fi,Yi=In*(Qi[0]+Rn)+fi,rr=ti-In*(Qi[1]+Un)-fi;Fi===0&&(di.push(Xi,Hi),wi.push(Xi,Hi)),di.push(Ui,ir,tr,Ji,Yi,rr),ii(this,nn,du).call(this,Xi,Hi,Ui,ir,tr,Ji,Yi,rr,4,wi)}Si.push({bezier:di,points:wi})}return Si},nn=new WeakSet,du=function(In,Rn,Un,ti,pi,Si,fi,di,wi,Ri){if(ii(this,_n,fu).call(this,In,Rn,Un,ti,pi,Si,fi,di)){Ri.push(fi,di);return}for(let Fi=1;Fi<wi-1;Fi++){const Oi=Fi/wi,Ii=1-Oi;let xi=Oi*In+Ii*Un,Bi=Oi*Rn+Ii*ti,Qi=Oi*Un+Ii*pi,Xi=Oi*ti+Ii*Si;const Hi=Oi*pi+Ii*fi,Ui=Oi*Si+Ii*di;xi=Oi*xi+Ii*Qi,Bi=Oi*Bi+Ii*Xi,Qi=Oi*Qi+Ii*Hi,Xi=Oi*Xi+Ii*Ui,xi=Oi*xi+Ii*Qi,Bi=Oi*Bi+Ii*Xi,Ri.push(xi,Bi)}Ri.push(fi,di)},_n=new WeakSet,fu=function(In,Rn,Un,ti,pi,Si,fi,di){const Ri=(3*Un-2*In-fi)**2,Fi=(3*ti-2*Rn-di)**2,Oi=(3*pi-In-2*fi)**2,Ii=(3*Si-Rn-2*di)**2;return Math.max(Ri,Oi)+Math.max(Fi,Ii)<=10},$n=new WeakSet,Kl=function(){let In=1/0,Rn=-1/0,Un=1/0,ti=-1/0;for(const pi of this.paths)for(const[Si,fi,di,wi]of pi){const Ri=_e.Util.bezierBoundingBox(...Si,...fi,...di,...wi);In=Math.min(In,Ri[0]),Un=Math.min(Un,Ri[1]),Rn=Math.max(Rn,Ri[2]),ti=Math.max(ti,Ri[3])}return[In,Un,Rn,ti]},jn=new WeakSet,jo=function(){return Nn(this,Ie)?Math.ceil(this.thickness*this.parent.scaleFactor):0},li=new WeakSet,ha=function(In=!1){if(this.isEmpty())return;if(!Nn(this,Ie)){ii(this,Ye,ns).call(this);return}const Rn=ii(this,$n,Kl).call(this),Un=ii(this,jn,jo).call(this);bi(this,De,Math.max(xe,Rn[2]-Rn[0])),bi(this,Ue,Math.max(xe,Rn[3]-Rn[1]));const ti=Math.ceil(Un+Nn(this,De)*this.scaleFactor),pi=Math.ceil(Un+Nn(this,Ue)*this.scaleFactor),[Si,fi]=this.parent.viewportBaseDimensions;this.width=ti/Si,this.height=pi/fi,bi(this,Re,ti/pi),ii(this,Ni,Jl).call(this);const di=this.translationX,wi=this.translationY;this.translationX=-Rn[0],this.translationY=-Rn[1],ii(this,un,ua).call(this),ii(this,Ye,ns).call(this),bi(this,Ve,ti),bi(this,He,pi),this.setDims(ti,pi);const Ri=In?Un/this.scaleFactor/2:0;this.translate(di-this.translationX-Ri,wi-this.translationY-Ri)},Ni=new WeakSet,Jl=function(){const{style:In}=this.div;Nn(this,Re)>=1?(In.minHeight=`${xe}px`,In.minWidth=`${Math.round(Nn(this,Re)*xe)}px`):(In.minWidth=`${xe}px`,In.minHeight=`${Math.round(xe/Nn(this,Re))}px`)},ei(Ce,En),hr(Ce,"_defaultColor",null),hr(Ce,"_defaultOpacity",1),hr(Ce,"_defaultThickness",1),hr(Ce,"_l10nPromise"),hr(Ce,"_type","ink"),t.InkEditor=Ce},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;const _e=r(25);t.fitCurve=_e},e=>{function t(Me,Oe,Be){if(!Array.isArray(Me))throw new TypeError("First argument should be an array");if(Me.forEach(ze=>{if(!Array.isArray(ze)||ze.some(Ve=>typeof Ve!="number")||ze.length!==Me[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),Me=Me.filter((ze,Ve)=>Ve===0||!ze.every((He,Qe)=>He===Me[Ve-1][Qe])),Me.length<2)return[];const Ie=Me.length,qe=Ue(Me[1],Me[0]),je=Ue(Me[Ie-2],Me[Ie-1]);return r(Me,qe,je,Oe,Be)}function r(Me,Oe,Be,Ie,qe){var ze,Ve,He,Qe,Je,dn,an,Ke,rn,Cn,Sn,fn,gn;if(Me.length===2)return fn=De.vectorLen(De.subtract(Me[0],Me[1]))/3,ze=[Me[0],De.addArrays(Me[0],De.mulItems(Oe,fn)),De.addArrays(Me[1],De.mulItems(Be,fn)),Me[1]],[ze];if(Ve=xe(Me),[ze,Qe,dn]=_e(Me,Ve,Ve,Oe,Be,qe),Qe===0||Qe<Ie)return[ze];if(Qe<Ie*Ie)for(He=Ve,Je=Qe,an=dn,gn=0;gn<20;gn++){if(He=Se(ze,Me,He),[ze,Qe,dn]=_e(Me,Ve,He,Oe,Be,qe),Qe<Ie)return[ze];if(dn===an){let vn=Qe/Je;if(vn>.9999&&vn<1.0001)break}Je=Qe,an=dn}return Sn=[],Ke=De.subtract(Me[dn-1],Me[dn+1]),Ke.every(vn=>vn===0)&&(Ke=De.subtract(Me[dn-1],Me[dn]),[Ke[0],Ke[1]]=[-Ke[1],Ke[0]]),rn=De.normalize(Ke),Cn=De.mulItems(rn,-1),Sn=Sn.concat(r(Me.slice(0,dn+1),Oe,rn,Ie,qe)),Sn=Sn.concat(r(Me.slice(dn),Cn,Be,Ie,qe)),Sn}function _e(Me,Oe,Be,Ie,qe,je){var ze,Ve,He;return ze=Ae(Me,Be,Ie,qe),[Ve,He]=Te(Me,ze,Oe),je&&je({bez:ze,points:Me,params:Oe,maxErr:Ve,maxPoint:He}),[ze,Ve,He]}function Ae(Me,Oe,Be,Ie){var qe,je,ze,Ve,He,Qe,Je,dn,an,Ke,rn,Cn,Sn,fn,gn,vn,pn,On=Me[0],Hn=Me[Me.length-1];for(qe=[On,null,null,Hn],je=De.zeros_Xx2x2(Oe.length),Sn=0,fn=Oe.length;Sn<fn;Sn++)vn=Oe[Sn],pn=1-vn,ze=je[Sn],ze[0]=De.mulItems(Be,3*vn*(pn*pn)),ze[1]=De.mulItems(Ie,3*pn*(vn*vn));for(Ve=[[0,0],[0,0]],He=[0,0],Sn=0,fn=Me.length;Sn<fn;Sn++)vn=Oe[Sn],ze=je[Sn],Ve[0][0]+=De.dot(ze[0],ze[0]),Ve[0][1]+=De.dot(ze[0],ze[1]),Ve[1][0]+=De.dot(ze[0],ze[1]),Ve[1][1]+=De.dot(ze[1],ze[1]),gn=De.subtract(Me[Sn],ke.q([On,On,Hn,Hn],vn)),He[0]+=De.dot(ze[0],gn),He[1]+=De.dot(ze[1],gn);return Qe=Ve[0][0]*Ve[1][1]-Ve[1][0]*Ve[0][1],Je=Ve[0][0]*He[1]-Ve[1][0]*He[0],dn=He[0]*Ve[1][1]-He[1]*Ve[0][1],an=Qe===0?0:dn/Qe,Ke=Qe===0?0:Je/Qe,Cn=De.vectorLen(De.subtract(On,Hn)),rn=1e-6*Cn,an<rn||Ke<rn?(qe[1]=De.addArrays(On,De.mulItems(Be,Cn/3)),qe[2]=De.addArrays(Hn,De.mulItems(Ie,Cn/3))):(qe[1]=De.addArrays(On,De.mulItems(Be,an)),qe[2]=De.addArrays(Hn,De.mulItems(Ie,Ke))),qe}function Se(Me,Oe,Be){return Be.map((Ie,qe)=>Ee(Me,Oe[qe],Ie))}function Ee(Me,Oe,Be){var Ie=De.subtract(ke.q(Me,Be),Oe),qe=ke.qprime(Me,Be),je=De.mulMatrix(Ie,qe),ze=De.sum(De.squareItems(qe))+2*De.mulMatrix(Ie,ke.qprimeprime(Me,Be));return ze===0?Be:Be-je/ze}function xe(Me){var Oe=[],Be,Ie,qe;return Me.forEach((je,ze)=>{Be=ze?Ie+De.vectorLen(De.subtract(je,qe)):0,Oe.push(Be),Ie=Be,qe=je}),Oe=Oe.map(je=>je/Ie),Oe}function Te(Me,Oe,Be){var Ie,qe,je,ze,Ve,He,Qe,Je;qe=0,je=Math.floor(Me.length/2);const dn=Ce(Oe,10);for(Ve=0,He=Me.length;Ve<He;Ve++)Qe=Me[Ve],Je=Re(Oe,Be[Ve],dn,10),ze=De.subtract(ke.q(Oe,Je),Qe),Ie=ze[0]*ze[0]+ze[1]*ze[1],Ie>qe&&(qe=Ie,je=Ve);return[qe,je]}var Ce=function(Me,Oe){for(var Be,Ie=[0],qe=Me[0],je=0,ze=1;ze<=Oe;ze++)Be=ke.q(Me,ze/Oe),je+=De.vectorLen(De.subtract(Be,qe)),Ie.push(je),qe=Be;return Ie=Ie.map(Ve=>Ve/je),Ie};function Re(Me,Oe,Be,Ie){if(Oe<0)return 0;if(Oe>1)return 1;for(var qe,je,ze,Ve,He,Qe=1;Qe<=Ie;Qe++)if(Oe<=Be[Qe]){Ve=(Qe-1)/Ie,ze=Qe/Ie,je=Be[Qe-1],qe=Be[Qe],He=(Oe-je)/(qe-je)*(ze-Ve)+Ve;break}return He}function Ue(Me,Oe){return De.normalize(De.subtract(Me,Oe))}class De{static zeros_Xx2x2(Oe){for(var Be=[];Oe--;)Be.push([0,0]);return Be}static mulItems(Oe,Be){return Oe.map(Ie=>Ie*Be)}static mulMatrix(Oe,Be){return Oe.reduce((Ie,qe,je)=>Ie+qe*Be[je],0)}static subtract(Oe,Be){return Oe.map((Ie,qe)=>Ie-Be[qe])}static addArrays(Oe,Be){return Oe.map((Ie,qe)=>Ie+Be[qe])}static addItems(Oe,Be){return Oe.map(Ie=>Ie+Be)}static sum(Oe){return Oe.reduce((Be,Ie)=>Be+Ie)}static dot(Oe,Be){return De.mulMatrix(Oe,Be)}static vectorLen(Oe){return Math.hypot(...Oe)}static divItems(Oe,Be){return Oe.map(Ie=>Ie/Be)}static squareItems(Oe){return Oe.map(Be=>Be*Be)}static normalize(Oe){return this.divItems(Oe,this.vectorLen(Oe))}}class ke{static q(Oe,Be){var Ie=1-Be,qe=De.mulItems(Oe[0],Ie*Ie*Ie),je=De.mulItems(Oe[1],3*Ie*Ie*Be),ze=De.mulItems(Oe[2],3*Ie*Be*Be),Ve=De.mulItems(Oe[3],Be*Be*Be);return De.addArrays(De.addArrays(qe,je),De.addArrays(ze,Ve))}static qprime(Oe,Be){var Ie=1-Be,qe=De.mulItems(De.subtract(Oe[1],Oe[0]),3*Ie*Ie),je=De.mulItems(De.subtract(Oe[2],Oe[1]),6*Ie*Be),ze=De.mulItems(De.subtract(Oe[3],Oe[2]),3*Be*Be);return De.addArrays(De.addArrays(qe,je),ze)}static qprimeprime(Oe,Be){return De.addArrays(De.mulItems(De.addArrays(De.subtract(Oe[2],De.mulItems(Oe[1],2)),Oe[0]),6*(1-Be)),De.mulItems(De.addArrays(De.subtract(Oe[3],De.mulItems(Oe[2],2)),Oe[1]),6*Be))}}e.exports=t,e.exports.fitCubic=r,e.exports.createTangent=Ue},(e,t,r)=>{var Xe,pu,on,Ql,bn,Zl,Vn,ec;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var _e=r(1),Ae=r(6),Se=r(3),Ee=r(27),xe=r(28);const Te=1e3,Ce=9,Re=new WeakSet;function Ue(mn){return{width:mn[2]-mn[0],height:mn[3]-mn[1]}}class De{static create(St){switch(St.data.annotationType){case _e.AnnotationType.LINK:return new Me(St);case _e.AnnotationType.TEXT:return new Oe(St);case _e.AnnotationType.WIDGET:switch(St.data.fieldType){case"Tx":return new Ie(St);case"Btn":return St.data.radioButton?new je(St):St.data.checkBox?new qe(St):new ze(St);case"Ch":return new Ve(St)}return new Be(St);case _e.AnnotationType.POPUP:return new He(St);case _e.AnnotationType.FREETEXT:return new Je(St);case _e.AnnotationType.LINE:return new dn(St);case _e.AnnotationType.SQUARE:return new an(St);case _e.AnnotationType.CIRCLE:return new Ke(St);case _e.AnnotationType.POLYLINE:return new rn(St);case _e.AnnotationType.CARET:return new Sn(St);case _e.AnnotationType.INK:return new fn(St);case _e.AnnotationType.POLYGON:return new Cn(St);case _e.AnnotationType.HIGHLIGHT:return new gn(St);case _e.AnnotationType.UNDERLINE:return new vn(St);case _e.AnnotationType.SQUIGGLY:return new pn(St);case _e.AnnotationType.STRIKEOUT:return new On(St);case _e.AnnotationType.STAMP:return new Hn(St);case _e.AnnotationType.FILEATTACHMENT:return new Bn(St);default:return new ke(St)}}}class ke{constructor(St,{isRenderable:tn=!1,ignoreBorder:$e=!1,createQuadrilaterals:yn=!1}={}){this.isRenderable=tn,this.data=St.data,this.layer=St.layer,this.page=St.page,this.viewport=St.viewport,this.linkService=St.linkService,this.downloadManager=St.downloadManager,this.imageResourcesPath=St.imageResourcesPath,this.renderForms=St.renderForms,this.svgFactory=St.svgFactory,this.annotationStorage=St.annotationStorage,this.enableScripting=St.enableScripting,this.hasJSActions=St.hasJSActions,this._fieldObjects=St.fieldObjects,this._mouseState=St.mouseState,tn&&(this.container=this._createContainer($e)),yn&&(this.quadrilaterals=this._createQuadrilaterals($e))}_createContainer(St=!1){const tn=this.data,$e=this.page,yn=this.viewport,En=document.createElement("section"),{width:cn,height:Pn}=Ue(tn.rect),[Mn,nn,xn,_n]=yn.viewBox,zn=xn-Mn,$n=_n-nn;En.setAttribute("data-annotation-id",tn.id);const Yn=_e.Util.normalizeRect([tn.rect[0],$e.view[3]-tn.rect[1]+$e.view[1],tn.rect[2],$e.view[3]-tn.rect[3]+$e.view[1]]);if(!St&&tn.borderStyle.width>0){En.style.borderWidth=`${tn.borderStyle.width}px`;const Xn=tn.borderStyle.horizontalCornerRadius,li=tn.borderStyle.verticalCornerRadius;if(Xn>0||li>0){const Ni=`calc(${Xn}px * var(--scale-factor)) / calc(${li}px * var(--scale-factor))`;En.style.borderRadius=Ni}else if(this instanceof je){const Ni=`calc(${cn}px * var(--scale-factor)) / calc(${Pn}px * var(--scale-factor))`;En.style.borderRadius=Ni}switch(tn.borderStyle.style){case _e.AnnotationBorderStyleType.SOLID:En.style.borderStyle="solid";break;case _e.AnnotationBorderStyleType.DASHED:En.style.borderStyle="dashed";break;case _e.AnnotationBorderStyleType.BEVELED:(0,_e.warn)("Unimplemented border style: beveled");break;case _e.AnnotationBorderStyleType.INSET:(0,_e.warn)("Unimplemented border style: inset");break;case _e.AnnotationBorderStyleType.UNDERLINE:En.style.borderBottomStyle="solid";break}const oi=tn.borderColor||null;oi?En.style.borderColor=_e.Util.makeHexColor(oi[0]|0,oi[1]|0,oi[2]|0):En.style.borderWidth=0}En.style.left=`${100*(Yn[0]-Mn)/zn}%`,En.style.top=`${100*(Yn[1]-nn)/$n}%`;const{rotation:jn}=tn;return tn.hasOwnCanvas||jn===0?(En.style.width=`${100*cn/zn}%`,En.style.height=`${100*Pn/$n}%`):this.setRotation(jn,En),En}setRotation(St,tn=this.container){const[$e,yn,En,cn]=this.viewport.viewBox,Pn=En-$e,Mn=cn-yn,{width:nn,height:xn}=Ue(this.data.rect);let _n,zn;St%180===0?(_n=100*nn/Pn,zn=100*xn/Mn):(_n=100*xn/Pn,zn=100*nn/Mn),tn.style.width=`${_n}%`,tn.style.height=`${zn}%`,tn.setAttribute("data-main-rotation",(360-St)%360)}get _commonActions(){const St=(tn,$e,yn)=>{const En=yn.detail[tn];yn.target.style[$e]=Ee.ColorConverters[`${En[0]}_HTML`](En.slice(1))};return(0,_e.shadow)(this,"_commonActions",{display:tn=>{const $e=tn.detail.display%2===1;this.container.style.visibility=$e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:$e,print:tn.detail.display===0||tn.detail.display===3})},print:tn=>{this.annotationStorage.setValue(this.data.id,{print:tn.detail.print})},hidden:tn=>{this.container.style.visibility=tn.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:tn.detail.hidden})},focus:tn=>{setTimeout(()=>tn.target.focus({preventScroll:!1}),0)},userName:tn=>{tn.target.title=tn.detail.userName},readonly:tn=>{tn.detail.readonly?tn.target.setAttribute("readonly",""):tn.target.removeAttribute("readonly")},required:tn=>{this._setRequired(tn.target,tn.detail.required)},bgColor:tn=>{St("bgColor","backgroundColor",tn)},fillColor:tn=>{St("fillColor","backgroundColor",tn)},fgColor:tn=>{St("fgColor","color",tn)},textColor:tn=>{St("textColor","color",tn)},borderColor:tn=>{St("borderColor","borderColor",tn)},strokeColor:tn=>{St("strokeColor","borderColor",tn)},rotation:tn=>{const $e=tn.detail.rotation;this.setRotation($e),this.annotationStorage.setValue(this.data.id,{rotation:$e})}})}_dispatchEventFromSandbox(St,tn){const $e=this._commonActions;for(const yn of Object.keys(tn.detail)){const En=St[yn]||$e[yn];En==null||En(tn)}}_setDefaultPropertiesFromJS(St){if(!this.enableScripting)return;const tn=this.annotationStorage.getRawValue(this.data.id);if(!tn)return;const $e=this._commonActions;for(const[yn,En]of Object.entries(tn)){const cn=$e[yn];if(cn){const Pn={detail:{[yn]:En},target:St};cn(Pn),delete tn[yn]}}}_createQuadrilaterals(St=!1){if(!this.data.quadPoints)return null;const tn=[],$e=this.data.rect;for(const yn of this.data.quadPoints)this.data.rect=[yn[2].x,yn[2].y,yn[1].x,yn[1].y],tn.push(this._createContainer(St));return this.data.rect=$e,tn}_createPopup(St,tn){let $e=this.container;this.quadrilaterals&&(St=St||this.quadrilaterals,$e=this.quadrilaterals[0]),St||(St=document.createElement("div"),St.className="popupTriggerArea",$e.append(St));const En=new Qe({container:$e,trigger:St,color:tn.color,titleObj:tn.titleObj,modificationDate:tn.modificationDate,contentsObj:tn.contentsObj,richText:tn.richText,hideWrapper:!0}).render();En.style.left="100%",$e.append(En)}_renderQuadrilaterals(St){for(const tn of this.quadrilaterals)tn.className=St;return this.quadrilaterals}render(){(0,_e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(St,tn=null){const $e=[];if(this._fieldObjects){const yn=this._fieldObjects[St];if(yn)for(const{page:En,id:cn,exportValues:Pn}of yn){if(En===-1||cn===tn)continue;const Mn=typeof Pn=="string"?Pn:null,nn=document.querySelector(`[data-element-id="${cn}"]`);if(nn&&!Re.has(nn)){(0,_e.warn)(`_getElementsByName - element not allowed: ${cn}`);continue}$e.push({id:cn,exportValue:Mn,domElement:nn})}return $e}for(const yn of document.getElementsByName(St)){const{exportValue:En}=yn,cn=yn.getAttribute("data-element-id");cn!==tn&&(!Re.has(yn)||$e.push({id:cn,exportValue:En,domElement:yn}))}return $e}static get platform(){const St=typeof navigator<"u"?navigator.platform:"";return(0,_e.shadow)(this,"platform",{isWin:St.includes("Win"),isMac:St.includes("Mac")})}}class Me extends ke{constructor(tn,$e=null){super(tn,{isRenderable:!0,ignoreBorder:!!($e!=null&&$e.ignoreBorder),createQuadrilaterals:!0});ei(this,Xe);this.isTooltipOnly=tn.data.isTooltipOnly}render(){const{data:tn,linkService:$e}=this,yn=document.createElement("a");yn.setAttribute("data-element-id",tn.id);let En=!1;return tn.url?($e.addLinkAttributes(yn,tn.url,tn.newWindow),En=!0):tn.action?(this._bindNamedAction(yn,tn.action),En=!0):tn.attachment?(this._bindAttachment(yn,tn.attachment),En=!0):tn.setOCGState?(ii(this,Xe,pu).call(this,yn,tn.setOCGState),En=!0):tn.dest?(this._bindLink(yn,tn.dest),En=!0):(tn.actions&&(tn.actions.Action||tn.actions["Mouse Up"]||tn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(yn,tn),En=!0),tn.resetForm?(this._bindResetFormAction(yn,tn.resetForm),En=!0):this.isTooltipOnly&&!En&&(this._bindLink(yn,""),En=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((cn,Pn)=>{const Mn=Pn===0?yn:yn.cloneNode();return cn.append(Mn),cn}):(this.container.className="linkAnnotation",En&&this.container.append(yn),this.container)}_bindLink(tn,$e){tn.href=this.linkService.getDestinationHash($e),tn.onclick=()=>($e&&this.linkService.goToDestination($e),!1),($e||$e==="")&&(tn.className="internalLink")}_bindNamedAction(tn,$e){tn.href=this.linkService.getAnchorUrl(""),tn.onclick=()=>(this.linkService.executeNamedAction($e),!1),tn.className="internalLink"}_bindAttachment(tn,$e){tn.href=this.linkService.getAnchorUrl(""),tn.onclick=()=>{var yn;return(yn=this.downloadManager)==null||yn.openOrDownloadData(this.container,$e.content,$e.filename),!1},tn.className="internalLink"}_bindJSAction(tn,$e){tn.href=this.linkService.getAnchorUrl("");const yn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const En of Object.keys($e.actions)){const cn=yn.get(En);!cn||(tn[cn]=()=>{var Pn;return(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$e.id,name:En}}),!1})}tn.onclick||(tn.onclick=()=>!1),tn.className="internalLink"}_bindResetFormAction(tn,$e){const yn=tn.onclick;if(yn||(tn.href=this.linkService.getAnchorUrl("")),tn.className="internalLink",!this._fieldObjects){(0,_e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),yn||(tn.onclick=()=>!1);return}tn.onclick=()=>{var _n;yn==null||yn();const{fields:En,refs:cn,include:Pn}=$e,Mn=[];if(En.length!==0||cn.length!==0){const zn=new Set(cn);for(const $n of En){const Yn=this._fieldObjects[$n]||[];for(const{id:jn}of Yn)zn.add(jn)}for(const $n of Object.values(this._fieldObjects))for(const Yn of $n)zn.has(Yn.id)===Pn&&Mn.push(Yn)}else for(const zn of Object.values(this._fieldObjects))Mn.push(...zn);const nn=this.annotationStorage,xn=[];for(const zn of Mn){const{id:$n}=zn;switch(xn.push($n),zn.type){case"text":{const jn=zn.defaultValue||"";nn.setValue($n,{value:jn});break}case"checkbox":case"radiobutton":{const jn=zn.defaultValue===zn.exportValues;nn.setValue($n,{value:jn});break}case"combobox":case"listbox":{const jn=zn.defaultValue||"";nn.setValue($n,{value:jn});break}default:continue}const Yn=document.querySelector(`[data-element-id="${$n}"]`);if(Yn){if(!Re.has(Yn)){(0,_e.warn)(`_bindResetFormAction - element not allowed: ${$n}`);continue}}else continue;Yn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:xn,name:"ResetForm"}})),!1}}}Xe=new WeakSet,pu=function(tn,$e){tn.href=this.linkService.getAnchorUrl(""),tn.onclick=()=>(this.linkService.executeSetOCGState($e),!1),tn.className="internalLink"};class Oe extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn})}render(){this.container.className="textAnnotation";const St=document.createElement("img");return St.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",St.alt="[{{type}} Annotation]",St.dataset.l10nId="text_annotation_type",St.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(St,this.data),this.container.append(St),this.container}}class Be extends ke{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(St){const{isWin:tn,isMac:$e}=ke.platform;return tn&&St.ctrlKey||$e&&St.metaKey}_setEventListener(St,tn,$e,yn){tn.includes("mouse")?St.addEventListener(tn,En=>{var cn;(cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:$e,value:yn(En),shift:En.shiftKey,modifier:this._getKeyModifier(En)}})}):St.addEventListener(tn,En=>{var cn;(cn=this.linkService.eventBus)==null||cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:$e,value:yn(En)}})})}_setEventListeners(St,tn,$e){var yn;for(const[En,cn]of tn)(cn==="Action"||((yn=this.data.actions)==null?void 0:yn[cn]))&&this._setEventListener(St,En,cn,$e)}_setBackgroundColor(St){const tn=this.data.backgroundColor||null;St.style.backgroundColor=tn===null?"transparent":_e.Util.makeHexColor(tn[0],tn[1],tn[2])}_setTextStyle(St){const tn=["left","center","right"],{fontColor:$e}=this.data.defaultAppearanceData,yn=this.data.defaultAppearanceData.fontSize||Ce,En=St.style;let cn;const Pn=2,Mn=nn=>Math.round(10*nn)/10;if(this.data.multiLine){const nn=Math.abs(this.data.rect[3]-this.data.rect[1]-Pn),xn=Math.round(nn/(_e.LINE_FACTOR*yn))||1,_n=nn/xn;cn=Math.min(yn,Mn(_n/_e.LINE_FACTOR))}else{const nn=Math.abs(this.data.rect[3]-this.data.rect[1]-Pn);cn=Math.min(yn,Mn(nn/_e.LINE_FACTOR))}En.fontSize=`calc(${cn}px * var(--scale-factor))`,En.color=_e.Util.makeHexColor($e[0],$e[1],$e[2]),this.data.textAlignment!==null&&(En.textAlign=tn[this.data.textAlignment])}_setRequired(St,tn){tn?St.setAttribute("required",!0):St.removeAttribute("required"),St.setAttribute("aria-required",tn)}}class Ie extends Be{constructor(St){const tn=St.renderForms||!St.data.hasAppearance&&!!St.data.fieldValue;super(St,{isRenderable:tn})}setPropertyOnSiblings(St,tn,$e,yn){const En=this.annotationStorage;for(const cn of this._getElementsByName(St.name,St.id))cn.domElement&&(cn.domElement[tn]=$e),En.setValue(cn.id,{[yn]:$e})}render(){var yn;const St=this.annotationStorage,tn=this.data.id;this.container.className="textWidgetAnnotation";let $e=null;if(this.renderForms){const En=St.getValue(tn,{value:this.data.fieldValue});let cn=En.formattedValue||En.value||"";const Pn=St.getValue(tn,{charLimit:this.data.maxLen}).charLimit;Pn&&cn.length>Pn&&(cn=cn.slice(0,Pn));const Mn={userValue:cn,formattedValue:null,valueOnFocus:""};this.data.multiLine?($e=document.createElement("textarea"),$e.textContent=cn,this.data.doNotScroll&&($e.style.overflowY="hidden")):($e=document.createElement("input"),$e.type="text",$e.setAttribute("value",cn),this.data.doNotScroll&&($e.style.overflowX="hidden")),Re.add($e),$e.setAttribute("data-element-id",tn),$e.disabled=this.data.readOnly,$e.name=this.data.fieldName,$e.tabIndex=Te,this._setRequired($e,this.data.required),Pn&&($e.maxLength=Pn),$e.addEventListener("input",xn=>{St.setValue(tn,{value:xn.target.value}),this.setPropertyOnSiblings($e,"value",xn.target.value,"value")}),$e.addEventListener("resetform",xn=>{var zn;const _n=(zn=this.data.defaultFieldValue)!=null?zn:"";$e.value=Mn.userValue=_n,Mn.formattedValue=null});let nn=xn=>{const{formattedValue:_n}=Mn;_n!=null&&(xn.target.value=_n),xn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){$e.addEventListener("focus",_n=>{Mn.userValue&&(_n.target.value=Mn.userValue),Mn.valueOnFocus=_n.target.value}),$e.addEventListener("updatefromsandbox",_n=>{const zn={value($n){var Yn;Mn.userValue=(Yn=$n.detail.value)!=null?Yn:"",St.setValue(tn,{value:Mn.userValue.toString()}),$n.target.value=Mn.userValue},formattedValue($n){const{formattedValue:Yn}=$n.detail;Mn.formattedValue=Yn,Yn!=null&&$n.target!==document.activeElement&&($n.target.value=Yn),St.setValue(tn,{formattedValue:Yn})},selRange($n){$n.target.setSelectionRange(...$n.detail.selRange)},charLimit:$n=>{var li;const{charLimit:Yn}=$n.detail,{target:jn}=$n;if(Yn===0){jn.removeAttribute("maxLength");return}jn.setAttribute("maxLength",Yn);let Xn=Mn.userValue;!Xn||Xn.length<=Yn||(Xn=Xn.slice(0,Yn),jn.value=Mn.userValue=Xn,St.setValue(tn,{value:Xn}),(li=this.linkService.eventBus)==null||li.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tn,name:"Keystroke",value:Xn,willCommit:!0,commitKey:1,selStart:jn.selectionStart,selEnd:jn.selectionEnd}}))}};this._dispatchEventFromSandbox(zn,_n)}),$e.addEventListener("keydown",_n=>{var Yn;let zn=-1;if(_n.key==="Escape"?zn=0:_n.key==="Enter"&&!this.data.multiLine?zn=2:_n.key==="Tab"&&(zn=3),zn===-1)return;const{value:$n}=_n.target;Mn.valueOnFocus!==$n&&(Mn.userValue=$n,(Yn=this.linkService.eventBus)==null||Yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tn,name:"Keystroke",value:$n,willCommit:!0,commitKey:zn,selStart:_n.target.selectionStart,selEnd:_n.target.selectionEnd}}))});const xn=nn;nn=null,$e.addEventListener("blur",_n=>{var $n;const{value:zn}=_n.target;Mn.userValue=zn,this._mouseState.isDown&&Mn.valueOnFocus!==zn&&(($n=this.linkService.eventBus)==null||$n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tn,name:"Keystroke",value:zn,willCommit:!0,commitKey:1,selStart:_n.target.selectionStart,selEnd:_n.target.selectionEnd}})),xn(_n)}),(yn=this.data.actions)!=null&&yn.Keystroke&&$e.addEventListener("beforeinput",_n=>{var Ni;const{data:zn,target:$n}=_n,{value:Yn,selectionStart:jn,selectionEnd:Xn}=$n;let li=jn,oi=Xn;switch(_n.inputType){case"deleteWordBackward":{const Ai=Yn.substring(0,jn).match(/\w*[^\w]*$/);Ai&&(li-=Ai[0].length);break}case"deleteWordForward":{const Ai=Yn.substring(jn).match(/^[^\w]*\w*/);Ai&&(oi+=Ai[0].length);break}case"deleteContentBackward":jn===Xn&&(li-=1);break;case"deleteContentForward":jn===Xn&&(oi+=1);break}_n.preventDefault(),(Ni=this.linkService.eventBus)==null||Ni.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tn,name:"Keystroke",value:Yn,change:zn||"",willCommit:!1,selStart:li,selEnd:oi}})}),this._setEventListeners($e,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_n=>_n.target.value)}if(nn&&$e.addEventListener("blur",nn),this.data.comb){const _n=(this.data.rect[2]-this.data.rect[0])/Pn;$e.classList.add("comb"),$e.style.letterSpacing=`calc(${_n}px * var(--scale-factor) - 1ch)`}}else $e=document.createElement("div"),$e.textContent=this.data.fieldValue,$e.style.verticalAlign="middle",$e.style.display="table-cell";return this._setTextStyle($e),this._setBackgroundColor($e),this._setDefaultPropertiesFromJS($e),this.container.append($e),this.container}}class qe extends Be{constructor(St){super(St,{isRenderable:St.renderForms})}render(){const St=this.annotationStorage,tn=this.data,$e=tn.id;let yn=St.getValue($e,{value:tn.exportValue===tn.fieldValue}).value;typeof yn=="string"&&(yn=yn!=="Off",St.setValue($e,{value:yn})),this.container.className="buttonWidgetAnnotation checkBox";const En=document.createElement("input");return Re.add(En),En.setAttribute("data-element-id",$e),En.disabled=tn.readOnly,this._setRequired(En,this.data.required),En.type="checkbox",En.name=tn.fieldName,yn&&En.setAttribute("checked",!0),En.setAttribute("exportValue",tn.exportValue),En.tabIndex=Te,En.addEventListener("change",cn=>{const{name:Pn,checked:Mn}=cn.target;for(const nn of this._getElementsByName(Pn,$e)){const xn=Mn&&nn.exportValue===tn.exportValue;nn.domElement&&(nn.domElement.checked=xn),St.setValue(nn.id,{value:xn})}St.setValue($e,{value:Mn})}),En.addEventListener("resetform",cn=>{const Pn=tn.defaultFieldValue||"Off";cn.target.checked=Pn===tn.exportValue}),this.enableScripting&&this.hasJSActions&&(En.addEventListener("updatefromsandbox",cn=>{const Pn={value(Mn){Mn.target.checked=Mn.detail.value!=="Off",St.setValue($e,{value:Mn.target.checked})}};this._dispatchEventFromSandbox(Pn,cn)}),this._setEventListeners(En,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],cn=>cn.target.checked)),this._setBackgroundColor(En),this._setDefaultPropertiesFromJS(En),this.container.append(En),this.container}}class je extends Be{constructor(St){super(St,{isRenderable:St.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const St=this.annotationStorage,tn=this.data,$e=tn.id;let yn=St.getValue($e,{value:tn.fieldValue===tn.buttonValue}).value;typeof yn=="string"&&(yn=yn!==tn.buttonValue,St.setValue($e,{value:yn}));const En=document.createElement("input");if(Re.add(En),En.setAttribute("data-element-id",$e),En.disabled=tn.readOnly,this._setRequired(En,this.data.required),En.type="radio",En.name=tn.fieldName,yn&&En.setAttribute("checked",!0),En.tabIndex=Te,En.addEventListener("change",cn=>{const{name:Pn,checked:Mn}=cn.target;for(const nn of this._getElementsByName(Pn,$e))St.setValue(nn.id,{value:!1});St.setValue($e,{value:Mn})}),En.addEventListener("resetform",cn=>{const Pn=tn.defaultFieldValue;cn.target.checked=Pn!=null&&Pn===tn.buttonValue}),this.enableScripting&&this.hasJSActions){const cn=tn.buttonValue;En.addEventListener("updatefromsandbox",Pn=>{const Mn={value:nn=>{const xn=cn===nn.detail.value;for(const _n of this._getElementsByName(nn.target.name)){const zn=xn&&_n.id===$e;_n.domElement&&(_n.domElement.checked=zn),St.setValue(_n.id,{value:zn})}}};this._dispatchEventFromSandbox(Mn,Pn)}),this._setEventListeners(En,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pn=>Pn.target.checked)}return this._setBackgroundColor(En),this._setDefaultPropertiesFromJS(En),this.container.append(En),this.container}}class ze extends Me{constructor(St){super(St,{ignoreBorder:St.data.hasAppearance})}render(){const St=super.render();St.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(St.title=this.data.alternativeText);const tn=St.lastChild;return this.enableScripting&&this.hasJSActions&&tn&&(this._setDefaultPropertiesFromJS(tn),tn.addEventListener("updatefromsandbox",$e=>{this._dispatchEventFromSandbox({},$e)})),St}}class Ve extends Be{constructor(St){super(St,{isRenderable:St.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const St=this.annotationStorage,tn=this.data.id,$e=St.getValue(tn,{value:this.data.fieldValue}),yn=document.createElement("select");Re.add(yn),yn.setAttribute("data-element-id",tn),yn.disabled=this.data.readOnly,this._setRequired(yn,this.data.required),yn.name=this.data.fieldName,yn.tabIndex=Te;let En=this.data.combo&&this.data.options.length>0;this.data.combo||(yn.size=this.data.options.length,this.data.multiSelect&&(yn.multiple=!0)),yn.addEventListener("resetform",nn=>{const xn=this.data.defaultFieldValue;for(const _n of yn.options)_n.selected=_n.value===xn});for(const nn of this.data.options){const xn=document.createElement("option");xn.textContent=nn.displayValue,xn.value=nn.exportValue,$e.value.includes(nn.exportValue)&&(xn.setAttribute("selected",!0),En=!1),yn.append(xn)}let cn=null;if(En){const nn=document.createElement("option");nn.value=" ",nn.setAttribute("hidden",!0),nn.setAttribute("selected",!0),yn.prepend(nn),cn=()=>{nn.remove(),yn.removeEventListener("input",cn),cn=null},yn.addEventListener("input",cn)}const Pn=(nn,xn)=>{const _n=xn?"value":"textContent",zn=nn.target.options;return nn.target.multiple?Array.prototype.filter.call(zn,$n=>$n.selected).map($n=>$n[_n]):zn.selectedIndex===-1?null:zn[zn.selectedIndex][_n]},Mn=nn=>{const xn=nn.target.options;return Array.prototype.map.call(xn,_n=>({displayValue:_n.textContent,exportValue:_n.value}))};return this.enableScripting&&this.hasJSActions?(yn.addEventListener("updatefromsandbox",nn=>{const xn={value(_n){cn==null||cn();const zn=_n.detail.value,$n=new Set(Array.isArray(zn)?zn:[zn]);for(const Yn of yn.options)Yn.selected=$n.has(Yn.value);St.setValue(tn,{value:Pn(_n,!0)})},multipleSelection(_n){yn.multiple=!0},remove(_n){const zn=yn.options,$n=_n.detail.remove;zn[$n].selected=!1,yn.remove($n),zn.length>0&&Array.prototype.findIndex.call(zn,jn=>jn.selected)===-1&&(zn[0].selected=!0),St.setValue(tn,{value:Pn(_n,!0),items:Mn(_n)})},clear(_n){for(;yn.length!==0;)yn.remove(0);St.setValue(tn,{value:null,items:[]})},insert(_n){const{index:zn,displayValue:$n,exportValue:Yn}=_n.detail.insert,jn=yn.children[zn],Xn=document.createElement("option");Xn.textContent=$n,Xn.value=Yn,jn?jn.before(Xn):yn.append(Xn),St.setValue(tn,{value:Pn(_n,!0),items:Mn(_n)})},items(_n){const{items:zn}=_n.detail;for(;yn.length!==0;)yn.remove(0);for(const $n of zn){const{displayValue:Yn,exportValue:jn}=$n,Xn=document.createElement("option");Xn.textContent=Yn,Xn.value=jn,yn.append(Xn)}yn.options.length>0&&(yn.options[0].selected=!0),St.setValue(tn,{value:Pn(_n,!0),items:Mn(_n)})},indices(_n){const zn=new Set(_n.detail.indices);for(const $n of _n.target.options)$n.selected=zn.has($n.index);St.setValue(tn,{value:Pn(_n,!0)})},editable(_n){_n.target.disabled=!_n.detail.editable}};this._dispatchEventFromSandbox(xn,nn)}),yn.addEventListener("input",nn=>{var zn;const xn=Pn(nn,!0),_n=Pn(nn,!1);St.setValue(tn,{value:xn}),(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:tn,name:"Keystroke",value:_n,changeEx:xn,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(yn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],nn=>nn.target.checked)):yn.addEventListener("input",function(nn){St.setValue(tn,{value:Pn(nn,!0)})}),this.data.combo&&this._setTextStyle(yn),this._setBackgroundColor(yn),this._setDefaultPropertiesFromJS(yn),this.container.append(yn),this.container}}const en=class extends ke{constructor(St){var yn,En,cn;const{data:tn}=St,$e=!en.IGNORE_TYPES.has(tn.parentType)&&!!(((yn=tn.titleObj)==null?void 0:yn.str)||((En=tn.contentsObj)==null?void 0:En.str)||((cn=tn.richText)==null?void 0:cn.str));super(St,{isRenderable:$e})}render(){this.container.className="popupAnnotation";const St=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(St.length===0)return this.container;const tn=new Qe({container:this.container,trigger:Array.from(St),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),$e=this.page,yn=_e.Util.normalizeRect([this.data.parentRect[0],$e.view[3]-this.data.parentRect[1]+$e.view[1],this.data.parentRect[2],$e.view[3]-this.data.parentRect[3]+$e.view[1]]),En=yn[0]+this.data.parentRect[2]-this.data.parentRect[0],cn=yn[1],[Pn,Mn,nn,xn]=this.viewport.viewBox,_n=nn-Pn,zn=xn-Mn;return this.container.style.left=`${100*(En-Pn)/_n}%`,this.container.style.top=`${100*(cn-Mn)/zn}%`,this.container.append(tn.render()),this.container}};let He=en;hr(He,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class Qe{constructor(St){this.container=St.container,this.trigger=St.trigger,this.color=St.color,this.titleObj=St.titleObj,this.modificationDate=St.modificationDate,this.contentsObj=St.contentsObj,this.richText=St.richText,this.hideWrapper=St.hideWrapper||!1,this.pinned=!1}render(){var Pn,Mn;const tn=document.createElement("div");tn.className="popupWrapper",this.hideElement=this.hideWrapper?tn:this.container,this.hideElement.hidden=!0;const $e=document.createElement("div");$e.className="popup";const yn=this.color;if(yn){const nn=.7*(255-yn[0])+yn[0],xn=.7*(255-yn[1])+yn[1],_n=.7*(255-yn[2])+yn[2];$e.style.backgroundColor=_e.Util.makeHexColor(nn|0,xn|0,_n|0)}const En=document.createElement("h1");En.dir=this.titleObj.dir,En.textContent=this.titleObj.str,$e.append(En);const cn=Ae.PDFDateString.toDateObject(this.modificationDate);if(cn){const nn=document.createElement("span");nn.className="popupDate",nn.textContent="{{date}}, {{time}}",nn.dataset.l10nId="annotation_date_string",nn.dataset.l10nArgs=JSON.stringify({date:cn.toLocaleDateString(),time:cn.toLocaleTimeString()}),$e.append(nn)}if(((Pn=this.richText)==null?void 0:Pn.str)&&(!((Mn=this.contentsObj)!=null&&Mn.str)||this.contentsObj.str===this.richText.str))xe.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:$e}),$e.lastChild.className="richText popupContent";else{const nn=this._formatContents(this.contentsObj);$e.append(nn)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const nn of this.trigger)nn.addEventListener("click",this._toggle.bind(this)),nn.addEventListener("mouseover",this._show.bind(this,!1)),nn.addEventListener("mouseout",this._hide.bind(this,!1));return $e.addEventListener("click",this._hide.bind(this,!0)),tn.append($e),tn}_formatContents({str:St,dir:tn}){const $e=document.createElement("p");$e.className="popupContent",$e.dir=tn;const yn=St.split(/(?:\r\n?|\n)/);for(let En=0,cn=yn.length;En<cn;++En){const Pn=yn[En];$e.append(document.createTextNode(Pn)),En<cn-1&&$e.append(document.createElement("br"))}return $e}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(St=!1){St&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(St=!0){St&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Je extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0}),this.textContent=St.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const St=document.createElement("div");St.className="annotationTextContent",St.setAttribute("role","comment");for(const tn of this.textContent){const $e=document.createElement("span");$e.textContent=tn,St.append($e)}this.container.append(St)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class dn extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const St=this.data,{width:tn,height:$e}=Ue(St.rect),yn=this.svgFactory.create(tn,$e,!0),En=this.svgFactory.createElement("svg:line");return En.setAttribute("x1",St.rect[2]-St.lineCoordinates[0]),En.setAttribute("y1",St.rect[3]-St.lineCoordinates[1]),En.setAttribute("x2",St.rect[2]-St.lineCoordinates[2]),En.setAttribute("y2",St.rect[3]-St.lineCoordinates[3]),En.setAttribute("stroke-width",St.borderStyle.width||1),En.setAttribute("stroke","transparent"),En.setAttribute("fill","transparent"),yn.append(En),this.container.append(yn),this._createPopup(En,St),this.container}}class an extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const St=this.data,{width:tn,height:$e}=Ue(St.rect),yn=this.svgFactory.create(tn,$e,!0),En=St.borderStyle.width,cn=this.svgFactory.createElement("svg:rect");return cn.setAttribute("x",En/2),cn.setAttribute("y",En/2),cn.setAttribute("width",tn-En),cn.setAttribute("height",$e-En),cn.setAttribute("stroke-width",En||1),cn.setAttribute("stroke","transparent"),cn.setAttribute("fill","transparent"),yn.append(cn),this.container.append(yn),this._createPopup(cn,St),this.container}}class Ke extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const St=this.data,{width:tn,height:$e}=Ue(St.rect),yn=this.svgFactory.create(tn,$e,!0),En=St.borderStyle.width,cn=this.svgFactory.createElement("svg:ellipse");return cn.setAttribute("cx",tn/2),cn.setAttribute("cy",$e/2),cn.setAttribute("rx",tn/2-En/2),cn.setAttribute("ry",$e/2-En/2),cn.setAttribute("stroke-width",En||1),cn.setAttribute("stroke","transparent"),cn.setAttribute("fill","transparent"),yn.append(cn),this.container.append(yn),this._createPopup(cn,St),this.container}}class rn extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const St=this.data,{width:tn,height:$e}=Ue(St.rect),yn=this.svgFactory.create(tn,$e,!0);let En=[];for(const Pn of St.vertices){const Mn=Pn.x-St.rect[0],nn=St.rect[3]-Pn.y;En.push(Mn+","+nn)}En=En.join(" ");const cn=this.svgFactory.createElement(this.svgElementName);return cn.setAttribute("points",En),cn.setAttribute("stroke-width",St.borderStyle.width||1),cn.setAttribute("stroke","transparent"),cn.setAttribute("fill","transparent"),yn.append(cn),this.container.append(yn),this._createPopup(cn,St),this.container}}class Cn extends rn{constructor(St){super(St),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Sn extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class fn extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const St=this.data,{width:tn,height:$e}=Ue(St.rect),yn=this.svgFactory.create(tn,$e,!0);for(const En of St.inkLists){let cn=[];for(const Mn of En){const nn=Mn.x-St.rect[0],xn=St.rect[3]-Mn.y;cn.push(`${nn},${xn}`)}cn=cn.join(" ");const Pn=this.svgFactory.createElement(this.svgElementName);Pn.setAttribute("points",cn),Pn.setAttribute("stroke-width",St.borderStyle.width||1),Pn.setAttribute("stroke","transparent"),Pn.setAttribute("fill","transparent"),this._createPopup(Pn,St),yn.append(Pn)}return this.container.append(yn),this.container}}class gn extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class vn extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class pn extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class On extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Hn extends ke{constructor(St){var $e,yn,En;const tn=!!(St.data.hasPopup||(($e=St.data.titleObj)==null?void 0:$e.str)||((yn=St.data.contentsObj)==null?void 0:yn.str)||((En=St.data.richText)==null?void 0:En.str));super(St,{isRenderable:tn,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Bn extends ke{constructor(St){var yn;super(St,{isRenderable:!0});const{filename:tn,content:$e}=this.data.file;this.filename=(0,Ae.getFilenameFromUrl)(tn),this.content=$e,(yn=this.linkService.eventBus)==null||yn.dispatch("fileattachmentannotation",{source:this,filename:tn,content:$e})}render(){var tn,$e;this.container.className="fileAttachmentAnnotation";const St=document.createElement("div");return St.className="popupTriggerArea",St.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((tn=this.data.titleObj)==null?void 0:tn.str)||(($e=this.data.contentsObj)==null?void 0:$e.str)||this.data.richText)&&this._createPopup(St,this.data),this.container.append(St),this.container}_download(){var St;(St=this.downloadManager)==null||St.openOrDownloadData(this.container,this.content,this.filename)}}const un=class{static render(St){var Pn,Mn;const{annotations:tn,div:$e,viewport:yn,accessibilityManager:En}=St;ii(this,bn,Zl).call(this,$e,yn);let cn=0;for(const nn of tn){if(nn.annotationType!==_e.AnnotationType.POPUP){const{width:_n,height:zn}=Ue(nn.rect);if(_n<=0||zn<=0)continue}const xn=De.create({data:nn,layer:$e,page:St.page,viewport:yn,linkService:St.linkService,downloadManager:St.downloadManager,imageResourcesPath:St.imageResourcesPath||"",renderForms:St.renderForms!==!1,svgFactory:new Ae.DOMSVGFactory,annotationStorage:St.annotationStorage||new Se.AnnotationStorage,enableScripting:St.enableScripting,hasJSActions:St.hasJSActions,fieldObjects:St.fieldObjects,mouseState:St.mouseState||{isDown:!1}});if(xn.isRenderable){const _n=xn.render();if(nn.hidden&&(_n.style.visibility="hidden"),Array.isArray(_n))for(const zn of _n)zn.style.zIndex=cn++,ii(Pn=un,on,Ql).call(Pn,zn,nn.id,$e,En);else _n.style.zIndex=cn++,xn instanceof He?$e.prepend(_n):ii(Mn=un,on,Ql).call(Mn,_n,nn.id,$e,En)}}ii(this,Vn,ec).call(this,$e,St.annotationCanvasMap)}static update(St){const{annotationCanvasMap:tn,div:$e,viewport:yn}=St;ii(this,bn,Zl).call(this,$e,yn),ii(this,Vn,ec).call(this,$e,tn),$e.hidden=!1}};let Ze=un;on=new WeakSet,Ql=function(St,tn,$e,yn){const En=St.firstChild||St;En.id=`${Ae.AnnotationPrefix}${tn}`,$e.append(St),yn==null||yn.moveElementInDOM($e,St,En,!1)},bn=new WeakSet,Zl=function(St,{width:tn,height:$e,rotation:yn}){const{style:En}=St,cn=yn%180!==0,Pn=Math.floor(tn)+"px",Mn=Math.floor($e)+"px";En.width=cn?Mn:Pn,En.height=cn?Pn:Mn,St.setAttribute("data-main-rotation",yn)},Vn=new WeakSet,ec=function(St,tn){if(!!tn){for(const[$e,yn]of tn){const En=St.querySelector(`[data-annotation-id="${$e}"]`);if(!En)continue;const{firstChild:cn}=En;cn?cn.nodeName==="CANVAS"?cn.replaceWith(yn):cn.before(yn):En.append(yn)}tn.clear()}},ei(Ze,on),ei(Ze,bn),ei(Ze,Vn),t.AnnotationLayer=Ze},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function r(Ae){return Math.floor(Math.max(0,Math.min(1,Ae))*255).toString(16).padStart(2,"0")}class _e{static CMYK_G([Se,Ee,xe,Te]){return["G",1-Math.min(1,.3*Se+.59*xe+.11*Ee+Te)]}static G_CMYK([Se]){return["CMYK",0,0,0,1-Se]}static G_RGB([Se]){return["RGB",Se,Se,Se]}static G_HTML([Se]){const Ee=r(Se);return`#${Ee}${Ee}${Ee}`}static RGB_G([Se,Ee,xe]){return["G",.3*Se+.59*Ee+.11*xe]}static RGB_HTML([Se,Ee,xe]){const Te=r(Se),Ce=r(Ee),Re=r(xe);return`#${Te}${Ce}${Re}`}static T_HTML(){return"#00000000"}static CMYK_RGB([Se,Ee,xe,Te]){return["RGB",1-Math.min(1,Se+Te),1-Math.min(1,xe+Te),1-Math.min(1,Ee+Te)]}static CMYK_HTML(Se){const Ee=this.CMYK_RGB(Se).slice(1);return this.RGB_HTML(Ee)}static RGB_CMYK([Se,Ee,xe]){const Te=1-Se,Ce=1-Ee,Re=1-xe,Ue=Math.min(Te,Ce,Re);return["CMYK",Te,Ce,Re,Ue]}}t.ColorConverters=_e},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var _e=r(19);class Ae{static setupStorage(Ee,xe,Te,Ce,Re){const Ue=Ce.getValue(xe,{value:null});switch(Te.name){case"textarea":if(Ue.value!==null&&(Ee.textContent=Ue.value),Re==="print")break;Ee.addEventListener("input",De=>{Ce.setValue(xe,{value:De.target.value})});break;case"input":if(Te.attributes.type==="radio"||Te.attributes.type==="checkbox"){if(Ue.value===Te.attributes.xfaOn?Ee.setAttribute("checked",!0):Ue.value===Te.attributes.xfaOff&&Ee.removeAttribute("checked"),Re==="print")break;Ee.addEventListener("change",De=>{Ce.setValue(xe,{value:De.target.checked?De.target.getAttribute("xfaOn"):De.target.getAttribute("xfaOff")})})}else{if(Ue.value!==null&&Ee.setAttribute("value",Ue.value),Re==="print")break;Ee.addEventListener("input",De=>{Ce.setValue(xe,{value:De.target.value})})}break;case"select":if(Ue.value!==null)for(const De of Te.children)De.attributes.value===Ue.value&&(De.attributes.selected=!0);Ee.addEventListener("input",De=>{const ke=De.target.options,Me=ke.selectedIndex===-1?"":ke[ke.selectedIndex].value;Ce.setValue(xe,{value:Me})});break}}static setAttributes({html:Ee,element:xe,storage:Te=null,intent:Ce,linkService:Re}){const{attributes:Ue}=xe,De=Ee instanceof HTMLAnchorElement;Ue.type==="radio"&&(Ue.name=`${Ue.name}-${Ce}`);for(const[ke,Me]of Object.entries(Ue))if(Me!=null)switch(ke){case"class":Me.length&&Ee.setAttribute(ke,Me.join(" "));break;case"dataId":break;case"id":Ee.setAttribute("data-element-id",Me);break;case"style":Object.assign(Ee.style,Me);break;case"textContent":Ee.textContent=Me;break;default:(!De||ke!=="href"&&ke!=="newWindow")&&Ee.setAttribute(ke,Me)}De&&Re.addLinkAttributes(Ee,Ue.href,Ue.newWindow),Te&&Ue.dataId&&this.setupStorage(Ee,Ue.dataId,xe,Te)}static render(Ee){var Oe;const xe=Ee.annotationStorage,Te=Ee.linkService,Ce=Ee.xfaHtml,Re=Ee.intent||"display",Ue=document.createElement(Ce.name);Ce.attributes&&this.setAttributes({html:Ue,element:Ce,intent:Re,linkService:Te});const De=[[Ce,-1,Ue]],ke=Ee.div;if(ke.append(Ue),Ee.viewport){const Be=`matrix(${Ee.viewport.transform.join(",")})`;ke.style.transform=Be}Re!=="richText"&&ke.setAttribute("class","xfaLayer xfaFont");const Me=[];for(;De.length>0;){const[Be,Ie,qe]=De.at(-1);if(Ie+1===Be.children.length){De.pop();continue}const je=Be.children[++De.at(-1)[1]];if(je===null)continue;const{name:ze}=je;if(ze==="#text"){const He=document.createTextNode(je.value);Me.push(He),qe.append(He);continue}let Ve;if((Oe=je==null?void 0:je.attributes)!=null&&Oe.xmlns?Ve=document.createElementNS(je.attributes.xmlns,ze):Ve=document.createElement(ze),qe.append(Ve),je.attributes&&this.setAttributes({html:Ve,element:je,storage:xe,intent:Re,linkService:Te}),je.children&&je.children.length>0)De.push([je,-1,Ve]);else if(je.value){const He=document.createTextNode(je.value);_e.XfaText.shouldBuildText(ze)&&Me.push(He),Ve.append(He)}}for(const Be of ke.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Be.setAttribute("readOnly",!0);return{textDivs:Me}}static update(Ee){const xe=`matrix(${Ee.viewport.transform.join(",")})`;Ee.div.style.transform=xe,Ee.div.hidden=!1}}t.XfaLayer=Ae},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=De;var _e=r(1);const Ae=1e5,Se=30,Ee=.8,xe=new Map;function Te(ke,Me){const Oe=xe.get(ke);if(Oe)return Oe;Me.save(),Me.font=`${Se}px ${ke}`;const Be=Me.measureText("");let Ie=Be.fontBoundingBoxAscent,qe=Math.abs(Be.fontBoundingBoxDescent);if(Ie){Me.restore();const ze=Ie/(Ie+qe);return xe.set(ke,ze),ze}Me.strokeStyle="red",Me.clearRect(0,0,Se,Se),Me.strokeText("g",0,0);let je=Me.getImageData(0,0,Se,Se).data;qe=0;for(let ze=je.length-1-3;ze>=0;ze-=4)if(je[ze]>0){qe=Math.ceil(ze/4/Se);break}Me.clearRect(0,0,Se,Se),Me.strokeText("A",0,Se),je=Me.getImageData(0,0,Se,Se).data,Ie=0;for(let ze=0,Ve=je.length;ze<Ve;ze+=4)if(je[ze]>0){Ie=Se-Math.floor(ze/4/Se);break}if(Me.restore(),Ie){const ze=Ie/(Ie+qe);return xe.set(ke,ze),ze}return xe.set(ke,Ee),Ee}function Ce(ke,Me,Oe,Be){const Ie=document.createElement("span"),qe={angle:0,canvasWidth:0,hasText:Me.str!=="",hasEOL:Me.hasEOL,fontSize:0};ke._textDivs.push(Ie);const je=_e.Util.transform(ke._viewport.transform,Me.transform);let ze=Math.atan2(je[1],je[0]);const Ve=Oe[Me.fontName];Ve.vertical&&(ze+=Math.PI/2);const He=Math.hypot(je[2],je[3]),Qe=He*Te(Ve.fontFamily,Be);let Je,dn;ze===0?(Je=je[4],dn=je[5]-Qe):(Je=je[4]+Qe*Math.sin(ze),dn=je[5]-Qe*Math.cos(ze)),Ie.style.left=`${Je}px`,Ie.style.top=`${dn}px`,Ie.style.fontSize=`${He}px`,Ie.style.fontFamily=Ve.fontFamily,qe.fontSize=He,Ie.setAttribute("role","presentation"),Ie.textContent=Me.str,Ie.dir=Me.dir,ke._fontInspectorEnabled&&(Ie.dataset.fontName=Me.fontName),ze!==0&&(qe.angle=ze*(180/Math.PI));let an=!1;if(Me.str.length>1)an=!0;else if(Me.str!==" "&&Me.transform[0]!==Me.transform[3]){const Ke=Math.abs(Me.transform[0]),rn=Math.abs(Me.transform[3]);Ke!==rn&&Math.max(Ke,rn)/Math.min(Ke,rn)>1.5&&(an=!0)}an&&(Ve.vertical?qe.canvasWidth=Me.height*ke._viewport.scale:qe.canvasWidth=Me.width*ke._viewport.scale),ke._textDivProperties.set(Ie,qe),ke._textContentStream&&ke._layoutText(Ie)}function Re(ke){if(ke._canceled)return;const Me=ke._textDivs,Oe=ke._capability;if(Me.length>Ae){ke._renderingDone=!0,Oe.resolve();return}if(!ke._textContentStream)for(const Ie of Me)ke._layoutText(Ie);ke._renderingDone=!0,Oe.resolve()}class Ue{constructor({textContent:Me,textContentStream:Oe,container:Be,viewport:Ie,textDivs:qe,textContentItemsStr:je}){var ze;this._textContent=Me,this._textContentStream=Oe,this._container=Be,this._document=Be.ownerDocument,this._viewport=Ie,this._textDivs=qe||[],this._textContentItemsStr=je||[],this._fontInspectorEnabled=!!((ze=globalThis.FontInspector)!=null&&ze.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._textDivProperties=null,this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(Me,Oe){for(const Be of Me){if(Be.str===void 0){if(Be.type==="beginMarkedContentProps"||Be.type==="beginMarkedContent"){const Ie=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Be.id!==null&&this._container.setAttribute("id",`${Be.id}`),Ie.append(this._container)}else Be.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Be.str),Ce(this,Be,Oe,this._layoutTextCtx)}}_layoutText(Me){const Oe=this._textDivProperties.get(Me);let Be="";if(Oe.canvasWidth!==0&&Oe.hasText){const{fontFamily:Ie}=Me.style,{fontSize:qe}=Oe;(qe!==this._layoutTextLastFontSize||Ie!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${qe*this._devicePixelRatio}px ${Ie}`,this._layoutTextLastFontSize=qe,this._layoutTextLastFontFamily=Ie);const{width:je}=this._layoutTextCtx.measureText(Me.textContent);je>0&&(Be=`scaleX(${this._devicePixelRatio*Oe.canvasWidth/je})`)}if(Oe.angle!==0&&(Be=`rotate(${Oe.angle}deg) ${Be}`),Be.length>0&&(Me.style.transform=Be),Oe.hasText&&this._container.append(Me),Oe.hasEOL){const Ie=document.createElement("br");Ie.setAttribute("role","presentation"),this._container.append(Ie)}}_render(Me=0){const Oe=(0,_e.createPromiseCapability)();let Be=Object.create(null);const Ie=this._document.createElement("canvas");if(Ie.height=Ie.width=Se,this._layoutTextCtx=Ie.getContext("2d",{alpha:!1}),this._textContent){const qe=this._textContent.items,je=this._textContent.styles;this._processItems(qe,je),Oe.resolve()}else if(this._textContentStream){const qe=()=>{this._reader.read().then(({value:je,done:ze})=>{if(ze){Oe.resolve();return}Object.assign(Be,je.styles),this._processItems(je.items,Be),qe()},Oe.reject)};this._reader=this._textContentStream.getReader(),qe()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');Oe.promise.then(()=>{Be=null,Me?this._renderTimer=setTimeout(()=>{Re(this),this._renderTimer=null},Me):Re(this)},this._capability.reject)}}t.TextLayerRenderTask=Ue;function De(ke){const Me=new Ue({textContent:ke.textContent,textContentStream:ke.textContentStream,container:ke.container,viewport:ke.viewport,textDivs:ke.textDivs,textContentItemsStr:ke.textContentItemsStr});return Me._render(ke.timeout),Me}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var _e=r(6),Ae=r(1),Se=r(12);let Ee=class{constructor(){(0,Ae.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=Ee;{let Oe=function(Ve){let He=[];const Qe=[];for(const Je of Ve){if(Je.fn==="save"){He.push({fnId:92,fn:"group",items:[]}),Qe.push(He),He=He.at(-1).items;continue}Je.fn==="restore"?He=Qe.pop():He.push(Je)}return He},Be=function(Ve){if(Number.isInteger(Ve))return Ve.toString();const He=Ve.toFixed(10);let Qe=He.length-1;if(He[Qe]!=="0")return He;do Qe--;while(He[Qe]==="0");return He.substring(0,He[Qe]==="."?Qe:Qe+1)},Ie=function(Ve){if(Ve[4]===0&&Ve[5]===0){if(Ve[1]===0&&Ve[2]===0)return Ve[0]===1&&Ve[3]===1?"":`scale(${Be(Ve[0])} ${Be(Ve[3])})`;if(Ve[0]===Ve[3]&&Ve[1]===-Ve[2]){const He=Math.acos(Ve[0])*180/Math.PI;return`rotate(${Be(He)})`}}else if(Ve[0]===1&&Ve[1]===0&&Ve[2]===0&&Ve[3]===1)return`translate(${Be(Ve[4])} ${Be(Ve[5])})`;return`matrix(${Be(Ve[0])} ${Be(Ve[1])} ${Be(Ve[2])} ${Be(Ve[3])} ${Be(Ve[4])} ${Be(Ve[5])})`};const xe={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Te="http://www.w3.org/XML/1998/namespace",Ce="http://www.w3.org/1999/xlink",Re=["butt","round","square"],Ue=["miter","round","bevel"],De=function(Ve,He="",Qe=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Qe)return URL.createObjectURL(new Blob([Ve],{type:He}));const Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let dn=`data:${He};base64,`;for(let an=0,Ke=Ve.length;an<Ke;an+=3){const rn=Ve[an]&255,Cn=Ve[an+1]&255,Sn=Ve[an+2]&255,fn=rn>>2,gn=(rn&3)<<4|Cn>>4,vn=an+1<Ke?(Cn&15)<<2|Sn>>6:64,pn=an+2<Ke?Sn&63:64;dn+=Je[fn]+Je[gn]+Je[vn]+Je[pn]}return dn},ke=function(){const Ve=new Uint8Array([137,80,78,71,13,10,26,10]),He=12,Qe=new Int32Array(256);for(let Sn=0;Sn<256;Sn++){let fn=Sn;for(let gn=0;gn<8;gn++)fn&1?fn=3988292384^fn>>1&2147483647:fn=fn>>1&2147483647;Qe[Sn]=fn}function Je(Sn,fn,gn){let vn=-1;for(let pn=fn;pn<gn;pn++){const On=(vn^Sn[pn])&255,Hn=Qe[On];vn=vn>>>8^Hn}return vn^-1}function dn(Sn,fn,gn,vn){let pn=vn;const On=fn.length;gn[pn]=On>>24&255,gn[pn+1]=On>>16&255,gn[pn+2]=On>>8&255,gn[pn+3]=On&255,pn+=4,gn[pn]=Sn.charCodeAt(0)&255,gn[pn+1]=Sn.charCodeAt(1)&255,gn[pn+2]=Sn.charCodeAt(2)&255,gn[pn+3]=Sn.charCodeAt(3)&255,pn+=4,gn.set(fn,pn),pn+=fn.length;const Hn=Je(gn,vn+4,pn);gn[pn]=Hn>>24&255,gn[pn+1]=Hn>>16&255,gn[pn+2]=Hn>>8&255,gn[pn+3]=Hn&255}function an(Sn,fn,gn){let vn=1,pn=0;for(let On=fn;On<gn;++On)vn=(vn+(Sn[On]&255))%65521,pn=(pn+vn)%65521;return pn<<16|vn}function Ke(Sn){if(!Se.isNodeJS)return rn(Sn);try{let fn;parseInt(process.versions.node)>=8?fn=Sn:fn=Buffer.from(Sn);const gn=require$$5.deflateSync(fn,{level:9});return gn instanceof Uint8Array?gn:new Uint8Array(gn)}catch(fn){(0,Ae.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+fn)}return rn(Sn)}function rn(Sn){let fn=Sn.length;const gn=65535,vn=Math.ceil(fn/gn),pn=new Uint8Array(2+fn+vn*5+4);let On=0;pn[On++]=120,pn[On++]=156;let Hn=0;for(;fn>gn;)pn[On++]=0,pn[On++]=255,pn[On++]=255,pn[On++]=0,pn[On++]=0,pn.set(Sn.subarray(Hn,Hn+gn),On),On+=gn,Hn+=gn,fn-=gn;pn[On++]=1,pn[On++]=fn&255,pn[On++]=fn>>8&255,pn[On++]=~fn&65535&255,pn[On++]=(~fn&65535)>>8&255,pn.set(Sn.subarray(Hn),On),On+=Sn.length-Hn;const Bn=an(Sn,0,Sn.length);return pn[On++]=Bn>>24&255,pn[On++]=Bn>>16&255,pn[On++]=Bn>>8&255,pn[On++]=Bn&255,pn}function Cn(Sn,fn,gn,vn){const pn=Sn.width,On=Sn.height;let Hn,Bn,Ze;const Xe=Sn.data;switch(fn){case Ae.ImageKind.GRAYSCALE_1BPP:Bn=0,Hn=1,Ze=pn+7>>3;break;case Ae.ImageKind.RGB_24BPP:Bn=2,Hn=8,Ze=pn*3;break;case Ae.ImageKind.RGBA_32BPP:Bn=6,Hn=8,Ze=pn*4;break;default:throw new Error("invalid format")}const Ye=new Uint8Array((1+Ze)*On);let en=0,on=0;for(let un=0;un<On;++un)Ye[en++]=0,Ye.set(Xe.subarray(on,on+Ze),en),on+=Ze,en+=Ze;if(fn===Ae.ImageKind.GRAYSCALE_1BPP&&vn){en=0;for(let un=0;un<On;un++){en++;for(let mn=0;mn<Ze;mn++)Ye[en++]^=255}}const hn=new Uint8Array([pn>>24&255,pn>>16&255,pn>>8&255,pn&255,On>>24&255,On>>16&255,On>>8&255,On&255,Hn,Bn,0,0,0]),bn=Ke(Ye),Ln=Ve.length+He*3+hn.length+bn.length,Vn=new Uint8Array(Ln);let Wn=0;return Vn.set(Ve,Wn),Wn+=Ve.length,dn("IHDR",hn,Vn,Wn),Wn+=He+hn.length,dn("IDATA",bn,Vn,Wn),Wn+=He+bn.length,dn("IEND",new Uint8Array(0),Vn,Wn),De(Vn,"image/png",gn)}return function(fn,gn,vn){const pn=fn.kind===void 0?Ae.ImageKind.GRAYSCALE_1BPP:fn.kind;return Cn(fn,pn,gn,vn)}}();class Me{constructor(){this.fontSizeScale=1,this.fontWeight=xe.fontWeight,this.fontSize=0,this.textMatrix=Ae.IDENTITY_MATRIX,this.fontMatrix=Ae.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Ae.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=xe.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(He,Qe){this.x=He,this.y=Qe}}let qe=0,je=0,ze=0;t.SVGGraphics=Ee=class{constructor(Ve,He,Qe=!1){(0,_e.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _e.DOMSVGFactory,this.current=new Me,this.transformMatrix=Ae.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ve,this.objs=He,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Qe,this._operatorIdMapping=[];for(const Je in Ae.OPS)this._operatorIdMapping[Ae.OPS[Je]]=Je}getObject(Ve,He=null){return typeof Ve=="string"?Ve.startsWith("g_")?this.commonObjs.get(Ve):this.objs.get(Ve):He}save(){this.transformStack.push(this.transformMatrix);const Ve=this.current;this.extraStack.push(Ve),this.current=Ve.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Ve){this.save(),this.executeOpTree(Ve),this.restore()}loadDependencies(Ve){const He=Ve.fnArray,Qe=Ve.argsArray;for(let Je=0,dn=He.length;Je<dn;Je++)if(He[Je]===Ae.OPS.dependency)for(const an of Qe[Je]){const Ke=an.startsWith("g_")?this.commonObjs:this.objs,rn=new Promise(Cn=>{Ke.get(an,Cn)});this.current.dependencies.push(rn)}return Promise.all(this.current.dependencies)}transform(Ve,He,Qe,Je,dn,an){const Ke=[Ve,He,Qe,Je,dn,an];this.transformMatrix=Ae.Util.transform(this.transformMatrix,Ke),this.tgrp=null}getSVG(Ve,He){this.viewport=He;const Qe=this._initialize(He);return this.loadDependencies(Ve).then(()=>(this.transformMatrix=Ae.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Ve)),Qe))}convertOpList(Ve){const He=this._operatorIdMapping,Qe=Ve.argsArray,Je=Ve.fnArray,dn=[];for(let an=0,Ke=Je.length;an<Ke;an++){const rn=Je[an];dn.push({fnId:rn,fn:He[rn],args:Qe[an]})}return Oe(dn)}executeOpTree(Ve){for(const He of Ve){const Qe=He.fn,Je=He.fnId,dn=He.args;switch(Je|0){case Ae.OPS.beginText:this.beginText();break;case Ae.OPS.dependency:break;case Ae.OPS.setLeading:this.setLeading(dn);break;case Ae.OPS.setLeadingMoveText:this.setLeadingMoveText(dn[0],dn[1]);break;case Ae.OPS.setFont:this.setFont(dn);break;case Ae.OPS.showText:this.showText(dn[0]);break;case Ae.OPS.showSpacedText:this.showText(dn[0]);break;case Ae.OPS.endText:this.endText();break;case Ae.OPS.moveText:this.moveText(dn[0],dn[1]);break;case Ae.OPS.setCharSpacing:this.setCharSpacing(dn[0]);break;case Ae.OPS.setWordSpacing:this.setWordSpacing(dn[0]);break;case Ae.OPS.setHScale:this.setHScale(dn[0]);break;case Ae.OPS.setTextMatrix:this.setTextMatrix(dn[0],dn[1],dn[2],dn[3],dn[4],dn[5]);break;case Ae.OPS.setTextRise:this.setTextRise(dn[0]);break;case Ae.OPS.setTextRenderingMode:this.setTextRenderingMode(dn[0]);break;case Ae.OPS.setLineWidth:this.setLineWidth(dn[0]);break;case Ae.OPS.setLineJoin:this.setLineJoin(dn[0]);break;case Ae.OPS.setLineCap:this.setLineCap(dn[0]);break;case Ae.OPS.setMiterLimit:this.setMiterLimit(dn[0]);break;case Ae.OPS.setFillRGBColor:this.setFillRGBColor(dn[0],dn[1],dn[2]);break;case Ae.OPS.setStrokeRGBColor:this.setStrokeRGBColor(dn[0],dn[1],dn[2]);break;case Ae.OPS.setStrokeColorN:this.setStrokeColorN(dn);break;case Ae.OPS.setFillColorN:this.setFillColorN(dn);break;case Ae.OPS.shadingFill:this.shadingFill(dn[0]);break;case Ae.OPS.setDash:this.setDash(dn[0],dn[1]);break;case Ae.OPS.setRenderingIntent:this.setRenderingIntent(dn[0]);break;case Ae.OPS.setFlatness:this.setFlatness(dn[0]);break;case Ae.OPS.setGState:this.setGState(dn[0]);break;case Ae.OPS.fill:this.fill();break;case Ae.OPS.eoFill:this.eoFill();break;case Ae.OPS.stroke:this.stroke();break;case Ae.OPS.fillStroke:this.fillStroke();break;case Ae.OPS.eoFillStroke:this.eoFillStroke();break;case Ae.OPS.clip:this.clip("nonzero");break;case Ae.OPS.eoClip:this.clip("evenodd");break;case Ae.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Ae.OPS.paintImageXObject:this.paintImageXObject(dn[0]);break;case Ae.OPS.paintInlineImageXObject:this.paintInlineImageXObject(dn[0]);break;case Ae.OPS.paintImageMaskXObject:this.paintImageMaskXObject(dn[0]);break;case Ae.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(dn[0],dn[1]);break;case Ae.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Ae.OPS.closePath:this.closePath();break;case Ae.OPS.closeStroke:this.closeStroke();break;case Ae.OPS.closeFillStroke:this.closeFillStroke();break;case Ae.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Ae.OPS.nextLine:this.nextLine();break;case Ae.OPS.transform:this.transform(dn[0],dn[1],dn[2],dn[3],dn[4],dn[5]);break;case Ae.OPS.constructPath:this.constructPath(dn[0],dn[1]);break;case Ae.OPS.endPath:this.endPath();break;case 92:this.group(He.items);break;default:(0,Ae.warn)(`Unimplemented operator ${Qe}`);break}}}setWordSpacing(Ve){this.current.wordSpacing=Ve}setCharSpacing(Ve){this.current.charSpacing=Ve}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Ve,He,Qe,Je,dn,an){const Ke=this.current;Ke.textMatrix=Ke.lineMatrix=[Ve,He,Qe,Je,dn,an],Ke.textMatrixScale=Math.hypot(Ve,He),Ke.x=Ke.lineX=0,Ke.y=Ke.lineY=0,Ke.xcoords=[],Ke.ycoords=[],Ke.tspan=this.svgFactory.createElement("svg:tspan"),Ke.tspan.setAttributeNS(null,"font-family",Ke.fontFamily),Ke.tspan.setAttributeNS(null,"font-size",`${Be(Ke.fontSize)}px`),Ke.tspan.setAttributeNS(null,"y",Be(-Ke.y)),Ke.txtElement=this.svgFactory.createElement("svg:text"),Ke.txtElement.append(Ke.tspan)}beginText(){const Ve=this.current;Ve.x=Ve.lineX=0,Ve.y=Ve.lineY=0,Ve.textMatrix=Ae.IDENTITY_MATRIX,Ve.lineMatrix=Ae.IDENTITY_MATRIX,Ve.textMatrixScale=1,Ve.tspan=this.svgFactory.createElement("svg:tspan"),Ve.txtElement=this.svgFactory.createElement("svg:text"),Ve.txtgrp=this.svgFactory.createElement("svg:g"),Ve.xcoords=[],Ve.ycoords=[]}moveText(Ve,He){const Qe=this.current;Qe.x=Qe.lineX+=Ve,Qe.y=Qe.lineY+=He,Qe.xcoords=[],Qe.ycoords=[],Qe.tspan=this.svgFactory.createElement("svg:tspan"),Qe.tspan.setAttributeNS(null,"font-family",Qe.fontFamily),Qe.tspan.setAttributeNS(null,"font-size",`${Be(Qe.fontSize)}px`),Qe.tspan.setAttributeNS(null,"y",Be(-Qe.y))}showText(Ve){const He=this.current,Qe=He.font,Je=He.fontSize;if(Je===0)return;const dn=He.fontSizeScale,an=He.charSpacing,Ke=He.wordSpacing,rn=He.fontDirection,Cn=He.textHScale*rn,Sn=Qe.vertical,fn=Sn?1:-1,gn=Qe.defaultVMetrics,vn=Je*He.fontMatrix[0];let pn=0;for(const Bn of Ve){if(Bn===null){pn+=rn*Ke;continue}else if(typeof Bn=="number"){pn+=fn*Bn*Je/1e3;continue}const Ze=(Bn.isSpace?Ke:0)+an,Xe=Bn.fontChar;let Ye,en,on=Bn.width;if(Sn){let bn;const Ln=Bn.vmetric||gn;bn=Bn.vmetric?Ln[1]:on*.5,bn=-bn*vn;const Vn=Ln[2]*vn;on=Ln?-Ln[0]:on,Ye=bn/dn,en=(pn+Vn)/dn}else Ye=pn/dn,en=0;(Bn.isInFont||Qe.missingFile)&&(He.xcoords.push(He.x+Ye),Sn&&He.ycoords.push(-He.y+en),He.tspan.textContent+=Xe);let hn;Sn?hn=on*vn-Ze*rn:hn=on*vn+Ze*rn,pn+=hn}He.tspan.setAttributeNS(null,"x",He.xcoords.map(Be).join(" ")),Sn?He.tspan.setAttributeNS(null,"y",He.ycoords.map(Be).join(" ")):He.tspan.setAttributeNS(null,"y",Be(-He.y)),Sn?He.y-=pn:He.x+=pn*Cn,He.tspan.setAttributeNS(null,"font-family",He.fontFamily),He.tspan.setAttributeNS(null,"font-size",`${Be(He.fontSize)}px`),He.fontStyle!==xe.fontStyle&&He.tspan.setAttributeNS(null,"font-style",He.fontStyle),He.fontWeight!==xe.fontWeight&&He.tspan.setAttributeNS(null,"font-weight",He.fontWeight);const On=He.textRenderingMode&Ae.TextRenderingMode.FILL_STROKE_MASK;if(On===Ae.TextRenderingMode.FILL||On===Ae.TextRenderingMode.FILL_STROKE?(He.fillColor!==xe.fillColor&&He.tspan.setAttributeNS(null,"fill",He.fillColor),He.fillAlpha<1&&He.tspan.setAttributeNS(null,"fill-opacity",He.fillAlpha)):He.textRenderingMode===Ae.TextRenderingMode.ADD_TO_PATH?He.tspan.setAttributeNS(null,"fill","transparent"):He.tspan.setAttributeNS(null,"fill","none"),On===Ae.TextRenderingMode.STROKE||On===Ae.TextRenderingMode.FILL_STROKE){const Bn=1/(He.textMatrixScale||1);this._setStrokeAttributes(He.tspan,Bn)}let Hn=He.textMatrix;He.textRise!==0&&(Hn=Hn.slice(),Hn[5]+=He.textRise),He.txtElement.setAttributeNS(null,"transform",`${Ie(Hn)} scale(${Be(Cn)}, -1)`),He.txtElement.setAttributeNS(Te,"xml:space","preserve"),He.txtElement.append(He.tspan),He.txtgrp.append(He.txtElement),this._ensureTransformGroup().append(He.txtElement)}setLeadingMoveText(Ve,He){this.setLeading(-He),this.moveText(Ve,He)}addFontStyle(Ve){if(!Ve.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const He=De(Ve.data,Ve.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Ve.loadedName}"; src: url(${He}); }
`}setFont(Ve){const He=this.current,Qe=this.commonObjs.get(Ve[0]);let Je=Ve[1];He.font=Qe,this.embedFonts&&!Qe.missingFile&&!this.embeddedFonts[Qe.loadedName]&&(this.addFontStyle(Qe),this.embeddedFonts[Qe.loadedName]=Qe),He.fontMatrix=Qe.fontMatrix||Ae.FONT_IDENTITY_MATRIX;let dn="normal";Qe.black?dn="900":Qe.bold&&(dn="bold");const an=Qe.italic?"italic":"normal";Je<0?(Je=-Je,He.fontDirection=-1):He.fontDirection=1,He.fontSize=Je,He.fontFamily=Qe.loadedName,He.fontWeight=dn,He.fontStyle=an,He.tspan=this.svgFactory.createElement("svg:tspan"),He.tspan.setAttributeNS(null,"y",Be(-He.y)),He.xcoords=[],He.ycoords=[]}endText(){var He;const Ve=this.current;Ve.textRenderingMode&Ae.TextRenderingMode.ADD_TO_PATH_FLAG&&((He=Ve.txtElement)==null?void 0:He.hasChildNodes())&&(Ve.element=Ve.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Ve){Ve>0&&(this.current.lineWidth=Ve)}setLineCap(Ve){this.current.lineCap=Re[Ve]}setLineJoin(Ve){this.current.lineJoin=Ue[Ve]}setMiterLimit(Ve){this.current.miterLimit=Ve}setStrokeAlpha(Ve){this.current.strokeAlpha=Ve}setStrokeRGBColor(Ve,He,Qe){this.current.strokeColor=Ae.Util.makeHexColor(Ve,He,Qe)}setFillAlpha(Ve){this.current.fillAlpha=Ve}setFillRGBColor(Ve,He,Qe){this.current.fillColor=Ae.Util.makeHexColor(Ve,He,Qe),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Ve){this.current.strokeColor=this._makeColorN_Pattern(Ve)}setFillColorN(Ve){this.current.fillColor=this._makeColorN_Pattern(Ve)}shadingFill(Ve){const He=this.viewport.width,Qe=this.viewport.height,Je=Ae.Util.inverseTransform(this.transformMatrix),dn=Ae.Util.applyTransform([0,0],Je),an=Ae.Util.applyTransform([0,Qe],Je),Ke=Ae.Util.applyTransform([He,0],Je),rn=Ae.Util.applyTransform([He,Qe],Je),Cn=Math.min(dn[0],an[0],Ke[0],rn[0]),Sn=Math.min(dn[1],an[1],Ke[1],rn[1]),fn=Math.max(dn[0],an[0],Ke[0],rn[0]),gn=Math.max(dn[1],an[1],Ke[1],rn[1]),vn=this.svgFactory.createElement("svg:rect");vn.setAttributeNS(null,"x",Cn),vn.setAttributeNS(null,"y",Sn),vn.setAttributeNS(null,"width",fn-Cn),vn.setAttributeNS(null,"height",gn-Sn),vn.setAttributeNS(null,"fill",this._makeShadingPattern(Ve)),this.current.fillAlpha<1&&vn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(vn)}_makeColorN_Pattern(Ve){return Ve[0]==="TilingPattern"?this._makeTilingPattern(Ve):this._makeShadingPattern(Ve)}_makeTilingPattern(Ve){const He=Ve[1],Qe=Ve[2],Je=Ve[3]||Ae.IDENTITY_MATRIX,[dn,an,Ke,rn]=Ve[4],Cn=Ve[5],Sn=Ve[6],fn=Ve[7],gn=`shading${ze++}`,[vn,pn,On,Hn]=Ae.Util.normalizeRect([...Ae.Util.applyTransform([dn,an],Je),...Ae.Util.applyTransform([Ke,rn],Je)]),[Bn,Ze]=Ae.Util.singularValueDecompose2dScale(Je),Xe=Cn*Bn,Ye=Sn*Ze,en=this.svgFactory.createElement("svg:pattern");en.setAttributeNS(null,"id",gn),en.setAttributeNS(null,"patternUnits","userSpaceOnUse"),en.setAttributeNS(null,"width",Xe),en.setAttributeNS(null,"height",Ye),en.setAttributeNS(null,"x",`${vn}`),en.setAttributeNS(null,"y",`${pn}`);const on=this.svg,hn=this.transformMatrix,bn=this.current.fillColor,Ln=this.current.strokeColor,Vn=this.svgFactory.create(On-vn,Hn-pn);if(this.svg=Vn,this.transformMatrix=Je,fn===2){const Wn=Ae.Util.makeHexColor(...He);this.current.fillColor=Wn,this.current.strokeColor=Wn}return this.executeOpTree(this.convertOpList(Qe)),this.svg=on,this.transformMatrix=hn,this.current.fillColor=bn,this.current.strokeColor=Ln,en.append(Vn.childNodes[0]),this.defs.append(en),`url(#${gn})`}_makeShadingPattern(Ve){switch(typeof Ve=="string"&&(Ve=this.objs.get(Ve)),Ve[0]){case"RadialAxial":const He=`shading${ze++}`,Qe=Ve[3];let Je;switch(Ve[1]){case"axial":const dn=Ve[4],an=Ve[5];Je=this.svgFactory.createElement("svg:linearGradient"),Je.setAttributeNS(null,"id",He),Je.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Je.setAttributeNS(null,"x1",dn[0]),Je.setAttributeNS(null,"y1",dn[1]),Je.setAttributeNS(null,"x2",an[0]),Je.setAttributeNS(null,"y2",an[1]);break;case"radial":const Ke=Ve[4],rn=Ve[5],Cn=Ve[6],Sn=Ve[7];Je=this.svgFactory.createElement("svg:radialGradient"),Je.setAttributeNS(null,"id",He),Je.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Je.setAttributeNS(null,"cx",rn[0]),Je.setAttributeNS(null,"cy",rn[1]),Je.setAttributeNS(null,"r",Sn),Je.setAttributeNS(null,"fx",Ke[0]),Je.setAttributeNS(null,"fy",Ke[1]),Je.setAttributeNS(null,"fr",Cn);break;default:throw new Error(`Unknown RadialAxial type: ${Ve[1]}`)}for(const dn of Qe){const an=this.svgFactory.createElement("svg:stop");an.setAttributeNS(null,"offset",dn[0]),an.setAttributeNS(null,"stop-color",dn[1]),Je.append(an)}return this.defs.append(Je),`url(#${He})`;case"Mesh":return(0,Ae.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Ve[0]}`)}}setDash(Ve,He){this.current.dashArray=Ve,this.current.dashPhase=He}constructPath(Ve,He){const Qe=this.current;let Je=Qe.x,dn=Qe.y,an=[],Ke=0;for(const rn of Ve)switch(rn|0){case Ae.OPS.rectangle:Je=He[Ke++],dn=He[Ke++];const Cn=He[Ke++],Sn=He[Ke++],fn=Je+Cn,gn=dn+Sn;an.push("M",Be(Je),Be(dn),"L",Be(fn),Be(dn),"L",Be(fn),Be(gn),"L",Be(Je),Be(gn),"Z");break;case Ae.OPS.moveTo:Je=He[Ke++],dn=He[Ke++],an.push("M",Be(Je),Be(dn));break;case Ae.OPS.lineTo:Je=He[Ke++],dn=He[Ke++],an.push("L",Be(Je),Be(dn));break;case Ae.OPS.curveTo:Je=He[Ke+4],dn=He[Ke+5],an.push("C",Be(He[Ke]),Be(He[Ke+1]),Be(He[Ke+2]),Be(He[Ke+3]),Be(Je),Be(dn)),Ke+=6;break;case Ae.OPS.curveTo2:an.push("C",Be(Je),Be(dn),Be(He[Ke]),Be(He[Ke+1]),Be(He[Ke+2]),Be(He[Ke+3])),Je=He[Ke+2],dn=He[Ke+3],Ke+=4;break;case Ae.OPS.curveTo3:Je=He[Ke+2],dn=He[Ke+3],an.push("C",Be(He[Ke]),Be(He[Ke+1]),Be(Je),Be(dn),Be(Je),Be(dn)),Ke+=4;break;case Ae.OPS.closePath:an.push("Z");break}an=an.join(" "),Qe.path&&Ve.length>0&&Ve[0]!==Ae.OPS.rectangle&&Ve[0]!==Ae.OPS.moveTo?an=Qe.path.getAttributeNS(null,"d")+an:(Qe.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Qe.path)),Qe.path.setAttributeNS(null,"d",an),Qe.path.setAttributeNS(null,"fill","none"),Qe.element=Qe.path,Qe.setCurrentPoint(Je,dn)}endPath(){const Ve=this.current;if(Ve.path=null,!this.pendingClip)return;if(!Ve.element){this.pendingClip=null;return}const He=`clippath${qe++}`,Qe=this.svgFactory.createElement("svg:clipPath");Qe.setAttributeNS(null,"id",He),Qe.setAttributeNS(null,"transform",Ie(this.transformMatrix));const Je=Ve.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Je.setAttributeNS(null,"clip-rule","evenodd"):Je.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Qe.append(Je),this.defs.append(Qe),Ve.activeClipUrl){Ve.clipGroup=null;for(const dn of this.extraStack)dn.clipGroup=null;Qe.setAttributeNS(null,"clip-path",Ve.activeClipUrl)}Ve.activeClipUrl=`url(#${He})`,this.tgrp=null}clip(Ve){this.pendingClip=Ve}closePath(){const Ve=this.current;if(Ve.path){const He=`${Ve.path.getAttributeNS(null,"d")}Z`;Ve.path.setAttributeNS(null,"d",He)}}setLeading(Ve){this.current.leading=-Ve}setTextRise(Ve){this.current.textRise=Ve}setTextRenderingMode(Ve){this.current.textRenderingMode=Ve}setHScale(Ve){this.current.textHScale=Ve/100}setRenderingIntent(Ve){}setFlatness(Ve){}setGState(Ve){for(const[He,Qe]of Ve)switch(He){case"LW":this.setLineWidth(Qe);break;case"LC":this.setLineCap(Qe);break;case"LJ":this.setLineJoin(Qe);break;case"ML":this.setMiterLimit(Qe);break;case"D":this.setDash(Qe[0],Qe[1]);break;case"RI":this.setRenderingIntent(Qe);break;case"FL":this.setFlatness(Qe);break;case"Font":this.setFont(Qe);break;case"CA":this.setStrokeAlpha(Qe);break;case"ca":this.setFillAlpha(Qe);break;default:(0,Ae.warn)(`Unimplemented graphic state operator ${He}`);break}}fill(){const Ve=this.current;Ve.element&&(Ve.element.setAttributeNS(null,"fill",Ve.fillColor),Ve.element.setAttributeNS(null,"fill-opacity",Ve.fillAlpha),this.endPath())}stroke(){const Ve=this.current;Ve.element&&(this._setStrokeAttributes(Ve.element),Ve.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Ve,He=1){const Qe=this.current;let Je=Qe.dashArray;He!==1&&Je.length>0&&(Je=Je.map(function(dn){return He*dn})),Ve.setAttributeNS(null,"stroke",Qe.strokeColor),Ve.setAttributeNS(null,"stroke-opacity",Qe.strokeAlpha),Ve.setAttributeNS(null,"stroke-miterlimit",Be(Qe.miterLimit)),Ve.setAttributeNS(null,"stroke-linecap",Qe.lineCap),Ve.setAttributeNS(null,"stroke-linejoin",Qe.lineJoin),Ve.setAttributeNS(null,"stroke-width",Be(He*Qe.lineWidth)+"px"),Ve.setAttributeNS(null,"stroke-dasharray",Je.map(Be).join(" ")),Ve.setAttributeNS(null,"stroke-dashoffset",Be(He*Qe.dashPhase)+"px")}eoFill(){var Ve;(Ve=this.current.element)==null||Ve.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Ve;(Ve=this.current.element)==null||Ve.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Ve=this.svgFactory.createElement("svg:rect");Ve.setAttributeNS(null,"x","0"),Ve.setAttributeNS(null,"y","0"),Ve.setAttributeNS(null,"width","1px"),Ve.setAttributeNS(null,"height","1px"),Ve.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Ve)}paintImageXObject(Ve){const He=this.getObject(Ve);if(!He){(0,Ae.warn)(`Dependent image with object ID ${Ve} is not ready yet`);return}this.paintInlineImageXObject(He)}paintInlineImageXObject(Ve,He){const Qe=Ve.width,Je=Ve.height,dn=ke(Ve,this.forceDataSchema,!!He),an=this.svgFactory.createElement("svg:rect");an.setAttributeNS(null,"x","0"),an.setAttributeNS(null,"y","0"),an.setAttributeNS(null,"width",Be(Qe)),an.setAttributeNS(null,"height",Be(Je)),this.current.element=an,this.clip("nonzero");const Ke=this.svgFactory.createElement("svg:image");Ke.setAttributeNS(Ce,"xlink:href",dn),Ke.setAttributeNS(null,"x","0"),Ke.setAttributeNS(null,"y",Be(-Je)),Ke.setAttributeNS(null,"width",Be(Qe)+"px"),Ke.setAttributeNS(null,"height",Be(Je)+"px"),Ke.setAttributeNS(null,"transform",`scale(${Be(1/Qe)} ${Be(-1/Je)})`),He?He.append(Ke):this._ensureTransformGroup().append(Ke)}paintImageMaskXObject(Ve){const He=this.getObject(Ve.data,Ve);if(He.bitmap){(0,Ae.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Qe=this.current,Je=He.width,dn=He.height,an=Qe.fillColor;Qe.maskId=`mask${je++}`;const Ke=this.svgFactory.createElement("svg:mask");Ke.setAttributeNS(null,"id",Qe.maskId);const rn=this.svgFactory.createElement("svg:rect");rn.setAttributeNS(null,"x","0"),rn.setAttributeNS(null,"y","0"),rn.setAttributeNS(null,"width",Be(Je)),rn.setAttributeNS(null,"height",Be(dn)),rn.setAttributeNS(null,"fill",an),rn.setAttributeNS(null,"mask",`url(#${Qe.maskId})`),this.defs.append(Ke),this._ensureTransformGroup().append(rn),this.paintInlineImageXObject(He,Ke)}paintFormXObjectBegin(Ve,He){if(Array.isArray(Ve)&&Ve.length===6&&this.transform(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5]),He){const Qe=He[2]-He[0],Je=He[3]-He[1],dn=this.svgFactory.createElement("svg:rect");dn.setAttributeNS(null,"x",He[0]),dn.setAttributeNS(null,"y",He[1]),dn.setAttributeNS(null,"width",Be(Qe)),dn.setAttributeNS(null,"height",Be(Je)),this.current.element=dn,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Ve){const He=this.svgFactory.create(Ve.width,Ve.height),Qe=this.svgFactory.createElement("svg:defs");He.append(Qe),this.defs=Qe;const Je=this.svgFactory.createElement("svg:g");return Je.setAttributeNS(null,"transform",Ie(Ve.transform)),He.append(Je),this.svg=Je,He}_ensureClipGroup(){if(!this.current.clipGroup){const Ve=this.svgFactory.createElement("svg:g");Ve.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Ve),this.current.clipGroup=Ve}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ie(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var _e=r(1),Ae=r(32);const Se=require$$5,Ee=require$$5,xe=require$$5,Te=require$$5,Ce=/^file:\/\/\/[a-zA-Z]:\//;function Re(je){const ze=Te.parse(je);return ze.protocol==="file:"||ze.host?ze:/^[a-z]:[/\\]/i.test(je)?Te.parse(`file:///${je}`):(ze.host||(ze.protocol="file:"),ze)}class Ue{constructor(ze){this.source=ze,this.url=Re(ze.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ze.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ze,Ve;return(Ve=(ze=this._fullRequestReader)==null?void 0:ze._loaded)!=null?Ve:0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ie(this):new Oe(this),this._fullRequestReader}getRangeReader(ze,Ve){if(Ve<=this._progressiveDataLength)return null;const He=this.isFsUrl?new qe(this,ze,Ve):new Be(this,ze,Ve);return this._rangeRequestReaders.push(He),He}cancelAllRequests(ze){var Ve;(Ve=this._fullRequestReader)==null||Ve.cancel(ze);for(const He of this._rangeRequestReaders.slice(0))He.cancel(ze)}}t.PDFNodeStream=Ue;class De{constructor(ze){this._url=ze.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ve=ze.source;this._contentLength=Ve.length,this._loaded=0,this._filename=null,this._disableRange=Ve.disableRange||!1,this._rangeChunkSize=Ve.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ve.disableStream,this._isRangeSupported=!Ve.disableRange,this._readableStream=null,this._readCapability=(0,_e.createPromiseCapability)(),this._headersCapability=(0,_e.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var He;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ze=this._readableStream.read();return ze===null?(this._readCapability=(0,_e.createPromiseCapability)(),this.read()):(this._loaded+=ze.length,(He=this.onProgress)==null||He.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ze).buffer,done:!1})}cancel(ze){if(!this._readableStream){this._error(ze);return}this._readableStream.destroy(ze)}_error(ze){this._storedError=ze,this._readCapability.resolve()}_setReadableStream(ze){this._readableStream=ze,ze.on("readable",()=>{this._readCapability.resolve()}),ze.on("end",()=>{ze.destroy(),this._done=!0,this._readCapability.resolve()}),ze.on("error",Ve=>{this._error(Ve)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ke{constructor(ze){this._url=ze.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_e.createPromiseCapability)();const Ve=ze.source;this._isStreamingSupported=!Ve.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var He;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ze=this._readableStream.read();return ze===null?(this._readCapability=(0,_e.createPromiseCapability)(),this.read()):(this._loaded+=ze.length,(He=this.onProgress)==null||He.call(this,{loaded:this._loaded}),{value:new Uint8Array(ze).buffer,done:!1})}cancel(ze){if(!this._readableStream){this._error(ze);return}this._readableStream.destroy(ze)}_error(ze){this._storedError=ze,this._readCapability.resolve()}_setReadableStream(ze){this._readableStream=ze,ze.on("readable",()=>{this._readCapability.resolve()}),ze.on("end",()=>{ze.destroy(),this._done=!0,this._readCapability.resolve()}),ze.on("error",Ve=>{this._error(Ve)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Me(je,ze){return{protocol:je.protocol,auth:je.auth,host:je.hostname,port:je.port,path:je.path,method:"GET",headers:ze}}class Oe extends De{constructor(ze){super(ze);const Ve=He=>{if(He.statusCode===404){const an=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=an,this._headersCapability.reject(an);return}this._headersCapability.resolve(),this._setReadableStream(He);const Qe=an=>this._readableStream.headers[an.toLowerCase()],{allowRangeRequests:Je,suggestedLength:dn}=(0,Ae.validateRangeRequestCapabilities)({getResponseHeader:Qe,isHttp:ze.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Je,this._contentLength=dn||this._contentLength,this._filename=(0,Ae.extractFilenameFromHeader)(Qe)};this._request=null,this._url.protocol==="http:"?this._request=Ee.request(Me(this._url,ze.httpHeaders),Ve):this._request=xe.request(Me(this._url,ze.httpHeaders),Ve),this._request.on("error",He=>{this._storedError=He,this._headersCapability.reject(He)}),this._request.end()}}class Be extends ke{constructor(ze,Ve,He){super(ze),this._httpHeaders={};for(const Je in ze.httpHeaders){const dn=ze.httpHeaders[Je];typeof dn>"u"||(this._httpHeaders[Je]=dn)}this._httpHeaders.Range=`bytes=${Ve}-${He-1}`;const Qe=Je=>{if(Je.statusCode===404){const dn=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=dn;return}this._setReadableStream(Je)};this._request=null,this._url.protocol==="http:"?this._request=Ee.request(Me(this._url,this._httpHeaders),Qe):this._request=xe.request(Me(this._url,this._httpHeaders),Qe),this._request.on("error",Je=>{this._storedError=Je}),this._request.end()}}class Ie extends De{constructor(ze){super(ze);let Ve=decodeURIComponent(this._url.path);Ce.test(this._url.href)&&(Ve=Ve.replace(/^\//,"")),Se.lstat(Ve,(He,Qe)=>{if(He){He.code==="ENOENT"&&(He=new _e.MissingPDFException(`Missing PDF "${Ve}".`)),this._storedError=He,this._headersCapability.reject(He);return}this._contentLength=Qe.size,this._setReadableStream(Se.createReadStream(Ve)),this._headersCapability.resolve()})}}class qe extends ke{constructor(ze,Ve,He){super(ze);let Qe=decodeURIComponent(this._url.path);Ce.test(this._url.href)&&(Qe=Qe.replace(/^\//,"")),this._setReadableStream(Se.createReadStream(Qe,{start:Ve,end:He-1}))}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=Te,t.extractFilenameFromHeader=xe,t.validateRangeRequestCapabilities=Ee,t.validateResponseStatus=Ce;var _e=r(1),Ae=r(33),Se=r(6);function Ee({getResponseHeader:Re,isHttp:Ue,rangeChunkSize:De,disableRange:ke}){const Me={allowRangeRequests:!1,suggestedLength:void 0},Oe=parseInt(Re("Content-Length"),10);return!Number.isInteger(Oe)||(Me.suggestedLength=Oe,Oe<=2*De)||ke||!Ue||Re("Accept-Ranges")!=="bytes"||(Re("Content-Encoding")||"identity")!=="identity"||(Me.allowRangeRequests=!0),Me}function xe(Re){const Ue=Re("Content-Disposition");if(Ue){let De=(0,Ae.getFilenameFromContentDispositionHeader)(Ue);if(De.includes("%"))try{De=decodeURIComponent(De)}catch{}if((0,Se.isPdfFile)(De))return De}return null}function Te(Re,Ue){return Re===404||Re===0&&Ue.startsWith("file:")?new _e.MissingPDFException('Missing PDF "'+Ue+'".'):new _e.UnexpectedResponseException(`Unexpected server response (${Re}) while retrieving PDF "${Ue}".`,Re)}function Ce(Re){return Re===200||Re===206}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=Ae;var _e=r(1);function Ae(Se){let Ee=!0,xe=Te("filename\\*","i").exec(Se);if(xe){xe=xe[1];let Oe=De(xe);return Oe=unescape(Oe),Oe=ke(Oe),Oe=Me(Oe),Re(Oe)}if(xe=Ue(Se),xe){const Oe=Me(xe);return Re(Oe)}if(xe=Te("filename","i").exec(Se),xe){xe=xe[1];let Oe=De(xe);return Oe=Me(Oe),Re(Oe)}function Te(Oe,Be){return new RegExp("(?:^|;)\\s*"+Oe+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Be)}function Ce(Oe,Be){if(Oe){if(!/^[\x00-\xFF]+$/.test(Be))return Be;try{const Ie=new TextDecoder(Oe,{fatal:!0}),qe=(0,_e.stringToBytes)(Be);Be=Ie.decode(qe),Ee=!1}catch{}}return Be}function Re(Oe){return Ee&&/[\x80-\xff]/.test(Oe)&&(Oe=Ce("utf-8",Oe),Ee&&(Oe=Ce("iso-8859-1",Oe))),Oe}function Ue(Oe){const Be=[];let Ie;const qe=Te("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ie=qe.exec(Oe))!==null;){let[,ze,Ve,He]=Ie;if(ze=parseInt(ze,10),ze in Be){if(ze===0)break;continue}Be[ze]=[Ve,He]}const je=[];for(let ze=0;ze<Be.length&&ze in Be;++ze){let[Ve,He]=Be[ze];He=De(He),Ve&&(He=unescape(He),ze===0&&(He=ke(He))),je.push(He)}return je.join("")}function De(Oe){if(Oe.startsWith('"')){const Be=Oe.slice(1).split('\\"');for(let Ie=0;Ie<Be.length;++Ie){const qe=Be[Ie].indexOf('"');qe!==-1&&(Be[Ie]=Be[Ie].slice(0,qe),Be.length=Ie+1),Be[Ie]=Be[Ie].replace(/\\(.)/g,"$1")}Oe=Be.join('"')}return Oe}function ke(Oe){const Be=Oe.indexOf("'");if(Be===-1)return Oe;const Ie=Oe.slice(0,Be),je=Oe.slice(Be+1).replace(/^[^']*'/,"");return Ce(Ie,je)}function Me(Oe){return!Oe.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Oe)?Oe:Oe.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Be,Ie,qe,je){if(qe==="q"||qe==="Q")return je=je.replace(/_/g," "),je=je.replace(/=([0-9a-fA-F]{2})/g,function(ze,Ve){return String.fromCharCode(parseInt(Ve,16))}),Ce(Ie,je);try{je=atob(je)}catch{}return Ce(Ie,je)})}return""}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var _e=r(1),Ae=r(32);const Se=200,Ee=206;function xe(De){const ke=De.response;return typeof ke!="string"?ke:(0,_e.stringToBytes)(ke).buffer}class Te{constructor(ke,Me={}){this.url=ke,this.isHttp=/^https?:/i.test(ke),this.httpHeaders=this.isHttp&&Me.httpHeaders||Object.create(null),this.withCredentials=Me.withCredentials||!1,this.getXhr=Me.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ke,Me,Oe){const Be={begin:ke,end:Me};for(const Ie in Oe)Be[Ie]=Oe[Ie];return this.request(Be)}requestFull(ke){return this.request(ke)}request(ke){const Me=this.getXhr(),Oe=this.currXhrId++,Be=this.pendingRequests[Oe]={xhr:Me};Me.open("GET",this.url),Me.withCredentials=this.withCredentials;for(const Ie in this.httpHeaders){const qe=this.httpHeaders[Ie];typeof qe>"u"||Me.setRequestHeader(Ie,qe)}return this.isHttp&&"begin"in ke&&"end"in ke?(Me.setRequestHeader("Range",`bytes=${ke.begin}-${ke.end-1}`),Be.expectedStatus=Ee):Be.expectedStatus=Se,Me.responseType="arraybuffer",ke.onError&&(Me.onerror=function(Ie){ke.onError(Me.status)}),Me.onreadystatechange=this.onStateChange.bind(this,Oe),Me.onprogress=this.onProgress.bind(this,Oe),Be.onHeadersReceived=ke.onHeadersReceived,Be.onDone=ke.onDone,Be.onError=ke.onError,Be.onProgress=ke.onProgress,Me.send(null),Oe}onProgress(ke,Me){var Be;const Oe=this.pendingRequests[ke];!Oe||(Be=Oe.onProgress)==null||Be.call(Oe,Me)}onStateChange(ke,Me){var ze,Ve,He;const Oe=this.pendingRequests[ke];if(!Oe)return;const Be=Oe.xhr;if(Be.readyState>=2&&Oe.onHeadersReceived&&(Oe.onHeadersReceived(),delete Oe.onHeadersReceived),Be.readyState!==4||!(ke in this.pendingRequests))return;if(delete this.pendingRequests[ke],Be.status===0&&this.isHttp){(ze=Oe.onError)==null||ze.call(Oe,Be.status);return}const Ie=Be.status||Se;if(!(Ie===Se&&Oe.expectedStatus===Ee)&&Ie!==Oe.expectedStatus){(Ve=Oe.onError)==null||Ve.call(Oe,Be.status);return}const je=xe(Be);if(Ie===Ee){const Qe=Be.getResponseHeader("Content-Range"),Je=/bytes (\d+)-(\d+)\/(\d+)/.exec(Qe);Oe.onDone({begin:parseInt(Je[1],10),chunk:je})}else je?Oe.onDone({begin:0,chunk:je}):(He=Oe.onError)==null||He.call(Oe,Be.status)}getRequestXhr(ke){return this.pendingRequests[ke].xhr}isPendingRequest(ke){return ke in this.pendingRequests}abortRequest(ke){const Me=this.pendingRequests[ke].xhr;delete this.pendingRequests[ke],Me.abort()}}class Ce{constructor(ke){this._source=ke,this._manager=new Te(ke.url,{httpHeaders:ke.httpHeaders,withCredentials:ke.withCredentials}),this._rangeChunkSize=ke.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ke){const Me=this._rangeRequestReaders.indexOf(ke);Me>=0&&this._rangeRequestReaders.splice(Me,1)}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Re(this._manager,this._source),this._fullRequestReader}getRangeReader(ke,Me){const Oe=new Ue(this._manager,ke,Me);return Oe.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Oe),Oe}cancelAllRequests(ke){var Me;(Me=this._fullRequestReader)==null||Me.cancel(ke);for(const Oe of this._rangeRequestReaders.slice(0))Oe.cancel(ke)}}t.PDFNetworkStream=Ce;class Re{constructor(ke,Me){this._manager=ke;const Oe={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Me.url,this._fullRequestId=ke.requestFull(Oe),this._headersReceivedCapability=(0,_e.createPromiseCapability)(),this._disableRange=Me.disableRange||!1,this._contentLength=Me.length,this._rangeChunkSize=Me.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ke=this._fullRequestId,Me=this._manager.getRequestXhr(ke),Oe=qe=>Me.getResponseHeader(qe),{allowRangeRequests:Be,suggestedLength:Ie}=(0,Ae.validateRangeRequestCapabilities)({getResponseHeader:Oe,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Be&&(this._isRangeSupported=!0),this._contentLength=Ie||this._contentLength,this._filename=(0,Ae.extractFilenameFromHeader)(Oe),this._isRangeSupported&&this._manager.abortRequest(ke),this._headersReceivedCapability.resolve()}_onDone(ke){if(ke&&(this._requests.length>0?this._requests.shift().resolve({value:ke.chunk,done:!1}):this._cachedChunks.push(ke.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Me of this._requests)Me.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ke){this._storedError=(0,Ae.createResponseStatusError)(ke,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Me of this._requests)Me.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ke){var Me;(Me=this.onProgress)==null||Me.call(this,{loaded:ke.loaded,total:ke.lengthComputable?ke.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ke=(0,_e.createPromiseCapability)();return this._requests.push(ke),ke.promise}cancel(ke){this._done=!0,this._headersReceivedCapability.reject(ke);for(const Me of this._requests)Me.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ue{constructor(ke,Me,Oe){this._manager=ke;const Be={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ke.url,this._requestId=ke.requestRange(Me,Oe,Be),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ke;(ke=this.onClosed)==null||ke.call(this,this)}_onDone(ke){const Me=ke.chunk;this._requests.length>0?this._requests.shift().resolve({value:Me,done:!1}):this._queuedChunk=Me,this._done=!0;for(const Oe of this._requests)Oe.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ke){this._storedError=(0,Ae.createResponseStatusError)(ke,this._url);for(const Me of this._requests)Me.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ke){var Me;this.isStreamingSupported||(Me=this.onProgress)==null||Me.call(this,{loaded:ke.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Me=this._queuedChunk;return this._queuedChunk=null,{value:Me,done:!1}}if(this._done)return{value:void 0,done:!0};const ke=(0,_e.createPromiseCapability)();return this._requests.push(ke),ke.promise}cancel(ke){this._done=!0;for(const Me of this._requests)Me.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var _e=r(1),Ae=r(32);function Se(Re,Ue,De){return{method:"GET",headers:Re,signal:De.signal,mode:"cors",credentials:Ue?"include":"same-origin",redirect:"follow"}}function Ee(Re){const Ue=new Headers;for(const De in Re){const ke=Re[De];typeof ke>"u"||Ue.append(De,ke)}return Ue}class xe{constructor(Ue){this.source=Ue,this.isHttp=/^https?:/i.test(Ue.url),this.httpHeaders=this.isHttp&&Ue.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Ue,De;return(De=(Ue=this._fullRequestReader)==null?void 0:Ue._loaded)!=null?De:0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Te(this),this._fullRequestReader}getRangeReader(Ue,De){if(De<=this._progressiveDataLength)return null;const ke=new Ce(this,Ue,De);return this._rangeRequestReaders.push(ke),ke}cancelAllRequests(Ue){var De;(De=this._fullRequestReader)==null||De.cancel(Ue);for(const ke of this._rangeRequestReaders.slice(0))ke.cancel(Ue)}}t.PDFFetchStream=xe;class Te{constructor(Ue){this._stream=Ue,this._reader=null,this._loaded=0,this._filename=null;const De=Ue.source;this._withCredentials=De.withCredentials||!1,this._contentLength=De.length,this._headersCapability=(0,_e.createPromiseCapability)(),this._disableRange=De.disableRange||!1,this._rangeChunkSize=De.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!De.disableStream,this._isRangeSupported=!De.disableRange,this._headers=Ee(this._stream.httpHeaders);const ke=De.url;fetch(ke,Se(this._headers,this._withCredentials,this._abortController)).then(Me=>{if(!(0,Ae.validateResponseStatus)(Me.status))throw(0,Ae.createResponseStatusError)(Me.status,ke);this._reader=Me.body.getReader(),this._headersCapability.resolve();const Oe=qe=>Me.headers.get(qe),{allowRangeRequests:Be,suggestedLength:Ie}=(0,Ae.validateRangeRequestCapabilities)({getResponseHeader:Oe,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Be,this._contentLength=Ie||this._contentLength,this._filename=(0,Ae.extractFilenameFromHeader)(Oe),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Me;await this._headersCapability.promise;const{value:Ue,done:De}=await this._reader.read();return De?{value:Ue,done:De}:(this._loaded+=Ue.byteLength,(Me=this.onProgress)==null||Me.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Ue).buffer,done:!1})}cancel(Ue){var De;(De=this._reader)==null||De.cancel(Ue),this._abortController.abort()}}class Ce{constructor(Ue,De,ke){this._stream=Ue,this._reader=null,this._loaded=0;const Me=Ue.source;this._withCredentials=Me.withCredentials||!1,this._readCapability=(0,_e.createPromiseCapability)(),this._isStreamingSupported=!Me.disableStream,this._abortController=new AbortController,this._headers=Ee(this._stream.httpHeaders),this._headers.append("Range",`bytes=${De}-${ke-1}`);const Oe=Me.url;fetch(Oe,Se(this._headers,this._withCredentials,this._abortController)).then(Be=>{if(!(0,Ae.validateResponseStatus)(Be.status))throw(0,Ae.createResponseStatusError)(Be.status,Oe);this._readCapability.resolve(),this._reader=Be.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Me;await this._readCapability.promise;const{value:Ue,done:De}=await this._reader.read();return De?{value:Ue,done:De}:(this._loaded+=Ue.byteLength,(Me=this.onProgress)==null||Me.call(this,{loaded:this._loaded}),{value:new Uint8Array(Ue).buffer,done:!1})}cancel(Ue){var De;(De=this._reader)==null||De.cancel(Ue),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Ae.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Se.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return Ee.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return xe.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return Re.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return Ue.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return Ce.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}});var t=__w_pdfjs_require__(1),r=__w_pdfjs_require__(2),_e=__w_pdfjs_require__(6),Ae=__w_pdfjs_require__(21),Se=__w_pdfjs_require__(5),Ee=__w_pdfjs_require__(26),xe=__w_pdfjs_require__(14),Te=__w_pdfjs_require__(12),Ce=__w_pdfjs_require__(29),Re=__w_pdfjs_require__(30),Ue=__w_pdfjs_require__(28);if(Te.isNodeJS){const{PDFNodeStream:De}=__w_pdfjs_require__(31);(0,r.setPDFNetworkStreamFactory)(ke=>new De(ke))}else{const{PDFNetworkStream:De}=__w_pdfjs_require__(34),{PDFFetchStream:ke}=__w_pdfjs_require__(35);(0,r.setPDFNetworkStreamFactory)(Me=>(0,_e.isValidFetchUrl)(Me.url)?new ke(Me):new De(Me))}})(),__webpack_exports__})())}(pdf)),pdf.exports}(function(e,t){(function(_e,Ae){e.exports=Ae()})(globalThis,()=>(()=>{var r=[,(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.DefaultXfaLayerFactory=xe.DefaultTextLayerFactory=xe.DefaultStructTreeLayerFactory=xe.DefaultAnnotationLayerFactory=xe.DefaultAnnotationEditorLayerFactory=void 0;var Ce=Te(2),Re=Te(5),Ue=Te(4),De=Te(6),ke=Te(8),Me=Te(9),Oe=Te(10);class Be{createAnnotationLayerBuilder({pageDiv:He,pdfPage:Qe,annotationStorage:Je=null,imageResourcesPath:dn="",renderForms:an=!0,l10n:Ke=Ue.NullL10n,enableScripting:rn=!1,hasJSActionsPromise:Cn=null,mouseState:Sn=null,fieldObjectsPromise:fn=null,annotationCanvasMap:gn=null,accessibilityManager:vn=null}){return new Re.AnnotationLayerBuilder({pageDiv:He,pdfPage:Qe,imageResourcesPath:dn,renderForms:an,linkService:new De.SimpleLinkService,l10n:Ke,annotationStorage:Je,enableScripting:rn,hasJSActionsPromise:Cn,fieldObjectsPromise:fn,mouseState:Sn,annotationCanvasMap:gn,accessibilityManager:vn})}}xe.DefaultAnnotationLayerFactory=Be;class Ie{createAnnotationEditorLayerBuilder({uiManager:He=null,pageDiv:Qe,pdfPage:Je,accessibilityManager:dn=null,l10n:an,annotationStorage:Ke=null}){return new Ce.AnnotationEditorLayerBuilder({uiManager:He,pageDiv:Qe,pdfPage:Je,accessibilityManager:dn,l10n:an,annotationStorage:Ke})}}xe.DefaultAnnotationEditorLayerFactory=Ie;class qe{createStructTreeLayerBuilder({pdfPage:He}){return new ke.StructTreeLayerBuilder({pdfPage:He})}}xe.DefaultStructTreeLayerFactory=qe;class je{createTextLayerBuilder({textLayerDiv:He,pageIndex:Qe,viewport:Je,eventBus:dn,highlighter:an,accessibilityManager:Ke=null}){return new Me.TextLayerBuilder({textLayerDiv:He,pageIndex:Qe,viewport:Je,eventBus:dn,highlighter:an,accessibilityManager:Ke})}}xe.DefaultTextLayerFactory=je;class ze{createXfaLayerBuilder({pageDiv:He,pdfPage:Qe,annotationStorage:Je=null}){return new Oe.XfaLayerBuilder({pageDiv:He,pdfPage:Qe,annotationStorage:Je,linkService:new De.SimpleLinkService})}}xe.DefaultXfaLayerFactory=ze},(Ee,xe,Te)=>{var De;Object.defineProperty(xe,"__esModule",{value:!0}),xe.AnnotationEditorLayerBuilder=void 0;var Ce=Te(3),Re=Te(4);class Ue{constructor(Me){ei(this,De,void 0);this.pageDiv=Me.pageDiv,this.pdfPage=Me.pdfPage,this.annotationStorage=Me.annotationStorage||null,this.accessibilityManager=Me.accessibilityManager,this.l10n=Me.l10n||Re.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,bi(this,De,Me.uiManager)}async render(Me,Oe="display"){if(Oe!=="display"||this._cancelled)return;const Be=Me.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:Be}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new Ce.AnnotationEditorLayer({uiManager:Nn(this,De),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:Be});const Ie={viewport:Be,div:this.div,annotations:null,intent:Oe};this.annotationEditorLayer.render(Ie)}cancel(){this._cancelled=!0,this.destroy()}hide(){!this.div||(this.div.hidden=!0)}show(){!this.div||(this.div.hidden=!1)}destroy(){!this.div||(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}De=new WeakMap,xe.AnnotationEditorLayerBuilder=Ue},Ee=>{let xe;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?xe=window["pdfjs-dist/build/pdf"]:xe=requirePdf(),Ee.exports=xe},(Ee,xe)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.NullL10n=void 0,xe.fixupLangCode=Ue,xe.getL10nFallback=Ce;const Te={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image"};Te.print_progress_percent="{{progress}}%";function Ce(Me,Oe){switch(Me){case"find_match_count":Me=`find_match_count[${Oe.total===1?"one":"other"}]`;break;case"find_match_count_limit":Me=`find_match_count_limit[${Oe.limit===1?"one":"other"}]`;break}return Te[Me]||""}const Re={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function Ue(Me){return Re[Me==null?void 0:Me.toLowerCase()]||Me}function De(Me,Oe){return Oe?Me.replace(/\{\{\s*(\w+)\s*\}\}/g,(Be,Ie)=>Ie in Oe?Oe[Ie]:"{{"+Ie+"}}"):Me}const ke={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Me,Oe=null,Be=Ce(Me,Oe)){return De(Be,Oe)},async translate(Me){}};xe.NullL10n=ke},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.AnnotationLayerBuilder=void 0;var Ce=Te(3),Re=Te(4);class Ue{constructor({pageDiv:ke,pdfPage:Me,linkService:Oe,downloadManager:Be,annotationStorage:Ie=null,imageResourcesPath:qe="",renderForms:je=!0,l10n:ze=Re.NullL10n,enableScripting:Ve=!1,hasJSActionsPromise:He=null,fieldObjectsPromise:Qe=null,mouseState:Je=null,annotationCanvasMap:dn=null,accessibilityManager:an=null}){this.pageDiv=ke,this.pdfPage=Me,this.linkService=Oe,this.downloadManager=Be,this.imageResourcesPath=qe,this.renderForms=je,this.l10n=ze,this.annotationStorage=Ie,this.enableScripting=Ve,this._hasJSActionsPromise=He,this._fieldObjectsPromise=Qe,this._mouseState=Je,this._annotationCanvasMap=dn,this._accessibilityManager=an,this.div=null,this._cancelled=!1}async render(ke,Me="display"){const[Oe,Be=!1,Ie=null]=await Promise.all([this.pdfPage.getAnnotations({intent:Me}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||Oe.length===0)return;const qe={viewport:ke.clone({dontFlip:!0}),div:this.div,annotations:Oe,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:Be,fieldObjects:Ie,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?Ce.AnnotationLayer.update(qe):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),qe.div=this.div,Ce.AnnotationLayer.render(qe),this.l10n.translate(this.div))}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}xe.AnnotationLayerBuilder=Ue},(Ee,xe,Te)=>{var Oe,Be,tc,qe,gu;Object.defineProperty(xe,"__esModule",{value:!0}),xe.SimpleLinkService=xe.PDFLinkService=xe.LinkTarget=void 0;var Ce=Te(7);const Re="noopener noreferrer nofollow",Ue={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};xe.LinkTarget=Ue;function De(Ve,{url:He,target:Qe,rel:Je,enabled:dn=!0}={}){if(!He||typeof He!="string")throw new Error('A valid "url" parameter must provided.');const an=(0,Ce.removeNullCharacters)(He);dn?Ve.href=Ve.title=an:(Ve.href="",Ve.title=`Disabled: ${an}`,Ve.onclick=()=>!1);let Ke="";switch(Qe){case Ue.NONE:break;case Ue.SELF:Ke="_self";break;case Ue.BLANK:Ke="_blank";break;case Ue.PARENT:Ke="_parent";break;case Ue.TOP:Ke="_top";break}Ve.target=Ke,Ve.rel=typeof Je=="string"?Je:Re}const ze=class{constructor({eventBus:He,externalLinkTarget:Qe=null,externalLinkRel:Je=null,ignoreDestinationZoom:dn=!1}={}){ei(this,Be);ei(this,Oe,new Map);this.eventBus=He,this.externalLinkTarget=Qe,this.externalLinkRel=Je,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=dn,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(He,Qe=null){this.baseUrl=Qe,this.pdfDocument=He,Nn(this,Oe).clear()}setViewer(He){this.pdfViewer=He}setHistory(He){this.pdfHistory=He}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(He){this.pdfViewer.currentPageNumber=He}get rotation(){return this.pdfViewer.pagesRotation}set rotation(He){this.pdfViewer.pagesRotation=He}async goToDestination(He){if(!this.pdfDocument)return;let Qe,Je;if(typeof He=="string"?(Qe=He,Je=await this.pdfDocument.getDestination(He)):(Qe=null,Je=await He),!Array.isArray(Je)){console.error(`PDFLinkService.goToDestination: "${Je}" is not a valid destination array, for dest="${He}".`);return}ii(this,Be,tc).call(this,He,Qe,Je)}goToPage(He){if(!this.pdfDocument)return;const Qe=typeof He=="string"&&this.pdfViewer.pageLabelToPageNumber(He)||He|0;if(!(Number.isInteger(Qe)&&Qe>0&&Qe<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${He}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(Qe)),this.pdfViewer.scrollPageIntoView({pageNumber:Qe})}addLinkAttributes(He,Qe,Je=!1){De(He,{url:Qe,target:Je?Ue.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(He){if(typeof He=="string"){if(He.length>0)return this.getAnchorUrl("#"+escape(He))}else if(Array.isArray(He)){const Qe=JSON.stringify(He);if(Qe.length>0)return this.getAnchorUrl("#"+escape(Qe))}return this.getAnchorUrl("")}getAnchorUrl(He){return(this.baseUrl||"")+He}setHash(He){var dn;if(!this.pdfDocument)return;let Qe,Je;if(He.includes("=")){const an=(0,Ce.parseQueryString)(He);if(an.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:an.get("search").replace(/"/g,""),phraseSearch:an.get("phrase")==="true"}),an.has("page")&&(Qe=an.get("page")|0||1),an.has("zoom")){const Ke=an.get("zoom").split(","),rn=Ke[0],Cn=parseFloat(rn);rn.includes("Fit")?rn==="Fit"||rn==="FitB"?Je=[null,{name:rn}]:rn==="FitH"||rn==="FitBH"||rn==="FitV"||rn==="FitBV"?Je=[null,{name:rn},Ke.length>1?Ke[1]|0:null]:rn==="FitR"?Ke.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):Je=[null,{name:rn},Ke[1]|0,Ke[2]|0,Ke[3]|0,Ke[4]|0]:console.error(`PDFLinkService.setHash: "${rn}" is not a valid zoom value.`):Je=[null,{name:"XYZ"},Ke.length>1?Ke[1]|0:null,Ke.length>2?Ke[2]|0:null,Cn?Cn/100:rn]}Je?this.pdfViewer.scrollPageIntoView({pageNumber:Qe||this.page,destArray:Je,allowNegativeOffset:!0}):Qe&&(this.page=Qe),an.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:an.get("pagemode")}),an.has("nameddest")&&this.goToDestination(an.get("nameddest"))}else{Je=unescape(He);try{Je=JSON.parse(Je),Array.isArray(Je)||(Je=Je.toString())}catch{}if(typeof Je=="string"||ii(dn=ze,qe,gu).call(dn,Je)){this.goToDestination(Je);return}console.error(`PDFLinkService.setHash: "${unescape(He)}" is not a valid destination.`)}}executeNamedAction(He){var Qe,Je;switch(He){case"GoBack":(Qe=this.pdfHistory)==null||Qe.back();break;case"GoForward":(Je=this.pdfHistory)==null||Je.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:He})}async executeSetOCGState(He){const Qe=this.pdfDocument,Je=await this.pdfViewer.optionalContentConfigPromise;if(Qe!==this.pdfDocument)return;let dn;for(const an of He.state){switch(an){case"ON":case"OFF":case"Toggle":dn=an;continue}switch(dn){case"ON":Je.setVisibility(an,!0);break;case"OFF":Je.setVisibility(an,!1);break;case"Toggle":const Ke=Je.getGroup(an);Ke&&Je.setVisibility(an,!Ke.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(Je)}cachePageRef(He,Qe){if(!Qe)return;const Je=Qe.gen===0?`${Qe.num}R`:`${Qe.num}R${Qe.gen}`;Nn(this,Oe).set(Je,He)}_cachedPageNumber(He){if(!He)return null;const Qe=He.gen===0?`${He.num}R`:`${He.num}R${He.gen}`;return Nn(this,Oe).get(Qe)||null}isPageVisible(He){return this.pdfViewer.isPageVisible(He)}isPageCached(He){return this.pdfViewer.isPageCached(He)}};let ke=ze;Oe=new WeakMap,Be=new WeakSet,tc=function(He,Qe=null,Je){const dn=Je[0];let an;if(typeof dn=="object"&&dn!==null){if(an=this._cachedPageNumber(dn),!an){this.pdfDocument.getPageIndex(dn).then(Ke=>{this.cachePageRef(Ke+1,dn),ii(this,Be,tc).call(this,He,Qe,Je)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${dn}" is not a valid page reference, for dest="${He}".`)});return}}else if(Number.isInteger(dn))an=dn+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${dn}" is not a valid destination reference, for dest="${He}".`);return}if(!an||an<1||an>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${an}" is not a valid page number, for dest="${He}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:Qe,explicitDest:Je,pageNumber:an})),this.pdfViewer.scrollPageIntoView({pageNumber:an,destArray:Je,ignoreDestinationZoom:this._ignoreDestinationZoom})},qe=new WeakSet,gu=function(He){if(!Array.isArray(He))return!1;const Qe=He.length;if(Qe<2)return!1;const Je=He[0];if(!(typeof Je=="object"&&Number.isInteger(Je.num)&&Number.isInteger(Je.gen))&&!(Number.isInteger(Je)&&Je>=0))return!1;const dn=He[1];if(!(typeof dn=="object"&&typeof dn.name=="string"))return!1;let an=!0;switch(dn.name){case"XYZ":if(Qe!==5)return!1;break;case"Fit":case"FitB":return Qe===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(Qe!==3)return!1;break;case"FitR":if(Qe!==6)return!1;an=!1;break;default:return!1}for(let Ke=2;Ke<Qe;Ke++){const rn=He[Ke];if(!(typeof rn=="number"||an&&rn===null))return!1}return!0},ei(ke,qe),xe.PDFLinkService=ke;class Me{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(He){}get rotation(){return 0}set rotation(He){}async goToDestination(He){}goToPage(He){}addLinkAttributes(He,Qe,Je=!1){De(He,{url:Qe,enabled:this.externalLinkEnabled})}getDestinationHash(He){return"#"}getAnchorUrl(He){return"#"}setHash(He){}executeNamedAction(He){}executeSetOCGState(He){}cachePageRef(He,Qe){}isPageVisible(He){return!0}isPageCached(He){return!0}}xe.SimpleLinkService=Me},(Ee,xe)=>{var $e,yn,En;Object.defineProperty(xe,"__esModule",{value:!0}),xe.animationStarted=xe.VERTICAL_PADDING=xe.UNKNOWN_SCALE=xe.TextLayerMode=xe.SpreadMode=xe.SidebarView=xe.ScrollMode=xe.SCROLLBAR_PADDING=xe.RenderingStates=xe.RendererType=xe.ProgressBar=xe.PresentationModeState=xe.OutputScale=xe.MIN_SCALE=xe.MAX_SCALE=xe.MAX_AUTO_SCALE=xe.DEFAULT_SCALE_VALUE=xe.DEFAULT_SCALE_DELTA=xe.DEFAULT_SCALE=xe.AutoPrintRegExp=void 0,xe.apiPageLayoutToViewerModes=St,xe.apiPageModeToSidebarView=tn,xe.approximateFraction=vn,xe.backtrackBeforeAllVisibleElements=Hn,xe.binarySearchFirstItem=gn,xe.docStyle=void 0,xe.getActiveOrFocusedElement=mn,xe.getPageSizeInches=On,xe.getVisibleElements=Bn,xe.isPortraitOrientation=bn,xe.isValidRotation=en,xe.isValidScrollMode=on,xe.isValidSpreadMode=hn,xe.noContextMenuHandler=Ze,xe.normalizeWheelEventDelta=Ye,xe.normalizeWheelEventDirection=Xe,xe.parseQueryString=rn,xe.removeNullCharacters=fn,xe.roundToDivide=pn,xe.scrollIntoView=an,xe.watchScroll=Ke;const Te="auto";xe.DEFAULT_SCALE_VALUE=Te;const Ce=1;xe.DEFAULT_SCALE=Ce;const Re=1.1;xe.DEFAULT_SCALE_DELTA=Re;const Ue=.1;xe.MIN_SCALE=Ue;const De=10;xe.MAX_SCALE=De;const ke=0;xe.UNKNOWN_SCALE=ke;const Me=1.25;xe.MAX_AUTO_SCALE=Me;const Oe=40;xe.SCROLLBAR_PADDING=Oe;const Be=5;xe.VERTICAL_PADDING=Be;const Ie={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};xe.RenderingStates=Ie;const qe={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};xe.PresentationModeState=qe;const je={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};xe.SidebarView=je;const ze={CANVAS:"canvas",SVG:"svg"};xe.RendererType=ze;const Ve={DISABLE:0,ENABLE:1};xe.TextLayerMode=Ve;const He={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};xe.ScrollMode=He;const Qe={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};xe.SpreadMode=Qe;const Je=/\bprint\s*\(/;xe.AutoPrintRegExp=Je;class dn{constructor(){const Pn=window.devicePixelRatio||1;this.sx=Pn,this.sy=Pn}get scaled(){return this.sx!==1||this.sy!==1}}xe.OutputScale=dn;function an(cn,Pn,Mn=!1){let nn=cn.offsetParent;if(!nn){console.error("offsetParent is not set -- cannot scroll");return}let xn=cn.offsetTop+cn.clientTop,_n=cn.offsetLeft+cn.clientLeft;for(;nn.clientHeight===nn.scrollHeight&&nn.clientWidth===nn.scrollWidth||Mn&&(nn.classList.contains("markedContent")||getComputedStyle(nn).overflow==="hidden");)if(xn+=nn.offsetTop,_n+=nn.offsetLeft,nn=nn.offsetParent,!nn)return;Pn&&(Pn.top!==void 0&&(xn+=Pn.top),Pn.left!==void 0&&(_n+=Pn.left,nn.scrollLeft=_n)),nn.scrollTop=xn}function Ke(cn,Pn){const Mn=function(_n){xn||(xn=window.requestAnimationFrame(function(){xn=null;const $n=cn.scrollLeft,Yn=nn.lastX;$n!==Yn&&(nn.right=$n>Yn),nn.lastX=$n;const jn=cn.scrollTop,Xn=nn.lastY;jn!==Xn&&(nn.down=jn>Xn),nn.lastY=jn,Pn(nn)}))},nn={right:!0,down:!0,lastX:cn.scrollLeft,lastY:cn.scrollTop,_eventHandler:Mn};let xn=null;return cn.addEventListener("scroll",Mn,!0),nn}function rn(cn){const Pn=new Map;for(const[Mn,nn]of new URLSearchParams(cn))Pn.set(Mn.toLowerCase(),nn);return Pn}const Cn=/\x00/g,Sn=/[\x01-\x1F]/g;function fn(cn,Pn=!1){return typeof cn!="string"?(console.error("The argument must be a string."),cn):(Pn&&(cn=cn.replace(Sn," ")),cn.replace(Cn,""))}function gn(cn,Pn,Mn=0){let nn=Mn,xn=cn.length-1;if(xn<0||!Pn(cn[xn]))return cn.length;if(Pn(cn[nn]))return nn;for(;nn<xn;){const _n=nn+xn>>1,zn=cn[_n];Pn(zn)?xn=_n:nn=_n+1}return nn}function vn(cn){if(Math.floor(cn)===cn)return[cn,1];const Pn=1/cn,Mn=8;if(Pn>Mn)return[1,Mn];if(Math.floor(Pn)===Pn)return[1,Pn];const nn=cn>1?Pn:cn;let xn=0,_n=1,zn=1,$n=1;for(;;){const jn=xn+zn,Xn=_n+$n;if(Xn>Mn)break;nn<=jn/Xn?(zn=jn,$n=Xn):(xn=jn,_n=Xn)}let Yn;return nn-xn/_n<zn/$n-nn?Yn=nn===cn?[xn,_n]:[_n,xn]:Yn=nn===cn?[zn,$n]:[$n,zn],Yn}function pn(cn,Pn){const Mn=cn%Pn;return Mn===0?cn:Math.round(cn-Mn+Pn)}function On({view:cn,userUnit:Pn,rotate:Mn}){const[nn,xn,_n,zn]=cn,$n=Mn%180!==0,Yn=(_n-nn)/72*Pn,jn=(zn-xn)/72*Pn;return{width:$n?jn:Yn,height:$n?Yn:jn}}function Hn(cn,Pn,Mn){if(cn<2)return cn;let nn=Pn[cn].div,xn=nn.offsetTop+nn.clientTop;xn>=Mn&&(nn=Pn[cn-1].div,xn=nn.offsetTop+nn.clientTop);for(let _n=cn-2;_n>=0&&(nn=Pn[_n].div,!(nn.offsetTop+nn.clientTop+nn.clientHeight<=xn));--_n)cn=_n;return cn}function Bn({scrollEl:cn,views:Pn,sortByVisibility:Mn=!1,horizontal:nn=!1,rtl:xn=!1}){const _n=cn.scrollTop,zn=_n+cn.clientHeight,$n=cn.scrollLeft,Yn=$n+cn.clientWidth;function jn(In){const Rn=In.div;return Rn.offsetTop+Rn.clientTop+Rn.clientHeight>_n}function Xn(In){const Rn=In.div,Un=Rn.offsetLeft+Rn.clientLeft,ti=Un+Rn.clientWidth;return xn?Un<Yn:ti>$n}const li=[],oi=new Set,Ni=Pn.length;let Ai=gn(Pn,nn?Xn:jn);Ai>0&&Ai<Ni&&!nn&&(Ai=Hn(Ai,Pn,_n));let Li=nn?Yn:-1;for(let In=Ai;In<Ni;In++){const Rn=Pn[In],Un=Rn.div,ti=Un.offsetLeft+Un.clientLeft,pi=Un.offsetTop+Un.clientTop,Si=Un.clientWidth,fi=Un.clientHeight,di=ti+Si,wi=pi+fi;if(Li===-1)wi>=zn&&(Li=wi);else if((nn?ti:pi)>Li)break;if(wi<=_n||pi>=zn||di<=$n||ti>=Yn)continue;const Ri=Math.max(0,_n-pi)+Math.max(0,wi-zn),Fi=Math.max(0,$n-ti)+Math.max(0,di-Yn),Oi=(fi-Ri)/fi,Ii=(Si-Fi)/Si,xi=Oi*Ii*100|0;li.push({id:Rn.id,x:ti,y:pi,view:Rn,percent:xi,widthPercent:Ii*100|0}),oi.add(Rn.id)}const Ei=li[0],ui=li.at(-1);return Mn&&li.sort(function(In,Rn){const Un=In.percent-Rn.percent;return Math.abs(Un)>.001?-Un:In.id-Rn.id}),{first:Ei,last:ui,views:li,ids:oi}}function Ze(cn){cn.preventDefault()}function Xe(cn){let Pn=Math.hypot(cn.deltaX,cn.deltaY);const Mn=Math.atan2(cn.deltaY,cn.deltaX);return-.25*Math.PI<Mn&&Mn<.75*Math.PI&&(Pn=-Pn),Pn}function Ye(cn){let Pn=Xe(cn);const Mn=0,nn=1,xn=30,_n=30;return cn.deltaMode===Mn?Pn/=xn*_n:cn.deltaMode===nn&&(Pn/=_n),Pn}function en(cn){return Number.isInteger(cn)&&cn%90===0}function on(cn){return Number.isInteger(cn)&&Object.values(He).includes(cn)&&cn!==He.UNKNOWN}function hn(cn){return Number.isInteger(cn)&&Object.values(Qe).includes(cn)&&cn!==Qe.UNKNOWN}function bn(cn){return cn.width<=cn.height}const Ln=new Promise(function(cn){window.requestAnimationFrame(cn)});xe.animationStarted=Ln;const Vn=document.documentElement.style;xe.docStyle=Vn;function Wn(cn,Pn,Mn){return Math.min(Math.max(cn,Pn),Mn)}class un{constructor(Pn){ei(this,$e,null);ei(this,yn,0);ei(this,En,!0);const Mn=document.getElementById(Pn);bi(this,$e,Mn.classList)}get percent(){return Nn(this,yn)}set percent(Pn){if(bi(this,yn,Wn(Pn,0,100)),isNaN(Pn)){Nn(this,$e).add("indeterminate");return}Nn(this,$e).remove("indeterminate"),Vn.setProperty("--progressBar-percent",`${Nn(this,yn)}%`)}setWidth(Pn){if(!Pn)return;const nn=Pn.parentNode.offsetWidth-Pn.offsetWidth;nn>0&&Vn.setProperty("--progressBar-end-offset",`${nn}px`)}hide(){!Nn(this,En)||(bi(this,En,!1),Nn(this,$e).add("hidden"))}show(){Nn(this,En)||(bi(this,En,!0),Nn(this,$e).remove("hidden"))}}$e=new WeakMap,yn=new WeakMap,En=new WeakMap,xe.ProgressBar=un;function mn(){let cn=document,Pn=cn.activeElement||cn.querySelector(":focus");for(;Pn!=null&&Pn.shadowRoot;)cn=Pn.shadowRoot,Pn=cn.activeElement||cn.querySelector(":focus");return Pn}function St(cn){let Pn=He.VERTICAL,Mn=Qe.NONE;switch(cn){case"SinglePage":Pn=He.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Pn=He.PAGE;case"TwoColumnLeft":Mn=Qe.ODD;break;case"TwoPageRight":Pn=He.PAGE;case"TwoColumnRight":Mn=Qe.EVEN;break}return{scrollMode:Pn,spreadMode:Mn}}function tn(cn){switch(cn){case"UseNone":return je.NONE;case"UseThumbs":return je.THUMBS;case"UseOutlines":return je.OUTLINE;case"UseAttachments":return je.ATTACHMENTS;case"UseOC":return je.LAYERS}return je.NONE}},(Ee,xe)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.StructTreeLayerBuilder=void 0;const Te={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Ce=/^H(\d+)$/;class Re{constructor({pdfPage:De}){this.pdfPage=De}render(De){return this._walk(De)}_setAttributes(De,ke){De.alt!==void 0&&ke.setAttribute("aria-label",De.alt),De.id!==void 0&&ke.setAttribute("aria-owns",De.id),De.lang!==void 0&&ke.setAttribute("lang",De.lang)}_walk(De){if(!De)return null;const ke=document.createElement("span");if("role"in De){const{role:Me}=De,Oe=Me.match(Ce);Oe?(ke.setAttribute("role","heading"),ke.setAttribute("aria-level",Oe[1])):Te[Me]&&ke.setAttribute("role",Te[Me])}if(this._setAttributes(De,ke),De.children)if(De.children.length===1&&"id"in De.children[0])this._setAttributes(De.children[0],ke);else for(const Me of De.children)ke.append(this._walk(Me));return ke}}xe.StructTreeLayerBuilder=Re},(Ee,xe,Te)=>{var Ue,mu,ke,vu;Object.defineProperty(xe,"__esModule",{value:!0}),xe.TextLayerBuilder=void 0;var Ce=Te(3);class Re{constructor({textLayerDiv:Be,eventBus:Ie,pageIndex:qe,viewport:je,highlighter:ze=null,accessibilityManager:Ve=null}){ei(this,Ue);ei(this,ke);this.textLayerDiv=Be,this.eventBus=Ie,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=qe+1,this.viewport=je,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=ze,this.accessibilityManager=Ve,ii(this,ke,vu).call(this)}render(Be=0){var qe,je;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(qe=this.highlighter)==null||qe.setTextMapping(this.textDivs,this.textContentItemsStr),(je=this.accessibilityManager)==null||je.setTextMapping(this.textDivs);const Ie=document.createDocumentFragment();this.textLayerRenderTask=(0,Ce.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:Ie,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:Be}),this.textLayerRenderTask.promise.then(()=>{var ze,Ve;this.textLayerDiv.append(Ie),ii(this,Ue,mu).call(this),(ze=this.highlighter)==null||ze.enable(),(Ve=this.accessibilityManager)==null||Ve.enable()},function(ze){})}cancel(){var Be,Ie;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(Be=this.highlighter)==null||Be.disable(),(Ie=this.accessibilityManager)==null||Ie.disable()}setTextContentStream(Be){this.cancel(),this.textContentStream=Be}setTextContent(Be){this.cancel(),this.textContent=Be}}Ue=new WeakSet,mu=function(){this.renderingDone=!0;const Be=document.createElement("div");Be.className="endOfContent",this.textLayerDiv.append(Be),this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},ke=new WeakSet,vu=function(){const Be=this.textLayerDiv;Be.addEventListener("mousedown",Ie=>{const qe=Be.querySelector(".endOfContent");if(!qe)return;let je=Ie.target!==Be;if(je&&(je=getComputedStyle(qe).getPropertyValue("-moz-user-select")!=="none"),je){const ze=Be.getBoundingClientRect(),Ve=Math.max(0,(Ie.pageY-ze.top)/ze.height);qe.style.top=(Ve*100).toFixed(2)+"%"}qe.classList.add("active")}),Be.addEventListener("mouseup",()=>{const Ie=Be.querySelector(".endOfContent");!Ie||(Ie.style.top="",Ie.classList.remove("active"))})},xe.TextLayerBuilder=Re},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.XfaLayerBuilder=void 0;var Ce=Te(3);class Re{constructor({pageDiv:De,pdfPage:ke,annotationStorage:Me=null,linkService:Oe,xfaHtml:Be=null}){this.pageDiv=De,this.pdfPage=ke,this.annotationStorage=Me,this.linkService=Oe,this.xfaHtml=Be,this.div=null,this._cancelled=!1}render(De,ke="display"){if(ke==="print"){const Me={viewport:De.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:ke},Oe=document.createElement("div");this.pageDiv.append(Oe),Me.div=Oe;const Be=Ce.XfaLayer.render(Me);return Promise.resolve(Be)}return this.pdfPage.getXfa().then(Me=>{if(this._cancelled||!Me)return{textDivs:[]};const Oe={viewport:De.clone({dontFlip:!0}),div:this.div,xfaHtml:Me,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:ke};return this.div?Ce.XfaLayer.update(Oe):(this.div=document.createElement("div"),this.pageDiv.append(this.div),Oe.div=this.div,Ce.XfaLayer.render(Oe))}).catch(Me=>{console.error(Me)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}xe.XfaLayerBuilder=Re},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.DownloadManager=void 0;var Ce=Te(3);function Re(De,ke){const Me=document.createElement("a");if(!Me.click)throw new Error('DownloadManager: "a.click()" is not supported.');Me.href=De,Me.target="_parent","download"in Me&&(Me.download=ke),(document.body||document.documentElement).append(Me),Me.click(),Me.remove()}class Ue{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(ke,Me){if(!(0,Ce.createValidAbsoluteUrl)(ke,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${ke}`);return}Re(ke+"#pdfjs.action=download",Me)}downloadData(ke,Me,Oe){const Be=URL.createObjectURL(new Blob([ke],{type:Oe}));Re(Be,Me)}openOrDownloadData(ke,Me,Oe){const Be=(0,Ce.isPdfFile)(Oe),Ie=Be?"application/pdf":"";if(Be){let qe=this._openBlobUrls.get(ke);qe||(qe=URL.createObjectURL(new Blob([Me],{type:Ie})),this._openBlobUrls.set(ke,qe));let je;je="?file="+encodeURIComponent(qe+"#"+Oe);try{return window.open(je),!0}catch(ze){console.error(`openOrDownloadData: ${ze}`),URL.revokeObjectURL(qe),this._openBlobUrls.delete(ke)}}return this.downloadData(Me,Oe,Ie),!1}download(ke,Me,Oe){const Be=URL.createObjectURL(ke);Re(Be,Oe)}}xe.DownloadManager=Ue},(Ee,xe)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.WaitOnType=xe.EventBus=xe.AutomationEventBus=void 0,xe.waitOnEventOrTimeout=Ce;const Te={EVENT:"event",TIMEOUT:"timeout"};xe.WaitOnType=Te;function Ce({target:De,name:ke,delay:Me=0}){return new Promise(function(Oe,Be){if(typeof De!="object"||!(ke&&typeof ke=="string")||!(Number.isInteger(Me)&&Me>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function Ie(Ve){De instanceof Re?De._off(ke,qe):De.removeEventListener(ke,qe),ze&&clearTimeout(ze),Oe(Ve)}const qe=Ie.bind(null,Te.EVENT);De instanceof Re?De._on(ke,qe):De.addEventListener(ke,qe);const je=Ie.bind(null,Te.TIMEOUT),ze=setTimeout(je,Me)})}class Re{constructor(){this._listeners=Object.create(null)}on(ke,Me,Oe=null){this._on(ke,Me,{external:!0,once:Oe==null?void 0:Oe.once})}off(ke,Me,Oe=null){this._off(ke,Me,{external:!0,once:Oe==null?void 0:Oe.once})}dispatch(ke,Me){const Oe=this._listeners[ke];if(!Oe||Oe.length===0)return;let Be;for(const{listener:Ie,external:qe,once:je}of Oe.slice(0)){if(je&&this._off(ke,Ie),qe){(Be||(Be=[])).push(Ie);continue}Ie(Me)}if(Be){for(const Ie of Be)Ie(Me);Be=null}}_on(ke,Me,Oe=null){var Ie;((Ie=this._listeners)[ke]||(Ie[ke]=[])).push({listener:Me,external:(Oe==null?void 0:Oe.external)===!0,once:(Oe==null?void 0:Oe.once)===!0})}_off(ke,Me,Oe=null){const Be=this._listeners[ke];if(!!Be){for(let Ie=0,qe=Be.length;Ie<qe;Ie++)if(Be[Ie].listener===Me){Be.splice(Ie,1);return}}}}xe.EventBus=Re;class Ue extends Re{dispatch(ke,Me){throw new Error("Not implemented: AutomationEventBus.dispatch")}}xe.AutomationEventBus=Ue},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.GenericL10n=void 0,Te(14);var Ce=Te(4);const Re=document.webL10n;class Ue{constructor(ke){this._lang=ke,this._ready=new Promise((Me,Oe)=>{Re.setLanguage((0,Ce.fixupLangCode)(ke),()=>{Me(Re)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(ke,Me=null,Oe=(0,Ce.getL10nFallback)(ke,Me)){return(await this._ready).get(ke,Me,Oe)}async translate(ke){return(await this._ready).translate(ke)}}xe.GenericL10n=Ue},()=>{document.webL10n=function(Ee,xe,Te){var Ce={},Re="",Ue="textContent",De="",ke={},Me="loading",Oe=!0;function Be(){return xe.querySelectorAll('link[type="application/l10n"]')}function Ie(){var fn=xe.querySelector('script[type="application/l10n"]');return fn?JSON.parse(fn.innerHTML):null}function qe(fn){return fn?fn.querySelectorAll("*[data-l10n-id]"):[]}function je(fn){if(!fn)return{};var gn=fn.getAttribute("data-l10n-id"),vn=fn.getAttribute("data-l10n-args"),pn={};if(vn)try{pn=JSON.parse(vn)}catch{console.warn("could not parse arguments for #"+gn)}return{id:gn,args:pn}}function ze(fn,gn,vn){gn=gn||function(Hn){},vn=vn||function(){};var pn=new XMLHttpRequest;pn.open("GET",fn,Oe),pn.overrideMimeType&&pn.overrideMimeType("text/plain; charset=utf-8"),pn.onreadystatechange=function(){pn.readyState==4&&(pn.status==200||pn.status===0?gn(pn.responseText):vn())},pn.onerror=vn,pn.ontimeout=vn;try{pn.send(null)}catch{vn()}}function Ve(fn,gn,vn,pn){var On=fn.replace(/[^\/]*$/,"")||"./";function Hn(Ze){return Ze.lastIndexOf("\\")<0?Ze:Ze.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function Bn(Ze,Xe){var Ye={},en=/^\s*|\s*$/,on=/^\s*#|^\s*$/,hn=/^\s*\[(.*)\]\s*$/,bn=/^\s*@import\s+url\((.*)\)\s*$/i,Ln=/^([^=\s]*)\s*=\s*(.+)$/;function Vn(un,mn,St){var tn=un.replace(en,"").split(/[\r\n]+/),$e="*",yn=gn.split("-",1)[0],En=!1,cn="";function Pn(){for(;;){if(!tn.length){St();return}var Mn=tn.shift();if(!on.test(Mn)){if(mn){if(cn=hn.exec(Mn),cn){$e=cn[1].toLowerCase(),En=$e!=="*"&&$e!==gn&&$e!==yn;continue}else if(En)continue;if(cn=bn.exec(Mn),cn){Wn(On+cn[1],Pn);return}}var nn=Mn.match(Ln);nn&&nn.length==3&&(Ye[nn[1]]=Hn(nn[2]))}}}Pn()}function Wn(un,mn){ze(un,function(St){Vn(St,!1,mn)},function(){console.warn(un+" not found."),mn()})}Vn(Ze,!0,function(){Xe(Ye)})}ze(fn,function(Ze){Re+=Ze,Bn(Ze,function(Xe){for(var Ye in Xe){var en,on,hn=Ye.lastIndexOf(".");hn>0?(en=Ye.substring(0,hn),on=Ye.substring(hn+1)):(en=Ye,on=Ue),Ce[en]||(Ce[en]={}),Ce[en][on]=Xe[Ye]}vn&&vn()})},pn)}function He(fn,gn){fn&&(fn=fn.toLowerCase()),gn=gn||function(){},Qe(),De=fn;var vn=Be(),pn=vn.length;if(pn===0){var On=Ie();if(On&&On.locales&&On.default_locale){if(console.log("using the embedded JSON directory, early way out"),Ce=On.locales[fn],!Ce){var Hn=On.default_locale.toLowerCase();for(var Bn in On.locales)if(Bn=Bn.toLowerCase(),Bn===fn){Ce=On.locales[fn];break}else Bn===Hn&&(Ce=On.locales[Hn])}gn()}else console.log("no resource to load, early way out");Me="complete";return}var Ze=null,Xe=0;Ze=function(){Xe++,Xe>=pn&&(gn(),Me="complete")};function Ye(hn){var bn=hn.href;this.load=function(Ln,Vn){Ve(bn,Ln,Vn,function(){console.warn(bn+" not found."),console.warn('"'+Ln+'" resource not found'),De="",Vn()})}}for(var en=0;en<pn;en++){var on=new Ye(vn[en]);on.load(fn,Ze)}}function Qe(){Ce={},Re="",De=""}function Je(fn){var gn={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function vn(Bn,Ze){return Ze.indexOf(Bn)!==-1}function pn(Bn,Ze,Xe){return Ze<=Bn&&Bn<=Xe}var On={0:function(Bn){return"other"},1:function(Bn){return pn(Bn%100,3,10)?"few":Bn===0?"zero":pn(Bn%100,11,99)?"many":Bn==2?"two":Bn==1?"one":"other"},2:function(Bn){return Bn!==0&&Bn%10===0?"many":Bn==2?"two":Bn==1?"one":"other"},3:function(Bn){return Bn==1?"one":"other"},4:function(Bn){return pn(Bn,0,1)?"one":"other"},5:function(Bn){return pn(Bn,0,2)&&Bn!=2?"one":"other"},6:function(Bn){return Bn===0?"zero":Bn%10==1&&Bn%100!=11?"one":"other"},7:function(Bn){return Bn==2?"two":Bn==1?"one":"other"},8:function(Bn){return pn(Bn,3,6)?"few":pn(Bn,7,10)?"many":Bn==2?"two":Bn==1?"one":"other"},9:function(Bn){return Bn===0||Bn!=1&&pn(Bn%100,1,19)?"few":Bn==1?"one":"other"},10:function(Bn){return pn(Bn%10,2,9)&&!pn(Bn%100,11,19)?"few":Bn%10==1&&!pn(Bn%100,11,19)?"one":"other"},11:function(Bn){return pn(Bn%10,2,4)&&!pn(Bn%100,12,14)?"few":Bn%10===0||pn(Bn%10,5,9)||pn(Bn%100,11,14)?"many":Bn%10==1&&Bn%100!=11?"one":"other"},12:function(Bn){return pn(Bn,2,4)?"few":Bn==1?"one":"other"},13:function(Bn){return pn(Bn%10,2,4)&&!pn(Bn%100,12,14)?"few":Bn!=1&&pn(Bn%10,0,1)||pn(Bn%10,5,9)||pn(Bn%100,12,14)?"many":Bn==1?"one":"other"},14:function(Bn){return pn(Bn%100,3,4)?"few":Bn%100==2?"two":Bn%100==1?"one":"other"},15:function(Bn){return Bn===0||pn(Bn%100,2,10)?"few":pn(Bn%100,11,19)?"many":Bn==1?"one":"other"},16:function(Bn){return Bn%10==1&&Bn!=11?"one":"other"},17:function(Bn){return Bn==3?"few":Bn===0?"zero":Bn==6?"many":Bn==2?"two":Bn==1?"one":"other"},18:function(Bn){return Bn===0?"zero":pn(Bn,0,2)&&Bn!==0&&Bn!=2?"one":"other"},19:function(Bn){return pn(Bn,2,10)?"few":pn(Bn,0,1)?"one":"other"},20:function(Bn){return(pn(Bn%10,3,4)||Bn%10==9)&&!(pn(Bn%100,10,19)||pn(Bn%100,70,79)||pn(Bn%100,90,99))?"few":Bn%1e6===0&&Bn!==0?"many":Bn%10==2&&!vn(Bn%100,[12,72,92])?"two":Bn%10==1&&!vn(Bn%100,[11,71,91])?"one":"other"},21:function(Bn){return Bn===0?"zero":Bn==1?"one":"other"},22:function(Bn){return pn(Bn,0,1)||pn(Bn,11,99)?"one":"other"},23:function(Bn){return pn(Bn%10,1,2)||Bn%20===0?"one":"other"},24:function(Bn){return pn(Bn,3,10)||pn(Bn,13,19)?"few":vn(Bn,[2,12])?"two":vn(Bn,[1,11])?"one":"other"}},Hn=gn[fn.replace(/-.*$/,"")];return Hn in On?On[Hn]:(console.warn("plural form unknown for ["+fn+"]"),function(){return"other"})}ke.plural=function(fn,gn,vn,pn){var On=parseFloat(gn);if(isNaN(On)||pn!=Ue)return fn;ke._pluralRules||(ke._pluralRules=Je(De));var Hn="["+ke._pluralRules(On)+"]";return On===0&&vn+"[zero]"in Ce?fn=Ce[vn+"[zero]"][pn]:On==1&&vn+"[one]"in Ce?fn=Ce[vn+"[one]"][pn]:On==2&&vn+"[two]"in Ce?fn=Ce[vn+"[two]"][pn]:vn+Hn in Ce?fn=Ce[vn+Hn][pn]:vn+"[other]"in Ce&&(fn=Ce[vn+"[other]"][pn]),fn};function dn(fn,gn,vn){var pn=Ce[fn];if(!pn){if(console.warn("#"+fn+" is undefined."),!vn)return null;pn=vn}var On={};for(var Hn in pn){var Bn=pn[Hn];Bn=an(Bn,gn,fn,Hn),Bn=Ke(Bn,gn,fn),On[Hn]=Bn}return On}function an(fn,gn,vn,pn){var On=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,Hn=On.exec(fn);if(!Hn||!Hn.length)return fn;var Bn=Hn[1],Ze=Hn[2],Xe;if(gn&&Ze in gn?Xe=gn[Ze]:Ze in Ce&&(Xe=Ce[Ze]),Bn in ke){var Ye=ke[Bn];fn=Ye(fn,Xe,vn,pn)}return fn}function Ke(fn,gn,vn){var pn=/\{\{\s*(.+?)\s*\}\}/g;return fn.replace(pn,function(On,Hn){return gn&&Hn in gn?gn[Hn]:Hn in Ce?Ce[Hn]:(console.log("argument {{"+Hn+"}} for #"+vn+" is undefined."),On)})}function rn(fn){var gn=je(fn);if(!!gn.id){var vn=dn(gn.id,gn.args);if(!vn){console.warn("#"+gn.id+" is undefined.");return}if(vn[Ue]){if(Cn(fn)===0)fn[Ue]=vn[Ue];else{for(var pn=fn.childNodes,On=!1,Hn=0,Bn=pn.length;Hn<Bn;Hn++)pn[Hn].nodeType===3&&/\S/.test(pn[Hn].nodeValue)&&(On?pn[Hn].nodeValue="":(pn[Hn].nodeValue=vn[Ue],On=!0));if(!On){var Ze=xe.createTextNode(vn[Ue]);fn.prepend(Ze)}}delete vn[Ue]}for(var Xe in vn)fn[Xe]=vn[Xe]}}function Cn(fn){if(fn.children)return fn.children.length;if(typeof fn.childElementCount<"u")return fn.childElementCount;for(var gn=0,vn=0;vn<fn.childNodes.length;vn++)gn+=fn.nodeType===1?1:0;return gn}function Sn(fn){fn=fn||xe.documentElement;for(var gn=qe(fn),vn=gn.length,pn=0;pn<vn;pn++)rn(gn[pn]);rn(fn)}return{get:function(fn,gn,vn){var pn=fn.lastIndexOf("."),On=Ue;pn>0&&(On=fn.substring(pn+1),fn=fn.substring(0,pn));var Hn;vn&&(Hn={},Hn[On]=vn);var Bn=dn(fn,gn,Hn);return Bn&&On in Bn?Bn[On]:"{{"+fn+"}}"},getData:function(){return Ce},getText:function(){return Re},getLanguage:function(){return De},setLanguage:function(fn,gn){He(fn,function(){gn&&gn()})},getDirection:function(){var fn=["ar","he","fa","ps","ur"],gn=De.split("-",1)[0];return fn.indexOf(gn)>=0?"rtl":"ltr"},translate:Sn,getReadyState:function(){return Me},ready:function(fn){if(fn)Me=="complete"||Me=="interactive"?Ee.setTimeout(function(){fn()}):xe.addEventListener&&xe.addEventListener("localized",function gn(){xe.removeEventListener("localized",gn),fn()});else return}}}(window,document)},(Ee,xe,Te)=>{var fn,bu,vn,nc,On,ic,Bn,yu,Xe,_u,en,Au,hn,rc,Ln,wu,Wn,Su,mn,Uo,tn,Wa,yn,da,cn,xu,Mn,sc,xn,ac,zn,Vo,Yn,Eu,Xn,oc,oi,Pu,Ai,Ga;Object.defineProperty(xe,"__esModule",{value:!0}),xe.PDFFindController=xe.FindState=void 0;var Ce=Te(7),Re=Te(3),Ue=Te(16);const De={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};xe.FindState=De;const ke=250,Me=-50,Oe=-400,Be={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},Ie=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),qe=[...Ie.values()].map(Ei=>String.fromCharCode(Ei)).join(""),je=/\p{M}+/gu,ze=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,Ve=/([^\p{M}])\p{M}*$/u,He=/^\p{M}*([^\p{M}])/u,Qe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Je=new Map,dn="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let an=null,Ke=null;function rn(Ei){const ui=[];let In;for(;(In=Qe.exec(Ei))!==null;){let{index:Oi}=In;for(const Ii of In[0]){let xi=Je.get(Ii);xi||(xi=Ii.normalize("NFD").length,Je.set(Ii,xi)),ui.push([xi,Oi++])}}let Rn;if(ui.length===0&&an)Rn=an;else if(ui.length>0&&Ke)Rn=Ke;else{const Ii=`([${Object.keys(Be).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\p{Ideographic}\\n)|(\\n)`;ui.length===0?Rn=an=new RegExp(Ii+"|(\\u0000)","gum"):Rn=Ke=new RegExp(Ii+`|(${dn})`,"gum")}const Un=[];for(;(In=je.exec(Ei))!==null;)Un.push([In[0].length,In.index]);let ti=Ei.normalize("NFD");const pi=[[0,0]];let Si=0,fi=0,di=0,wi=0,Ri=0,Fi=!1;return ti=ti.replace(Rn,(Oi,Ii,xi,Bi,Qi,Xi,Hi,Ui)=>{var ir,tr;if(Ui-=wi,Ii){const Ji=Be[Oi],Yi=Ji.length;for(let rr=1;rr<Yi;rr++)pi.push([Ui-di+rr,di-rr]);return di-=Yi-1,Ji}if(xi){const Ji=xi.endsWith(`
`),Yi=Ji?xi.length-2:xi.length;Fi=!0;let rr=Yi;Ui+Ri===((ir=Un[Si])==null?void 0:ir[1])&&(rr-=Un[Si][0],++Si);for(let vr=1;vr<=rr;vr++)pi.push([Ui-1-di+vr,di-vr]);return di-=rr,wi+=rr,Ji?(Ui+=Yi-1,pi.push([Ui-di+1,1+di]),di+=1,wi+=1,Ri+=1,xi.slice(0,Yi)):xi}if(Bi)return pi.push([Ui-di+1,1+di]),di+=1,wi+=1,Ri+=1,Bi.charAt(0);if(Qi)return pi.push([Ui-di+1,di]),wi+=1,Ri+=1,Qi.charAt(0);if(Xi)return pi.push([Ui-di+1,di-1]),di-=1,wi+=1,Ri+=1," ";if(Ui+Ri===((tr=ui[fi])==null?void 0:tr[1])){const Ji=ui[fi][0]-1;++fi;for(let Yi=1;Yi<=Ji;Yi++)pi.push([Ui-(di-Yi),di-Yi]);di-=Ji,wi+=Ji}return Hi}),pi.push([ti.length,di]),[ti,pi,Fi]}function Cn(Ei,ui,In){if(!Ei)return[ui,In];const Rn=ui,Un=ui+In;let ti=(0,Ce.binarySearchFirstItem)(Ei,Si=>Si[0]>=Rn);Ei[ti][0]>Rn&&--ti;let pi=(0,Ce.binarySearchFirstItem)(Ei,Si=>Si[0]>=Un,ti);return Ei[pi][0]>Un&&--pi,[Rn+Ei[ti][1],In+Ei[pi][1]-Ei[ti][1]]}class Sn{constructor({linkService:ui,eventBus:In}){ei(this,fn);ei(this,vn);ei(this,On);ei(this,Bn);ei(this,Xe);ei(this,en);ei(this,hn);ei(this,Ln);ei(this,Wn);ei(this,mn);ei(this,tn);ei(this,yn);ei(this,cn);ei(this,Mn);ei(this,xn);ei(this,zn);ei(this,Yn);ei(this,Xn);ei(this,oi);ei(this,Ai);this._linkService=ui,this._eventBus=In,ii(this,vn,nc).call(this),In._on("find",ii(this,fn,bu).bind(this)),In._on("findbarclose",ii(this,Yn,Eu).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(ui){this._pdfDocument&&ii(this,vn,nc).call(this),ui&&(this._pdfDocument=ui,this._firstPageCapability.resolve())}scrollMatchIntoView({element:ui=null,selectedLeft:In=0,pageIndex:Rn=-1,matchIndex:Un=-1}){if(!this._scrollMatches||!ui)return;if(Un===-1||Un!==this._selected.matchIdx)return;if(Rn===-1||Rn!==this._selected.pageIdx)return;this._scrollMatches=!1;const ti={top:Me,left:In+Oe};(0,Ce.scrollIntoView)(ui,ti,!0)}}fn=new WeakSet,bu=function(ui){if(!ui)return;const In=this._pdfDocument,{type:Rn}=ui;(this._state===null||ii(this,Bn,yu).call(this,ui))&&(this._dirtyMatch=!0),this._state=ui,Rn!=="highlightallchange"&&ii(this,Ai,Ga).call(this,De.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||In&&this._pdfDocument!==In)return;ii(this,Wn,Su).call(this);const Un=!this._highlightMatches,ti=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Rn?this._dirtyMatch?ii(this,yn,da).call(this):Rn==="again"?(ii(this,yn,da).call(this),Un&&this._state.highlightAll&&ii(this,tn,Wa).call(this)):Rn==="highlightallchange"?(ti?ii(this,yn,da).call(this):this._highlightMatches=!0,ii(this,tn,Wa).call(this)):ii(this,yn,da).call(this):this._findTimeout=setTimeout(()=>{ii(this,yn,da).call(this),this._findTimeout=null},ke)})},vn=new WeakSet,nc=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,Re.createPromiseCapability)()},On=new WeakSet,ic=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=rn(this._state.query)),this._normalizedQuery},Bn=new WeakSet,yu=function(ui){if(ui.query!==this._state.query)return!0;switch(ui.type){case"again":const In=this._selected.pageIdx+1,Rn=this._linkService;return In>=1&&In<=Rn.pagesCount&&In!==Rn.page&&!Rn.isPageVisible(In);case"highlightallchange":return!1}return!0},Xe=new WeakSet,_u=function(ui,In,Rn){let Un=ui.slice(0,In).match(Ve);if(Un){const ti=ui.charCodeAt(In),pi=Un[1].charCodeAt(0);if((0,Ue.getCharacterType)(ti)===(0,Ue.getCharacterType)(pi))return!1}if(Un=ui.slice(In+Rn).match(He),Un){const ti=ui.charCodeAt(In+Rn-1),pi=Un[1].charCodeAt(0);if((0,Ue.getCharacterType)(ti)===(0,Ue.getCharacterType)(pi))return!1}return!0},en=new WeakSet,Au=function(ui,In,Rn,Un){const ti=[],pi=[],Si=this._pageDiffs[Rn];let fi;for(;(fi=ui.exec(Un))!==null;){if(In&&!ii(this,Xe,_u).call(this,Un,fi.index,fi[0].length))continue;const[di,wi]=Cn(Si,fi.index,fi[0].length);wi&&(ti.push(di),pi.push(wi))}this._pageMatches[Rn]=ti,this._pageMatchesLength[Rn]=pi},hn=new WeakSet,rc=function(ui,In){const{matchDiacritics:Rn}=this._state;let Un=!1;ui=ui.replace(ze,(pi,Si,fi,di,wi,Ri)=>Si?`[ ]*\\${Si}[ ]*`:fi?`[ ]*${fi}[ ]*`:di?"[ ]+":Rn?wi||Ri:wi?Ie.has(wi.charCodeAt(0))?wi:"":In?(Un=!0,`${Ri}\\p{M}*`):Ri);const ti="[ ]*";return ui.endsWith(ti)&&(ui=ui.slice(0,ui.length-ti.length)),Rn&&In&&(Un=!0,ui=`${ui}(?=[${qe}]|[^\\p{M}]|$)`),[Un,ui]},Ln=new WeakSet,wu=function(ui){let In=Nn(this,On,ic);if(In.length===0)return;const{caseSensitive:Rn,entireWord:Un,phraseSearch:ti}=this._state,pi=this._pageContents[ui],Si=this._hasDiacritics[ui];let fi=!1;if(ti)[fi,In]=ii(this,hn,rc).call(this,In,Si);else{const Ri=In.match(/\S+/g);Ri&&(In=Ri.sort().reverse().map(Fi=>{const[Oi,Ii]=ii(this,hn,rc).call(this,Fi,Si);return fi||(fi=Oi),`(${Ii})`}).join("|"))}const di=`g${fi?"u":""}${Rn?"":"i"}`;In=new RegExp(In,di),ii(this,en,Au).call(this,In,Un,ui,pi),this._state.highlightAll&&ii(this,mn,Uo).call(this,ui),this._resumePageIdx===ui&&(this._resumePageIdx=null,ii(this,Mn,sc).call(this));const wi=this._pageMatches[ui].length;wi>0&&(this._matchesCountTotal+=wi,ii(this,oi,Pu).call(this))},Wn=new WeakSet,Su=function(){if(this._extractTextPromises.length>0)return;let ui=Promise.resolve();for(let In=0,Rn=this._linkService.pagesCount;In<Rn;In++){const Un=(0,Re.createPromiseCapability)();this._extractTextPromises[In]=Un.promise,ui=ui.then(()=>this._pdfDocument.getPage(In+1).then(ti=>ti.getTextContent()).then(ti=>{const pi=[];for(const Si of ti.items)pi.push(Si.str),Si.hasEOL&&pi.push(`
`);[this._pageContents[In],this._pageDiffs[In],this._hasDiacritics[In]]=rn(pi.join("")),Un.resolve()},ti=>{console.error(`Unable to get text content for page ${In+1}`,ti),this._pageContents[In]="",this._pageDiffs[In]=null,this._hasDiacritics[In]=!1,Un.resolve()}))}},mn=new WeakSet,Uo=function(ui){this._scrollMatches&&this._selected.pageIdx===ui&&(this._linkService.page=ui+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:ui})},tn=new WeakSet,Wa=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},yn=new WeakSet,da=function(){const ui=this._state.findPrevious,In=this._linkService.page-1,Rn=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=In,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ii(this,tn,Wa).call(this);for(let ti=0;ti<Rn;ti++)this._pendingFindMatches.has(ti)||(this._pendingFindMatches.add(ti),this._extractTextPromises[ti].then(()=>{this._pendingFindMatches.delete(ti),ii(this,Ln,wu).call(this,ti)}))}if(Nn(this,On,ic)===""){ii(this,Ai,Ga).call(this,De.FOUND);return}if(this._resumePageIdx)return;const Un=this._offset;if(this._pagesToSearch=Rn,Un.matchIdx!==null){const ti=this._pageMatches[Un.pageIdx].length;if(!ui&&Un.matchIdx+1<ti||ui&&Un.matchIdx>0){Un.matchIdx=ui?Un.matchIdx-1:Un.matchIdx+1,ii(this,zn,Vo).call(this,!0);return}ii(this,xn,ac).call(this,ui)}ii(this,Mn,sc).call(this)},cn=new WeakSet,xu=function(ui){const In=this._offset,Rn=ui.length,Un=this._state.findPrevious;return Rn?(In.matchIdx=Un?Rn-1:0,ii(this,zn,Vo).call(this,!0),!0):(ii(this,xn,ac).call(this,Un),In.wrapped&&(In.matchIdx=null,this._pagesToSearch<0)?(ii(this,zn,Vo).call(this,!1),!0):!1)},Mn=new WeakSet,sc=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let ui=null;do{const In=this._offset.pageIdx;if(ui=this._pageMatches[In],!ui){this._resumePageIdx=In;break}}while(!ii(this,cn,xu).call(this,ui))},xn=new WeakSet,ac=function(ui){const In=this._offset,Rn=this._linkService.pagesCount;In.pageIdx=ui?In.pageIdx-1:In.pageIdx+1,In.matchIdx=null,this._pagesToSearch--,(In.pageIdx>=Rn||In.pageIdx<0)&&(In.pageIdx=ui?Rn-1:0,In.wrapped=!0)},zn=new WeakSet,Vo=function(ui=!1){let In=De.NOT_FOUND;const Rn=this._offset.wrapped;if(this._offset.wrapped=!1,ui){const Un=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,In=Rn?De.WRAPPED:De.FOUND,Un!==-1&&Un!==this._selected.pageIdx&&ii(this,mn,Uo).call(this,Un)}ii(this,Ai,Ga).call(this,In,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,ii(this,mn,Uo).call(this,this._selected.pageIdx))},Yn=new WeakSet,Eu=function(ui){const In=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||In&&this._pdfDocument!==In||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ii(this,Ai,Ga).call(this,De.FOUND),this._highlightMatches=!1,ii(this,tn,Wa).call(this))})},Xn=new WeakSet,oc=function(){var ti;const{pageIdx:ui,matchIdx:In}=this._selected;let Rn=0,Un=this._matchesCountTotal;if(In!==-1){for(let pi=0;pi<ui;pi++)Rn+=((ti=this._pageMatches[pi])==null?void 0:ti.length)||0;Rn+=In+1}return(Rn<1||Rn>Un)&&(Rn=Un=0),{current:Rn,total:Un}},oi=new WeakSet,Pu=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ii(this,Xn,oc).call(this)})},Ai=new WeakSet,Ga=function(ui,In=!1){var Rn,Un;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:ui,previous:In,matchesCount:ii(this,Xn,oc).call(this),rawQuery:(Un=(Rn=this._state)==null?void 0:Rn.query)!=null?Un:null})},xe.PDFFindController=Sn},(Ee,xe)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.CharacterType=void 0,xe.getCharacterType=je;const Te={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};xe.CharacterType=Te;function Ce(ze){return ze<11904}function Re(ze){return(ze&65408)===0}function Ue(ze){return ze>=97&&ze<=122||ze>=65&&ze<=90}function De(ze){return ze>=48&&ze<=57}function ke(ze){return ze===32||ze===9||ze===13||ze===10}function Me(ze){return ze>=13312&&ze<=40959||ze>=63744&&ze<=64255}function Oe(ze){return ze>=12448&&ze<=12543}function Be(ze){return ze>=12352&&ze<=12447}function Ie(ze){return ze>=65376&&ze<=65439}function qe(ze){return(ze&65408)===3584}function je(ze){return Ce(ze)?Re(ze)?ke(ze)?Te.SPACE:Ue(ze)||De(ze)||ze===95?Te.ALPHA_LETTER:Te.PUNCT:qe(ze)?Te.THAI_LETTER:ze===160?Te.SPACE:Te.ALPHA_LETTER:Me(ze)?Te.HAN_LETTER:Oe(ze)?Te.KATAKANA_LETTER:Be(ze)?Te.HIRAGANA_LETTER:Ie(ze)?Te.HALFWIDTH_KATAKANA_LETTER:Te.ALPHA_LETTER}},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.PDFHistory=void 0,xe.isDestArraysEqual=Ie,xe.isDestHashesEqual=Be;var Ce=Te(7),Re=Te(12);const Ue=1e3,De=50,ke=1e3;function Me(){return document.location.hash}class Oe{constructor({linkService:je,eventBus:ze}){this.linkService=je,this.eventBus=ze,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",Ve=>{this._isPagesLoaded=!!Ve.pagesCount},{once:!0})})}initialize({fingerprint:je,resetHistory:ze=!1,updateUrl:Ve=!1}){if(!je||typeof je!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const He=this._fingerprint!==""&&this._fingerprint!==je;this._fingerprint=je,this._updateUrl=Ve===!0,this._initialized=!0,this._bindEvents();const Qe=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=Me(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(Qe,!0)||ze){const{hash:dn,page:an,rotation:Ke}=this._parseCurrentHash(!0);if(!dn||He||ze){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:dn,page:an,rotation:Ke},!0);return}const Je=Qe.destination;this._updateInternalState(Je,Qe.uid,!0),Je.rotation!==void 0&&(this._initialRotation=Je.rotation),Je.dest?(this._initialBookmark=JSON.stringify(Je.dest),this._destination.page=null):Je.hash?this._initialBookmark=Je.hash:Je.page&&(this._initialBookmark=`page=${Je.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:je=null,explicitDest:ze,pageNumber:Ve}){if(!this._initialized)return;if(je&&typeof je!="string"){console.error(`PDFHistory.push: "${je}" is not a valid namedDest parameter.`);return}else if(Array.isArray(ze)){if(!this._isValidPage(Ve)&&(Ve!==null||this._destination)){console.error(`PDFHistory.push: "${Ve}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${ze}" is not a valid explicitDest parameter.`);return}const He=je||JSON.stringify(ze);if(!He)return;let Qe=!1;if(this._destination&&(Be(this._destination.hash,He)||Ie(this._destination.dest,ze))){if(this._destination.page)return;Qe=!0}this._popStateInProgress&&!Qe||(this._pushOrReplaceState({dest:ze,hash:He,page:Ve,rotation:this.linkService.rotation},Qe),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(je){var ze;if(!!this._initialized){if(!this._isValidPage(je)){console.error(`PDFHistory.pushPage: "${je}" is not a valid page number.`);return}((ze=this._destination)==null?void 0:ze.page)!==je&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${je}`,page:je,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const je=window.history.state;this._isValidState(je)&&je.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const je=window.history.state;this._isValidState(je)&&je.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(je,ze=!1){const Ve=ze||!this._destination,He={fingerprint:this._fingerprint,uid:Ve?this._uid:this._uid+1,destination:je};this._updateInternalState(je,He.uid);let Qe;if(this._updateUrl&&(je==null?void 0:je.hash)){const Je=document.location.href.split("#")[0];Je.startsWith("file://")||(Qe=`${Je}#${je.hash}`)}Ve?window.history.replaceState(He,"",Qe):window.history.pushState(He,"",Qe)}_tryPushCurrentPosition(je=!1){if(!this._position)return;let ze=this._position;if(je&&(ze=Object.assign(Object.create(null),this._position),ze.temporary=!0),!this._destination){this._pushOrReplaceState(ze);return}if(this._destination.temporary){this._pushOrReplaceState(ze,!0);return}if(this._destination.hash===ze.hash||!this._destination.page&&this._numPositionUpdates<=De)return;let Ve=!1;if(this._destination.page>=ze.first&&this._destination.page<=ze.page){if(this._destination.dest!==void 0||!this._destination.first)return;Ve=!0}this._pushOrReplaceState(ze,Ve)}_isValidPage(je){return Number.isInteger(je)&&je>0&&je<=this.linkService.pagesCount}_isValidState(je,ze=!1){if(!je)return!1;if(je.fingerprint!==this._fingerprint)if(ze){if(typeof je.fingerprint!="string"||je.fingerprint.length!==this._fingerprint.length)return!1;const[Ve]=performance.getEntriesByType("navigation");if((Ve==null?void 0:Ve.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(je.uid)||je.uid<0||je.destination===null||typeof je.destination!="object")}_updateInternalState(je,ze,Ve=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),Ve&&(je==null?void 0:je.temporary)&&delete je.temporary,this._destination=je,this._uid=ze,this._maxUid=Math.max(this._maxUid,ze),this._numPositionUpdates=0}_parseCurrentHash(je=!1){const ze=unescape(Me()).substring(1),Ve=(0,Ce.parseQueryString)(ze),He=Ve.get("nameddest")||"";let Qe=Ve.get("page")|0;return(!this._isValidPage(Qe)||je&&He.length>0)&&(Qe=null),{hash:ze,page:Qe,rotation:this.linkService.rotation}}_updateViewarea({location:je}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:je.pdfOpenParams.substring(1),page:this.linkService.page,first:je.pageNumber,rotation:je.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},ke))}_popState({state:je}){const ze=Me(),Ve=this._currentHash!==ze;if(this._currentHash=ze,!je){this._uid++;const{hash:Qe,page:Je,rotation:dn}=this._parseCurrentHash();this._pushOrReplaceState({hash:Qe,page:Je,rotation:dn},!0);return}if(!this._isValidState(je))return;this._popStateInProgress=!0,Ve&&(this._blockHashChange++,(0,Re.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:Ue}).then(()=>{this._blockHashChange--}));const He=je.destination;this._updateInternalState(He,je.uid,!0),(0,Ce.isValidRotation)(He.rotation)&&(this.linkService.rotation=He.rotation),He.dest?this.linkService.goToDestination(He.dest):He.hash?this.linkService.setHash(He.hash):He.page&&(this.linkService.page=He.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}xe.PDFHistory=Oe;function Be(qe,je){return typeof qe!="string"||typeof je!="string"?!1:qe===je||(0,Ce.parseQueryString)(qe).get("nameddest")===je}function Ie(qe,je){function ze(Ve,He){if(typeof Ve!=typeof He||Array.isArray(Ve)||Array.isArray(He))return!1;if(Ve!==null&&typeof Ve=="object"&&He!==null){if(Object.keys(Ve).length!==Object.keys(He).length)return!1;for(const Qe in Ve)if(!ze(Ve[Qe],He[Qe]))return!1;return!0}return Ve===He||Number.isNaN(Ve)&&Number.isNaN(He)}if(!(Array.isArray(qe)&&Array.isArray(je))||qe.length!==je.length)return!1;for(let Ve=0,He=qe.length;Ve<He;Ve++)if(!ze(qe[Ve],je[Ve]))return!1;return!0}},(Ee,xe,Te)=>{var Be,Ie;Object.defineProperty(xe,"__esModule",{value:!0}),xe.PDFPageView=void 0;var Ce=Te(3),Re=Te(7),Ue=Te(19),De=Te(4),ke=Te(20);const Me=Ue.compatibilityParams.maxCanvasPixels||16777216;class Oe{constructor(je){ei(this,Be,Ce.AnnotationMode.ENABLE_FORMS);ei(this,Ie,{initialOptionalContent:!0,regularAnnotations:!0});var Qe,Je,dn,an;const ze=je.container,Ve=je.defaultViewport;this.id=je.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=je.scale||Re.DEFAULT_SCALE,this.viewport=Ve,this.pdfPageRotate=Ve.rotation,this._optionalContentConfigPromise=je.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=(Qe=je.textLayerMode)!=null?Qe:Re.TextLayerMode.ENABLE,bi(this,Be,(Je=je.annotationMode)!=null?Je:Ce.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=je.imageResourcesPath||"",this.useOnlyCssZoom=je.useOnlyCssZoom||!1,this.maxCanvasPixels=je.maxCanvasPixels||Me,this.pageColors=je.pageColors||null,this.eventBus=je.eventBus,this.renderingQueue=je.renderingQueue,this.textLayerFactory=je.textLayerFactory,this.annotationLayerFactory=je.annotationLayerFactory,this.annotationEditorLayerFactory=je.annotationEditorLayerFactory,this.xfaLayerFactory=je.xfaLayerFactory,this.textHighlighter=(dn=je.textHighlighterFactory)==null?void 0:dn.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=je.structTreeLayerFactory,this.renderer=je.renderer||Re.RendererType.CANVAS,this.l10n=je.l10n||De.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=Re.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((an=this.renderingQueue)!=null&&an.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const He=document.createElement("div");if(He.className="page",He.style.width=Math.floor(this.viewport.width)+"px",He.style.height=Math.floor(this.viewport.height)+"px",He.setAttribute("data-page-number",this.id),He.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Ke=>{He.setAttribute("aria-label",Ke)}),this.div=He,ze==null||ze.append(He),this._isStandalone){const{optionalContentConfigPromise:Ke}=je;Ke&&Ke.then(rn=>{Ke===this._optionalContentConfigPromise&&(Nn(this,Ie).initialOptionalContent=rn.hasInitialVisibility)})}}setPdfPage(je){this.pdfPage=je,this.pdfPageRotate=je.rotate;const ze=(this.rotation+this.pdfPageRotate)%360;this.viewport=je.getViewport({scale:this.scale*Ce.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:ze}),this.reset()}destroy(){var je;this.reset(),(je=this.pdfPage)==null||je.cleanup()}async _renderAnnotationLayer(){let je=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(ze){console.error(`_renderAnnotationLayer: "${ze}".`),je=ze}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:je})}}async _renderAnnotationEditorLayer(){let je=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(ze){console.error(`_renderAnnotationEditorLayer: "${ze}".`),je=ze}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:je})}}async _renderXfaLayer(){let je=null;try{const ze=await this.xfaLayer.render(this.viewport,"display");(ze==null?void 0:ze.textDivs)&&this.textHighlighter&&this._buildXfaTextContentItems(ze.textDivs)}catch(ze){console.error(`_renderXfaLayer: "${ze}".`),je=ze}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:je})}}async _buildXfaTextContentItems(je){const ze=await this.pdfPage.getTextContent(),Ve=[];for(const He of ze.items)Ve.push(He.str);this.textHighlighter.setTextMapping(je,Ve),this.textHighlighter.enable()}_resetZoomLayer(je=!1){if(!this.zoomLayer)return;const ze=this.zoomLayer.firstChild;this.paintedViewportMap.delete(ze),ze.width=0,ze.height=0,je&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:je=!1,keepAnnotationLayer:ze=!1,keepAnnotationEditorLayer:Ve=!1,keepXfaLayer:He=!1}={}){var Cn,Sn,fn,gn;this.cancelRendering({keepAnnotationLayer:ze,keepAnnotationEditorLayer:Ve,keepXfaLayer:He}),this.renderingState=Re.RenderingStates.INITIAL;const Qe=this.div;Qe.style.width=Math.floor(this.viewport.width)+"px",Qe.style.height=Math.floor(this.viewport.height)+"px";const Je=Qe.childNodes,dn=je&&this.zoomLayer||null,an=ze&&((Cn=this.annotationLayer)==null?void 0:Cn.div)||null,Ke=Ve&&((Sn=this.annotationEditorLayer)==null?void 0:Sn.div)||null,rn=He&&((fn=this.xfaLayer)==null?void 0:fn.div)||null;for(let vn=Je.length-1;vn>=0;vn--){const pn=Je[vn];switch(pn){case dn:case an:case Ke:case rn:continue}pn.remove()}Qe.removeAttribute("data-loaded"),an&&this.annotationLayer.hide(),Ke?this.annotationEditorLayer.hide():(gn=this.annotationEditorLayer)==null||gn.destroy(),rn&&this.xfaLayer.hide(),dn||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(vn=>{var pn;(pn=this.loadingIconDiv)==null||pn.setAttribute("aria-label",vn)}),Qe.append(this.loadingIconDiv)}update({scale:je=0,rotation:ze=null,optionalContentConfigPromise:Ve=null}){this.scale=je||this.scale,typeof ze=="number"&&(this.rotation=ze),Ve instanceof Promise&&(this._optionalContentConfigPromise=Ve,Ve.then(Je=>{Ve===this._optionalContentConfigPromise&&(Nn(this,Ie).initialOptionalContent=Je.hasInitialVisibility)}));const He=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*Ce.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:He}),this._isStandalone&&Re.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let Qe=!1;if(this.canvas&&this.maxCanvasPixels>0){const Je=this.outputScale;(Math.floor(this.viewport.width)*Je.sx|0)*(Math.floor(this.viewport.height)*Je.sy|0)>this.maxCanvasPixels&&(Qe=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&Qe){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:je=!1,keepAnnotationEditorLayer:ze=!1,keepXfaLayer:Ve=!1}={}){var He;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!je||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!ze||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!Ve||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(He=this.textHighlighter)==null||He.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:je,redrawAnnotationLayer:ze=!1,redrawAnnotationEditorLayer:Ve=!1,redrawXfaLayer:He=!1}){const Qe=this.viewport.width,Je=this.viewport.height,dn=this.div;je.style.width=je.parentNode.style.width=dn.style.width=Math.floor(Qe)+"px",je.style.height=je.parentNode.style.height=dn.style.height=Math.floor(Je)+"px";const an=this.viewport.rotation-this.paintedViewportMap.get(je).rotation,Ke=Math.abs(an);let rn=1,Cn=1;if((Ke===90||Ke===270)&&(rn=Je/Qe,Cn=Qe/Je),je.style.transform=`rotate(${an}deg) scale(${rn}, ${Cn})`,this.textLayer){const Sn=this.textLayer.viewport,fn=this.viewport.rotation-Sn.rotation,gn=Math.abs(fn);let vn=Qe/Sn.width;(gn===90||gn===270)&&(vn=Qe/Sn.height);const pn=this.textLayer.textLayerDiv;let On,Hn;switch(gn){case 0:On=Hn=0;break;case 90:On=0,Hn="-"+pn.style.height;break;case 180:On="-"+pn.style.width,Hn="-"+pn.style.height;break;case 270:On="-"+pn.style.width,Hn=0;break;default:console.error("Bad rotation value.");break}pn.style.transform=`rotate(${gn}deg) scale(${vn}) translate(${On}, ${Hn})`,pn.style.transformOrigin="0% 0%"}ze&&this.annotationLayer&&this._renderAnnotationLayer(),Ve&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),He&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(je,ze){return this.viewport.convertToPdfPoint(je,ze)}toggleLoadingIconSpinner(je=!1){var ze;(ze=this.loadingIconDiv)==null||ze.classList.toggle("notVisible",!je)}draw(){var rn,Cn,Sn;this.renderingState!==Re.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:je,pdfPage:ze}=this;if(!ze)return this.renderingState=Re.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=Re.RenderingStates.RUNNING;const Ve=document.createElement("div");Ve.style.width=je.style.width,Ve.style.height=je.style.height,Ve.classList.add("canvasWrapper");const He=((rn=this.annotationLayer)==null?void 0:rn.div)||((Cn=this.annotationEditorLayer)==null?void 0:Cn.div);He?He.before(Ve):je.append(Ve);let Qe=null;if(this.textLayerMode!==Re.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new ke.TextAccessibilityManager);const fn=document.createElement("div");fn.className="textLayer",fn.style.width=Ve.style.width,fn.style.height=Ve.style.height,He?He.before(fn):je.append(fn),Qe=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:fn,pageIndex:this.id-1,viewport:this.viewport,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=Qe,Nn(this,Be)!==Ce.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:je,pdfPage:ze,imageResourcesPath:this.imageResourcesPath,renderForms:Nn(this,Be)===Ce.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(Sn=this.xfaLayer)!=null&&Sn.div&&je.append(this.xfaLayer.div);let Je=null;this.renderingQueue&&(Je=fn=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=Re.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=Re.RenderingStates.RUNNING,fn()};return}fn()});const dn=async(fn=null)=>{if(an===this.paintTask&&(this.paintTask=null),fn instanceof Ce.RenderingCancelledException){this._renderError=null;return}if(this._renderError=fn,this.renderingState=Re.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),this._resetZoomLayer(!0),Nn(this,Ie).regularAnnotations=!an.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this._renderError}),fn)throw fn},an=this.renderer===Re.RendererType.SVG?this.paintOnSvg(Ve):this.paintOnCanvas(Ve);an.onRenderContinue=Je,this.paintTask=an;const Ke=an.promise.then(()=>dn(null).then(()=>{if(Qe){const fn=ze.streamTextContent({includeMarkedContent:!0});Qe.setTextContentStream(fn),Qe.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:je,pdfPage:ze,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(fn){return dn(fn)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:je,pdfPage:ze})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=fn=>{fn.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(gn=>{if(!gn||!this.canvas)return;const vn=this.structTreeLayer.render(gn);vn.classList.add("structTree"),this.canvas.append(vn)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:ze})),je.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Ke}paintOnCanvas(je){const ze=(0,Ce.createPromiseCapability)(),Ve={promise:ze.promise,onRenderContinue(vn){vn()},cancel(){gn.cancel()},get separateAnnots(){return gn.separateAnnots}},He=this.viewport,Qe=document.createElement("canvas");Qe.setAttribute("role","presentation"),Qe.hidden=!0;let Je=!0;const dn=function(){Je&&(Qe.hidden=!1,Je=!1)};je.append(Qe),this.canvas=Qe;const an=Qe.getContext("2d",{alpha:!1}),Ke=this.outputScale=new Re.OutputScale;if(this.useOnlyCssZoom){const vn=He.clone({scale:Ce.PixelsPerInch.PDF_TO_CSS_UNITS});Ke.sx*=vn.width/He.width,Ke.sy*=vn.height/He.height}if(this.maxCanvasPixels>0){const vn=He.width*He.height,pn=Math.sqrt(this.maxCanvasPixels/vn);Ke.sx>pn||Ke.sy>pn?(Ke.sx=pn,Ke.sy=pn,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const rn=(0,Re.approximateFraction)(Ke.sx),Cn=(0,Re.approximateFraction)(Ke.sy);Qe.width=(0,Re.roundToDivide)(He.width*Ke.sx,rn[0]),Qe.height=(0,Re.roundToDivide)(He.height*Ke.sy,Cn[0]),Qe.style.width=(0,Re.roundToDivide)(He.width,rn[1])+"px",Qe.style.height=(0,Re.roundToDivide)(He.height,Cn[1])+"px",this.paintedViewportMap.set(Qe,He);const Sn=Ke.scaled?[Ke.sx,0,0,Ke.sy,0,0]:null,fn={canvasContext:an,transform:Sn,viewport:this.viewport,annotationMode:Nn(this,Be),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},gn=this.pdfPage.render(fn);return gn.onContinue=function(vn){dn(),Ve.onRenderContinue?Ve.onRenderContinue(vn):vn()},gn.promise.then(function(){dn(),ze.resolve()},function(vn){dn(),ze.reject(vn)}),Ve}paintOnSvg(je){let ze=!1;const Ve=()=>{if(ze)throw new Ce.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},He=this.pdfPage,Qe=this.viewport.clone({scale:Ce.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:He.getOperatorList({annotationMode:Nn(this,Be)}).then(dn=>(Ve(),new Ce.SVGGraphics(He.commonObjs,He.objs).getSVG(dn,Qe).then(Ke=>{Ve(),this.svg=Ke,this.paintedViewportMap.set(Ke,Qe),Ke.style.width=je.style.width,Ke.style.height=je.style.height,this.renderingState=Re.RenderingStates.FINISHED,je.append(Ke)}))),onRenderContinue(dn){dn()},cancel(){ze=!0},get separateAnnots(){return!1}}}setPageLabel(je){this.pageLabel=typeof je=="string"?je:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:je,regularAnnotations:ze}=Nn(this,Ie);return je&&ze?this.canvas:null}}Be=new WeakMap,Ie=new WeakMap,xe.PDFPageView=Oe},(Ee,xe)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.compatibilityParams=xe.OptionKind=xe.AppOptions=void 0;const Te=Object.create(null);xe.compatibilityParams=Te;{const ke=navigator.userAgent||"",Me=navigator.platform||"",Oe=navigator.maxTouchPoints||1,Be=/Android/.test(ke),Ie=/\b(iPad|iPhone|iPod)(?=;)/.test(ke)||Me==="MacIntel"&&Oe>1;(function(){(Ie||Be)&&(Te.maxCanvasPixels=5242880)})()}const Ce={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};xe.OptionKind=Ce;const Re={annotationEditorMode:{value:0,kind:Ce.VIEWER+Ce.PREFERENCE},annotationMode:{value:2,kind:Ce.VIEWER+Ce.PREFERENCE},cursorToolOnLoad:{value:0,kind:Ce.VIEWER+Ce.PREFERENCE},defaultZoomValue:{value:"",kind:Ce.VIEWER+Ce.PREFERENCE},disableHistory:{value:!1,kind:Ce.VIEWER},disablePageLabels:{value:!1,kind:Ce.VIEWER+Ce.PREFERENCE},enablePermissions:{value:!1,kind:Ce.VIEWER+Ce.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:Ce.VIEWER+Ce.PREFERENCE},enableScripting:{value:!0,kind:Ce.VIEWER+Ce.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:Ce.VIEWER},externalLinkTarget:{value:0,kind:Ce.VIEWER+Ce.PREFERENCE},historyUpdateUrl:{value:!1,kind:Ce.VIEWER+Ce.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:Ce.VIEWER+Ce.PREFERENCE},imageResourcesPath:{value:"./images/",kind:Ce.VIEWER},maxCanvasPixels:{value:16777216,kind:Ce.VIEWER},forcePageColors:{value:!1,kind:Ce.VIEWER+Ce.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:Ce.VIEWER+Ce.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:Ce.VIEWER+Ce.PREFERENCE},pdfBugEnabled:{value:!1,kind:Ce.VIEWER+Ce.PREFERENCE},printResolution:{value:150,kind:Ce.VIEWER},sidebarViewOnLoad:{value:-1,kind:Ce.VIEWER+Ce.PREFERENCE},scrollModeOnLoad:{value:-1,kind:Ce.VIEWER+Ce.PREFERENCE},spreadModeOnLoad:{value:-1,kind:Ce.VIEWER+Ce.PREFERENCE},textLayerMode:{value:1,kind:Ce.VIEWER+Ce.PREFERENCE},useOnlyCssZoom:{value:!1,kind:Ce.VIEWER+Ce.PREFERENCE},viewerCssTheme:{value:0,kind:Ce.VIEWER+Ce.PREFERENCE},viewOnLoad:{value:0,kind:Ce.VIEWER+Ce.PREFERENCE},cMapPacked:{value:!0,kind:Ce.API},cMapUrl:{value:"../web/cmaps/",kind:Ce.API},disableAutoFetch:{value:!1,kind:Ce.API+Ce.PREFERENCE},disableFontFace:{value:!1,kind:Ce.API+Ce.PREFERENCE},disableRange:{value:!1,kind:Ce.API+Ce.PREFERENCE},disableStream:{value:!1,kind:Ce.API+Ce.PREFERENCE},docBaseUrl:{value:"",kind:Ce.API},enableXfa:{value:!0,kind:Ce.API+Ce.PREFERENCE},fontExtraProperties:{value:!1,kind:Ce.API},isEvalSupported:{value:!0,kind:Ce.API},isOffscreenCanvasSupported:{value:!0,kind:Ce.API},maxImageSize:{value:-1,kind:Ce.API},pdfBug:{value:!1,kind:Ce.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:Ce.API},verbosity:{value:1,kind:Ce.API},workerPort:{value:null,kind:Ce.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:Ce.WORKER}};Re.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:Ce.VIEWER},Re.disablePreferences={value:!1,kind:Ce.VIEWER},Re.locale={value:navigator.language||"en-US",kind:Ce.VIEWER},Re.renderer={value:"canvas",kind:Ce.VIEWER+Ce.PREFERENCE},Re.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:Ce.VIEWER};const Ue=Object.create(null);class De{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(Me){var Ie;const Oe=Ue[Me];if(Oe!==void 0)return Oe;const Be=Re[Me];if(Be!==void 0)return(Ie=Te[Me])!=null?Ie:Be.value}static getAll(Me=null){var Be;const Oe=Object.create(null);for(const Ie in Re){const qe=Re[Ie];if(Me){if((Me&qe.kind)===0)continue;if(Me===Ce.PREFERENCE){const ze=qe.value,Ve=typeof ze;if(Ve==="boolean"||Ve==="string"||Ve==="number"&&Number.isInteger(ze)){Oe[Ie]=ze;continue}throw new Error(`Invalid type for preference: ${Ie}`)}}const je=Ue[Ie];Oe[Ie]=je!==void 0?je:(Be=Te[Ie])!=null?Be:qe.value}return Oe}static set(Me,Oe){Ue[Me]=Oe}static setAll(Me){for(const Oe in Me)Ue[Oe]=Me[Oe]}static remove(Me){delete Ue[Me]}static _hasUserOptions(){return Object.keys(Ue).length>0}}xe.AppOptions=De},(Ee,xe,Te)=>{var Ue,De,ke,Me,Oe,qo,Ie,cc;Object.defineProperty(xe,"__esModule",{value:!0}),xe.TextAccessibilityManager=void 0;var Ce=Te(7);const je=class{constructor(){ei(this,Ie);ei(this,Ue,!1);ei(this,De,null);ei(this,ke,new Map);ei(this,Me,new Map)}setTextMapping(Ve){bi(this,De,Ve)}enable(){if(Nn(this,Ue))throw new Error("TextAccessibilityManager is already enabled.");if(!Nn(this,De))throw new Error("Text divs and strings have not been set.");if(bi(this,Ue,!0),bi(this,De,Nn(this,De).slice()),Nn(this,De).sort(ii(je,Oe,qo)),Nn(this,ke).size>0){const Ve=Nn(this,De);for(const[He,Qe]of Nn(this,ke)){if(!document.getElementById(He)){Nn(this,ke).delete(He);continue}ii(this,Ie,cc).call(this,He,Ve[Qe])}}for(const[Ve,He]of Nn(this,Me))this.addPointerInTextLayer(Ve,He);Nn(this,Me).clear()}disable(){!Nn(this,Ue)||(Nn(this,Me).clear(),bi(this,De,null),bi(this,Ue,!1))}removePointerInTextLayer(Ve){if(!Nn(this,Ue)){Nn(this,Me).delete(Ve);return}const He=Nn(this,De);if(!He||He.length===0)return;const{id:Qe}=Ve,Je=Nn(this,ke).get(Qe);if(Je===void 0)return;const dn=He[Je];Nn(this,ke).delete(Qe);let an=dn.getAttribute("aria-owns");an!=null&&an.includes(Qe)&&(an=an.split(" ").filter(Ke=>Ke!==Qe).join(" "),an?dn.setAttribute("aria-owns",an):(dn.removeAttribute("aria-owns"),dn.setAttribute("role","presentation")))}addPointerInTextLayer(Ve,He){const{id:Qe}=Ve;if(!Qe)return;if(!Nn(this,Ue)){Nn(this,Me).set(Ve,He);return}He&&this.removePointerInTextLayer(Ve);const Je=Nn(this,De);if(!Je||Je.length===0)return;const dn=(0,Ce.binarySearchFirstItem)(Je,Ke=>{var rn;return ii(rn=je,Oe,qo).call(rn,Ve,Ke)<0}),an=Math.max(0,dn-1);ii(this,Ie,cc).call(this,Qe,Je[an]),Nn(this,ke).set(Qe,an)}moveElementInDOM(Ve,He,Qe,Je){if(this.addPointerInTextLayer(Qe,Je),!Ve.hasChildNodes()){Ve.append(He);return}const dn=Array.from(Ve.childNodes).filter(rn=>rn!==He);if(dn.length===0)return;const an=Qe||He,Ke=(0,Ce.binarySearchFirstItem)(dn,rn=>{var Cn;return ii(Cn=je,Oe,qo).call(Cn,an,rn)<0});Ke===0?dn[0].before(He):dn[Ke-1].after(He)}};let Re=je;Ue=new WeakMap,De=new WeakMap,ke=new WeakMap,Me=new WeakMap,Oe=new WeakSet,qo=function(Ve,He){const Qe=Ve.getBoundingClientRect(),Je=He.getBoundingClientRect();if(Qe.width===0&&Qe.height===0)return 1;if(Je.width===0&&Je.height===0)return-1;const dn=Qe.y,an=Qe.y+Qe.height,Ke=Qe.y+Qe.height/2,rn=Je.y,Cn=Je.y+Je.height,Sn=Je.y+Je.height/2;if(Ke<=rn&&Sn>=an)return-1;if(Sn<=dn&&Ke>=Cn)return 1;const fn=Qe.x+Qe.width/2,gn=Je.x+Je.width/2;return fn-gn},Ie=new WeakSet,cc=function(Ve,He){const Qe=He.getAttribute("aria-owns");Qe!=null&&Qe.includes(Ve)||He.setAttribute("aria-owns",Qe?`${Qe} ${Ve}`:Ve),He.removeAttribute("role")},ei(Re,Oe),xe.TextAccessibilityManager=Re},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.PDFScriptingManager=void 0;var Ce=Te(7),Re=Te(3);class Ue{constructor({eventBus:ke,sandboxBundleSrc:Me=null,scriptingFactory:Oe=null,docPropertiesLookup:Be=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=ke,this._sandboxBundleSrc=Me,this._scriptingFactory=Oe,this._docPropertiesLookup=Be,this._scriptingFactory||window.addEventListener("updatefromsandbox",Ie=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:Ie.detail})})}setViewer(ke){this._pdfViewer=ke}async setDocument(ke){var Ie;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=ke,!ke)return;const[Me,Oe,Be]=await Promise.all([ke.getFieldObjects(),ke.getCalculationOrderIds(),ke.getJSActions()]);if(!Me&&!Be){await this._destroyScripting();return}if(ke===this._pdfDocument){try{this._scripting=this._createScripting()}catch(qe){console.error(`PDFScriptingManager.setDocument: "${qe==null?void 0:qe.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",qe=>{(qe==null?void 0:qe.source)===window&&this._updateFromSandbox(qe.detail)}),this._internalEvents.set("dispatcheventinsandbox",qe=>{var je;(je=this._scripting)==null||je.dispatchEventInSandbox(qe.detail)}),this._internalEvents.set("pagechanging",({pageNumber:qe,previous:je})=>{qe!==je&&(this._dispatchPageClose(je),this._dispatchPageOpen(qe))}),this._internalEvents.set("pagerendered",({pageNumber:qe})=>{!this._pageOpenPending.has(qe)||qe===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(qe)}),this._internalEvents.set("pagesdestroy",async qe=>{var je,ze;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((je=this._scripting)==null?void 0:je.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(ze=this._closeCapability)==null||ze.resolve()}),this._domEvents.set("mousedown",qe=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",qe=>{this._mouseState.isDown=!1});for(const[qe,je]of this._internalEvents)this._eventBus._on(qe,je);for(const[qe,je]of this._domEvents)window.addEventListener(qe,je,!0);try{const qe=await this._getDocProperties();if(ke!==this._pdfDocument)return;await this._scripting.createSandbox({objects:Me,calculationOrder:Oe,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...qe,actions:Be}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(qe){console.error(`PDFScriptingManager.setDocument: "${qe==null?void 0:qe.message}".`),await this._destroyScripting();return}await((Ie=this._scripting)==null?void 0:Ie.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{ke===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(ke){var Me;return(Me=this._scripting)==null?void 0:Me.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(ke){var Me;return(Me=this._scripting)==null?void 0:Me.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(ke){var Me;return(Me=this._scripting)==null?void 0:Me.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(ke){var Me;return(Me=this._scripting)==null?void 0:Me.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var ke;return((ke=this._destroyCapability)==null?void 0:ke.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,Re.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,Re.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,Re.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,Re.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(ke){var ze;const Me=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:Oe,siblings:Be,command:Ie,value:qe}=ke;if(!Oe){switch(Ie){case"clear":console.clear();break;case"error":console.error(qe);break;case"layout":if(Me)return;const Ve=(0,Ce.apiPageLayoutToViewerModes)(qe);this._pdfViewer.spreadMode=Ve.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=qe+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(qe);break;case"zoom":if(Me)return;this._pdfViewer.currentScaleValue=qe;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(Me)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(Me)return;this._pdfViewer.decreaseScale();break}return}if(Me&&ke.focus)return;delete ke.id,delete ke.siblings;const je=Be?[Oe,...Be]:[Oe];for(const Ve of je){const He=document.querySelector(`[data-element-id="${Ve}"]`);He?He.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:ke})):(ze=this._pdfDocument)==null||ze.annotationStorage.setValue(Ve,ke)}}async _dispatchPageOpen(ke,Me=!1){const Oe=this._pdfDocument,Be=this._visitedPages;if(Me&&(this._closeCapability=(0,Re.createPromiseCapability)()),!this._closeCapability)return;const Ie=this._pdfViewer.getPageView(ke-1);if((Ie==null?void 0:Ie.renderingState)!==Ce.RenderingStates.FINISHED){this._pageOpenPending.add(ke);return}this._pageOpenPending.delete(ke);const qe=(async()=>{var ze,Ve;const je=await(Be.has(ke)?null:(ze=Ie.pdfPage)==null?void 0:ze.getJSActions());Oe===this._pdfDocument&&await((Ve=this._scripting)==null?void 0:Ve.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:ke,actions:je}))})();Be.set(ke,qe)}async _dispatchPageClose(ke){var Ie;const Me=this._pdfDocument,Oe=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(ke))return;const Be=Oe.get(ke);!Be||(Oe.set(ke,null),await Be,Me===this._pdfDocument&&await((Ie=this._scripting)==null?void 0:Ie.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:ke})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:ke}=Te(22);return ke(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,Re.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:ke}=Te(22);return new ke(this._sandboxBundleSrc)}async _destroyScripting(){var ke,Me;if(!this._scripting){this._pdfDocument=null,(ke=this._destroyCapability)==null||ke.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(Oe=>{setTimeout(Oe,1e3)})]).catch(Oe=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[Oe,Be]of this._internalEvents)this._eventBus._off(Oe,Be);this._internalEvents.clear();for(const[Oe,Be]of this._domEvents)window.removeEventListener(Oe,Be,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(Me=this._destroyCapability)==null||Me.resolve()}}xe.PDFScriptingManager=Ue},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.GenericScripting=void 0,xe.docPropertiesLookup=Re;var Ce=Te(3);async function Re(De){const ke="",Me=ke.split("#")[0];let{info:Oe,metadata:Be,contentDispositionFilename:Ie,contentLength:qe}=await De.getMetadata();if(!qe){const{length:je}=await De.getDownloadInfo();qe=je}return{...Oe,baseURL:Me,filesize:qe,filename:Ie||(0,Ce.getPdfFilenameFromUrl)(ke),metadata:Be==null?void 0:Be.getRaw(),authors:Be==null?void 0:Be.get("dc:creator"),numPages:De.numPages,URL:ke}}class Ue{constructor(ke){this._ready=(0,Ce.loadScript)(ke,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(ke){(await this._ready).create(ke)}async dispatchEventInSandbox(ke){const Me=await this._ready;setTimeout(()=>Me.dispatchEvent(ke),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}xe.GenericScripting=Ue},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.PDFSinglePageViewer=void 0;var Ce=Te(7),Re=Te(24);class Ue extends Re.PDFViewer{_resetView(){super._resetView(),this._scrollMode=Ce.ScrollMode.PAGE,this._spreadMode=Ce.SpreadMode.NONE}set scrollMode(ke){}_updateScrollMode(){}set spreadMode(ke){}_updateSpreadMode(){}}xe.PDFSinglePageViewer=Ue},(Ee,xe,Te)=>{var Ke,rn,Cn,uc,fn,gn,vn,pn,On,Hn,Bn,Ze,Xe,Cu,en,Lu,hn,$a,Ln,Ho,Wn,Nu,mn,hc,tn,Tu,yn,ku,cn,Ru;Object.defineProperty(xe,"__esModule",{value:!0}),xe.PagesCountLimit=xe.PDFViewer=xe.PDFPageViewBuffer=void 0;var Ce=Te(3),Re=Te(7),Ue=Te(2),De=Te(5),ke=Te(4),Me=Te(18),Oe=Te(25),Be=Te(6),Ie=Te(8),qe=Te(26),je=Te(9),ze=Te(10);const Ve=10,He="enablePermissions",Qe={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};xe.PagesCountLimit=Qe;function Je(Mn){return Object.values(Ce.AnnotationEditorType).includes(Mn)&&Mn!==Ce.AnnotationEditorType.DISABLE}class dn{constructor(nn){ei(this,Cn);ei(this,Ke,new Set);ei(this,rn,0);bi(this,rn,nn)}push(nn){const xn=Nn(this,Ke);xn.has(nn)&&xn.delete(nn),xn.add(nn),xn.size>Nn(this,rn)&&ii(this,Cn,uc).call(this)}resize(nn,xn=null){bi(this,rn,nn);const _n=Nn(this,Ke);if(xn){const zn=_n.size;let $n=1;for(const Yn of _n)if(xn.has(Yn.id)&&(_n.delete(Yn),_n.add(Yn)),++$n>zn)break}for(;_n.size>Nn(this,rn);)ii(this,Cn,uc).call(this)}has(nn){return Nn(this,Ke).has(nn)}[Symbol.iterator](){return Nn(this,Ke).keys()}}Ke=new WeakMap,rn=new WeakMap,Cn=new WeakSet,uc=function(){const nn=Nn(this,Ke).keys().next().value;nn==null||nn.destroy(),Nn(this,Ke).delete(nn)},xe.PDFPageViewBuffer=dn;class an{constructor(nn){ei(this,Xe);ei(this,en);ei(this,hn);ei(this,Ln);ei(this,Wn);ei(this,mn);ei(this,tn);ei(this,yn);ei(this,cn);ei(this,fn,null);ei(this,gn,Ce.AnnotationEditorType.NONE);ei(this,vn,null);ei(this,pn,Ce.AnnotationMode.ENABLE_FORMS);ei(this,On,!1);ei(this,Hn,0);ei(this,Bn,null);ei(this,Ze,null);var _n,zn,$n,Yn,jn;const xn="3.0.279";if(Ce.version!==xn)throw new Error(`The API version "${Ce.version}" does not match the Viewer version "${xn}".`);if(this.container=nn.container,this.viewer=nn.viewer||nn.container.firstElementChild,!(((_n=this.container)==null?void 0:_n.tagName.toUpperCase())==="DIV"&&((zn=this.viewer)==null?void 0:zn.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=nn.eventBus,this.linkService=nn.linkService||new Be.SimpleLinkService,this.downloadManager=nn.downloadManager||null,this.findController=nn.findController||null,this._scriptingManager=nn.scriptingManager||null,this.removePageBorders=nn.removePageBorders||!1,this.textLayerMode=($n=nn.textLayerMode)!=null?$n:Re.TextLayerMode.ENABLE,bi(this,pn,(Yn=nn.annotationMode)!=null?Yn:Ce.AnnotationMode.ENABLE_FORMS),bi(this,gn,(jn=nn.annotationEditorMode)!=null?jn:Ce.AnnotationEditorType.NONE),this.imageResourcesPath=nn.imageResourcesPath||"",this.enablePrintAutoRotate=nn.enablePrintAutoRotate||!1,this.renderer=nn.renderer||Re.RendererType.CANVAS,this.useOnlyCssZoom=nn.useOnlyCssZoom||!1,this.maxCanvasPixels=nn.maxCanvasPixels,this.l10n=nn.l10n||ke.NullL10n,bi(this,On,nn.enablePermissions||!1),this.pageColors=nn.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("PDFViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!nn.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Oe.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=nn.renderingQueue,this.scroll=(0,Re.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=Re.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(nn){return this._pages[nn]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(nn){return nn==null?void 0:nn.pdfPage}):!1}get renderForms(){return Nn(this,pn)===Ce.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(nn){if(!Number.isInteger(nn))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(nn,!0)||console.error(`currentPageNumber: "${nn}" is not a valid page.`)}_setCurrentPageNumber(nn,xn=!1){var zn,$n;if(this._currentPageNumber===nn)return xn&&ii(this,mn,hc).call(this),!0;if(!(0<nn&&nn<=this.pagesCount))return!1;const _n=this._currentPageNumber;return this._currentPageNumber=nn,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:nn,pageLabel:($n=(zn=this._pageLabels)==null?void 0:zn[nn-1])!=null?$n:null,previous:_n}),xn&&ii(this,mn,hc).call(this),!0}get currentPageLabel(){var nn,xn;return(xn=(nn=this._pageLabels)==null?void 0:nn[this._currentPageNumber-1])!=null?xn:null}set currentPageLabel(nn){if(!this.pdfDocument)return;let xn=nn|0;if(this._pageLabels){const _n=this._pageLabels.indexOf(nn);_n>=0&&(xn=_n+1)}this._setCurrentPageNumber(xn,!0)||console.error(`currentPageLabel: "${nn}" is not a valid page.`)}get currentScale(){return this._currentScale!==Re.UNKNOWN_SCALE?this._currentScale:Re.DEFAULT_SCALE}set currentScale(nn){if(isNaN(nn))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(nn,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(nn){!this.pdfDocument||this._setScale(nn,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(nn){if(!(0,Re.isValidRotation)(nn))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(nn%=360,nn<0&&(nn+=360),this._pagesRotation===nn))return;this._pagesRotation=nn;const xn=this._currentPageNumber,_n={rotation:nn};for(const zn of this._pages)zn.update(_n);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:nn,pageNumber:xn}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(nn){var jn,Xn;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(jn=this.findController)==null||jn.setDocument(null),(Xn=this._scriptingManager)==null||Xn.setDocument(null),Nn(this,vn)&&(Nn(this,vn).destroy(),bi(this,vn,null))),this.pdfDocument=nn,!nn)return;const xn=nn.isPureXfa,_n=nn.numPages,zn=nn.getPage(1),$n=nn.getOptionalContentConfig(),Yn=Nn(this,On)?nn.getPermissions():Promise.resolve();if(_n>Qe.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const li=this._scrollMode=Re.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:li})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:_n})},()=>{}),this._onBeforeDraw=li=>{const oi=this._pages[li.pageNumber-1];!oi||Nn(this,fn).push(oi)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=li=>{li.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:li.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Nn(this,Ze)&&(document.removeEventListener("visibilitychange",Nn(this,Ze)),bi(this,Ze,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([zn,Yn]).then(([li,oi])=>{if(nn!==this.pdfDocument)return;this._firstPageCapability.resolve(li),this._optionalContentConfigPromise=$n;const{annotationEditorMode:Ni,annotationMode:Ai,textLayerMode:Li}=ii(this,Xe,Cu).call(this,oi);if(Ni!==Ce.AnnotationEditorType.DISABLE){const fi=Ni;xn?console.warn("Warning: XFA-editing is not implemented."):Je(fi)?(bi(this,vn,new Ce.AnnotationEditorUIManager(this.container,this.eventBus)),fi!==Ce.AnnotationEditorType.NONE&&Nn(this,vn).updateMode(fi)):console.error(`Invalid AnnotationEditor mode: ${fi}`)}const Ei=this._scrollMode===Re.ScrollMode.PAGE?null:this.viewer,ui=this.currentScale,In=li.getViewport({scale:ui*Ce.PixelsPerInch.PDF_TO_CSS_UNITS}),Rn=Li!==Re.TextLayerMode.DISABLE&&!xn?this:null,Un=Ai!==Ce.AnnotationMode.DISABLE?this:null,ti=xn?this:null,pi=Nn(this,vn)?this:null;for(let fi=1;fi<=_n;++fi){const di=new Me.PDFPageView({container:Ei,eventBus:this.eventBus,id:fi,scale:ui,defaultViewport:In.clone(),optionalContentConfigPromise:$n,renderingQueue:this.renderingQueue,textLayerFactory:Rn,textLayerMode:Li,annotationLayerFactory:Un,annotationMode:Ai,xfaLayerFactory:ti,annotationEditorLayerFactory:pi,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(di)}const Si=this._pages[0];Si&&(Si.setPdfPage(li),this.linkService.cachePageRef(1,li.ref)),this._scrollMode===Re.ScrollMode.PAGE?ii(this,hn,$a).call(this):this._spreadMode!==Re.SpreadMode.NONE&&this._updateSpreadMode(),ii(this,en,Lu).call(this).then(async()=>{var di,wi;if((di=this.findController)==null||di.setDocument(nn),(wi=this._scriptingManager)==null||wi.setDocument(nn),Nn(this,vn)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:Nn(this,gn)}),nn.loadingParams.disableAutoFetch||_n>Qe.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let fi=_n-1;if(fi<=0){this._pagesCapability.resolve();return}for(let Ri=2;Ri<=_n;++Ri){const Fi=nn.getPage(Ri).then(Oi=>{const Ii=this._pages[Ri-1];Ii.pdfPage||Ii.setPdfPage(Oi),this.linkService.cachePageRef(Ri,Oi.ref),--fi===0&&this._pagesCapability.resolve()},Oi=>{console.error(`Unable to get page ${Ri} to initialize viewer`,Oi),--fi===0&&this._pagesCapability.resolve()});Ri%Qe.PAUSE_EAGER_PAGE_INIT===0&&await Fi}}),this.eventBus.dispatch("pagesinit",{source:this}),nn.getMetadata().then(({info:fi})=>{nn===this.pdfDocument&&fi.Language&&(this.viewer.lang=fi.Language)}),this.defaultRenderingQueue&&this.update()}).catch(li=>{console.error("Unable to initialize viewer",li),this._pagesCapability.reject(li)})}setPageLabels(nn){var xn,_n;if(!!this.pdfDocument){nn?Array.isArray(nn)&&this.pdfDocument.numPages===nn.length?this._pageLabels=nn:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let zn=0,$n=this._pages.length;zn<$n;zn++)this._pages[zn].setPageLabel((_n=(xn=this._pageLabels)==null?void 0:xn[zn])!=null?_n:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=Re.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,bi(this,fn,new dn(Ve)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,Ce.createPromiseCapability)(),this._onePageRenderedCapability=(0,Ce.createPromiseCapability)(),this._pagesCapability=(0,Ce.createPromiseCapability)(),this._scrollMode=Re.ScrollMode.VERTICAL,this._previousScrollMode=Re.ScrollMode.UNKNOWN,this._spreadMode=Re.SpreadMode.NONE,bi(this,Bn,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Nn(this,Ze)&&(document.removeEventListener("visibilitychange",Nn(this,Ze)),bi(this,Ze,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(He)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(nn,xn,_n=!1,zn=!1){if(this._currentScaleValue=xn.toString(),ii(this,Wn,Nu).call(this,nn)){zn&&this.eventBus.dispatch("scalechanging",{source:this,scale:nn,presetValue:xn});return}Re.docStyle.setProperty("--scale-factor",nn*Ce.PixelsPerInch.PDF_TO_CSS_UNITS);const $n={scale:nn};for(const Yn of this._pages)Yn.update($n);if(this._currentScale=nn,!_n){let Yn=this._currentPageNumber,jn;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Yn=this._location.pageNumber,jn=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Yn,destArray:jn,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:nn,presetValue:zn?xn:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==Re.SpreadMode.NONE&&this._scrollMode!==Re.ScrollMode.HORIZONTAL?2:1}_setScale(nn,xn=!1){let _n=parseFloat(nn);if(_n>0)this._setScaleUpdatePages(_n,nn,xn,!1);else{const zn=this._pages[this._currentPageNumber-1];if(!zn)return;let $n=Re.SCROLLBAR_PADDING,Yn=Re.VERTICAL_PADDING;this.isInPresentationMode?$n=Yn=4:this.removePageBorders?$n=Yn=0:this._scrollMode===Re.ScrollMode.HORIZONTAL&&([$n,Yn]=[Yn,$n]);const jn=(this.container.clientWidth-$n)/zn.width*zn.scale/this._pageWidthScaleFactor,Xn=(this.container.clientHeight-Yn)/zn.height*zn.scale;switch(nn){case"page-actual":_n=1;break;case"page-width":_n=jn;break;case"page-height":_n=Xn;break;case"page-fit":_n=Math.min(jn,Xn);break;case"auto":const li=(0,Re.isPortraitOrientation)(zn)?jn:Math.min(Xn,jn);_n=Math.min(Re.MAX_AUTO_SCALE,li);break;default:console.error(`_setScale: "${nn}" is an unknown zoom value.`);return}this._setScaleUpdatePages(_n,nn,xn,!0)}}pageLabelToPageNumber(nn){if(!this._pageLabels)return null;const xn=this._pageLabels.indexOf(nn);return xn<0?null:xn+1}scrollPageIntoView({pageNumber:nn,destArray:xn=null,allowNegativeOffset:_n=!1,ignoreDestinationZoom:zn=!1}){if(!this.pdfDocument)return;const $n=Number.isInteger(nn)&&this._pages[nn-1];if(!$n){console.error(`scrollPageIntoView: "${nn}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!xn){this._setCurrentPageNumber(nn,!0);return}let Yn=0,jn=0,Xn=0,li=0,oi,Ni;const Ai=$n.rotation%180!==0,Li=(Ai?$n.height:$n.width)/$n.scale/Ce.PixelsPerInch.PDF_TO_CSS_UNITS,Ei=(Ai?$n.width:$n.height)/$n.scale/Ce.PixelsPerInch.PDF_TO_CSS_UNITS;let ui=0;switch(xn[1].name){case"XYZ":Yn=xn[2],jn=xn[3],ui=xn[4],Yn=Yn!==null?Yn:0,jn=jn!==null?jn:Ei;break;case"Fit":case"FitB":ui="page-fit";break;case"FitH":case"FitBH":jn=xn[2],ui="page-width",jn===null&&this._location?(Yn=this._location.left,jn=this._location.top):(typeof jn!="number"||jn<0)&&(jn=Ei);break;case"FitV":case"FitBV":Yn=xn[2],Xn=Li,li=Ei,ui="page-height";break;case"FitR":Yn=xn[2],jn=xn[3],Xn=xn[4]-Yn,li=xn[5]-jn;const ti=this.removePageBorders?0:Re.SCROLLBAR_PADDING,pi=this.removePageBorders?0:Re.VERTICAL_PADDING;oi=(this.container.clientWidth-ti)/Xn/Ce.PixelsPerInch.PDF_TO_CSS_UNITS,Ni=(this.container.clientHeight-pi)/li/Ce.PixelsPerInch.PDF_TO_CSS_UNITS,ui=Math.min(Math.abs(oi),Math.abs(Ni));break;default:console.error(`scrollPageIntoView: "${xn[1].name}" is not a valid destination type.`);return}if(zn||(ui&&ui!==this._currentScale?this.currentScaleValue=ui:this._currentScale===Re.UNKNOWN_SCALE&&(this.currentScaleValue=Re.DEFAULT_SCALE_VALUE)),ui==="page-fit"&&!xn[4]){ii(this,Ln,Ho).call(this,$n);return}const In=[$n.viewport.convertToViewportPoint(Yn,jn),$n.viewport.convertToViewportPoint(Yn+Xn,jn+li)];let Rn=Math.min(In[0][0],In[1][0]),Un=Math.min(In[0][1],In[1][1]);_n||(Rn=Math.max(Rn,0),Un=Math.max(Un,0)),ii(this,Ln,Ho).call(this,$n,{left:Rn,top:Un})}_updateLocation(nn){const xn=this._currentScale,_n=this._currentScaleValue,zn=parseFloat(_n)===xn?Math.round(xn*1e4)/100:_n,$n=nn.id,Yn=this._pages[$n-1],jn=this.container,Xn=Yn.getPagePoint(jn.scrollLeft-nn.x,jn.scrollTop-nn.y),li=Math.round(Xn[0]),oi=Math.round(Xn[1]);let Ni=`#page=${$n}`;this.isInPresentationMode||(Ni+=`&zoom=${zn},${li},${oi}`),this._location={pageNumber:$n,scale:zn,top:oi,left:li,rotation:this._pagesRotation,pdfOpenParams:Ni}}update(){const nn=this._getVisiblePages(),xn=nn.views,_n=xn.length;if(_n===0)return;const zn=Math.max(Ve,2*_n+1);Nn(this,fn).resize(zn,nn.ids),this.renderingQueue.renderHighestPriority(nn);const $n=this._spreadMode===Re.SpreadMode.NONE&&(this._scrollMode===Re.ScrollMode.PAGE||this._scrollMode===Re.ScrollMode.VERTICAL),Yn=this._currentPageNumber;let jn=!1;for(const Xn of xn){if(Xn.percent<100)break;if(Xn.id===Yn&&$n){jn=!0;break}}this._setCurrentPageNumber(jn?Yn:xn[0].id),this._updateLocation(nn.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(nn){return this.container.contains(nn)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===Re.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===Re.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const nn=this._scrollMode===Re.ScrollMode.PAGE?Nn(this,Bn).pages:this._pages,xn=this._scrollMode===Re.ScrollMode.HORIZONTAL,_n=xn&&this._isContainerRtl;return(0,Re.getVisibleElements)({scrollEl:this.container,views:nn,sortByVisibility:!0,horizontal:xn,rtl:_n})}isPageVisible(nn){return this.pdfDocument?Number.isInteger(nn)&&nn>0&&nn<=this.pagesCount?this._getVisiblePages().ids.has(nn):(console.error(`isPageVisible: "${nn}" is not a valid page.`),!1):!1}isPageCached(nn){if(!this.pdfDocument)return!1;if(!(Number.isInteger(nn)&&nn>0&&nn<=this.pagesCount))return console.error(`isPageCached: "${nn}" is not a valid page.`),!1;const xn=this._pages[nn-1];return Nn(this,fn).has(xn)}cleanup(){for(const nn of this._pages)nn.renderingState!==Re.RenderingStates.FINISHED&&nn.reset()}_cancelRendering(){for(const nn of this._pages)nn.cancelRendering()}forceRendering(nn){const xn=nn||this._getVisiblePages(),_n=ii(this,yn,ku).call(this,xn),zn=this._spreadMode!==Re.SpreadMode.NONE&&this._scrollMode!==Re.ScrollMode.HORIZONTAL,$n=this.renderingQueue.getHighestPriority(xn,this._pages,_n,zn);return ii(this,cn,Ru).call(this,xn.ids),$n?(ii(this,tn,Tu).call(this,$n).then(()=>{this.renderingQueue.renderView($n)}),!0):!1}createTextLayerBuilder({textLayerDiv:nn,pageIndex:xn,viewport:_n,eventBus:zn,highlighter:$n,accessibilityManager:Yn=null}){return new je.TextLayerBuilder({textLayerDiv:nn,eventBus:zn,pageIndex:xn,viewport:_n,highlighter:$n,accessibilityManager:Yn})}createTextHighlighter({pageIndex:nn,eventBus:xn}){return new qe.TextHighlighter({eventBus:xn,pageIndex:nn,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:nn,pdfPage:xn,annotationStorage:_n=(Li=>(Li=this.pdfDocument)==null?void 0:Li.annotationStorage)(),imageResourcesPath:zn="",renderForms:$n=!0,l10n:Yn=ke.NullL10n,enableScripting:jn=this.enableScripting,hasJSActionsPromise:Xn=(Ei=>(Ei=this.pdfDocument)==null?void 0:Ei.hasJSActions())(),mouseState:li=(ui=>(ui=this._scriptingManager)==null?void 0:ui.mouseState)(),fieldObjectsPromise:oi=(In=>(In=this.pdfDocument)==null?void 0:In.getFieldObjects())(),annotationCanvasMap:Ni=null,accessibilityManager:Ai=null}){return new De.AnnotationLayerBuilder({pageDiv:nn,pdfPage:xn,annotationStorage:_n,imageResourcesPath:zn,renderForms:$n,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Yn,enableScripting:jn,hasJSActionsPromise:Xn,mouseState:li,fieldObjectsPromise:oi,annotationCanvasMap:Ni,accessibilityManager:Ai})}createAnnotationEditorLayerBuilder({uiManager:nn=Nn(this,vn),pageDiv:xn,pdfPage:_n,accessibilityManager:zn=null,l10n:$n,annotationStorage:Yn=(jn=>(jn=this.pdfDocument)==null?void 0:jn.annotationStorage)()}){return new Ue.AnnotationEditorLayerBuilder({uiManager:nn,pageDiv:xn,pdfPage:_n,annotationStorage:Yn,accessibilityManager:zn,l10n:$n})}createXfaLayerBuilder({pageDiv:nn,pdfPage:xn,annotationStorage:_n=(zn=>(zn=this.pdfDocument)==null?void 0:zn.annotationStorage)()}){return new ze.XfaLayerBuilder({pageDiv:nn,pdfPage:xn,annotationStorage:_n,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:nn}){return new Ie.StructTreeLayerBuilder({pdfPage:nn})}get hasEqualPageSizes(){const nn=this._pages[0];for(let xn=1,_n=this._pages.length;xn<_n;++xn){const zn=this._pages[xn];if(zn.width!==nn.width||zn.height!==nn.height)return!1}return!0}getPagesOverview(){return this._pages.map(nn=>{const xn=nn.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,Re.isPortraitOrientation)(xn)?{width:xn.width,height:xn.height,rotation:xn.rotation}:{width:xn.height,height:xn.width,rotation:(xn.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(nn){if(!(nn instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${nn}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=nn;const xn={optionalContentConfigPromise:nn};for(const _n of this._pages)_n.update(xn);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:nn})}get scrollMode(){return this._scrollMode}set scrollMode(nn){if(this._scrollMode!==nn){if(!(0,Re.isValidScrollMode)(nn))throw new Error(`Invalid scroll mode: ${nn}`);this.pagesCount>Qe.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=nn,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:nn}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(nn=null){const xn=this._scrollMode,_n=this.viewer;_n.classList.toggle("scrollHorizontal",xn===Re.ScrollMode.HORIZONTAL),_n.classList.toggle("scrollWrapped",xn===Re.ScrollMode.WRAPPED),!(!this.pdfDocument||!nn)&&(xn===Re.ScrollMode.PAGE?ii(this,hn,$a).call(this):this._previousScrollMode===Re.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(nn,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(nn){if(this._spreadMode!==nn){if(!(0,Re.isValidSpreadMode)(nn))throw new Error(`Invalid spread mode: ${nn}`);this._spreadMode=nn,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:nn}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(nn=null){if(!this.pdfDocument)return;const xn=this.viewer,_n=this._pages;if(this._scrollMode===Re.ScrollMode.PAGE)ii(this,hn,$a).call(this);else if(xn.textContent="",this._spreadMode===Re.SpreadMode.NONE)for(const zn of this._pages)xn.append(zn.div);else{const zn=this._spreadMode-1;let $n=null;for(let Yn=0,jn=_n.length;Yn<jn;++Yn)$n===null?($n=document.createElement("div"),$n.className="spread",xn.append($n)):Yn%2===zn&&($n=$n.cloneNode(!1),xn.append($n)),$n.append(_n[Yn].div)}!nn||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(nn,!0),this.update())}_getPageAdvance(nn,xn=!1){switch(this._scrollMode){case Re.ScrollMode.WRAPPED:{const{views:_n}=this._getVisiblePages(),zn=new Map;for(const{id:$n,y:Yn,percent:jn,widthPercent:Xn}of _n){if(jn===0||Xn<100)continue;let li=zn.get(Yn);li||zn.set(Yn,li||(li=[])),li.push($n)}for(const $n of zn.values()){const Yn=$n.indexOf(nn);if(Yn===-1)continue;const jn=$n.length;if(jn===1)break;if(xn)for(let Xn=Yn-1,li=0;Xn>=li;Xn--){const oi=$n[Xn],Ni=$n[Xn+1]-1;if(oi<Ni)return nn-Ni}else for(let Xn=Yn+1,li=jn;Xn<li;Xn++){const oi=$n[Xn],Ni=$n[Xn-1]+1;if(oi>Ni)return Ni-nn}if(xn){const Xn=$n[0];if(Xn<nn)return nn-Xn+1}else{const Xn=$n[jn-1];if(Xn>nn)return Xn-nn+1}break}break}case Re.ScrollMode.HORIZONTAL:break;case Re.ScrollMode.PAGE:case Re.ScrollMode.VERTICAL:{if(this._spreadMode===Re.SpreadMode.NONE)break;const _n=this._spreadMode-1;if(xn&&nn%2!==_n)break;if(!xn&&nn%2===_n)break;const{views:zn}=this._getVisiblePages(),$n=xn?nn-1:nn+1;for(const{id:Yn,percent:jn,widthPercent:Xn}of zn)if(Yn===$n){if(jn>0&&Xn===100)return 2;break}break}}return 1}nextPage(){const nn=this._currentPageNumber,xn=this.pagesCount;if(nn>=xn)return!1;const _n=this._getPageAdvance(nn,!1)||1;return this.currentPageNumber=Math.min(nn+_n,xn),!0}previousPage(){const nn=this._currentPageNumber;if(nn<=1)return!1;const xn=this._getPageAdvance(nn,!0)||1;return this.currentPageNumber=Math.max(nn-xn,1),!0}increaseScale(nn=1){let xn=this._currentScale;do xn=(xn*Re.DEFAULT_SCALE_DELTA).toFixed(2),xn=Math.ceil(xn*10)/10,xn=Math.min(Re.MAX_SCALE,xn);while(--nn>0&&xn<Re.MAX_SCALE);this.currentScaleValue=xn}decreaseScale(nn=1){let xn=this._currentScale;do xn=(xn/Re.DEFAULT_SCALE_DELTA).toFixed(2),xn=Math.floor(xn*10)/10,xn=Math.max(Re.MIN_SCALE,xn);while(--nn>0&&xn>Re.MIN_SCALE);this.currentScaleValue=xn}updateContainerHeightCss(){const nn=this.container.clientHeight;nn!==Nn(this,Hn)&&(bi(this,Hn,nn),Re.docStyle.setProperty("--viewer-container-height",`${nn}px`))}get annotationEditorMode(){return Nn(this,vn)?Nn(this,gn):Ce.AnnotationEditorType.DISABLE}set annotationEditorMode(nn){if(!Nn(this,vn))throw new Error("The AnnotationEditor is not enabled.");if(Nn(this,gn)!==nn){if(!Je(nn))throw new Error(`Invalid AnnotationEditor mode: ${nn}`);!this.pdfDocument||(bi(this,gn,nn),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:nn}),Nn(this,vn).updateMode(nn))}}set annotationEditorParams({type:nn,value:xn}){if(!Nn(this,vn))throw new Error("The AnnotationEditor is not enabled.");Nn(this,vn).updateParams(nn,xn)}refresh(){if(!this.pdfDocument)return;const nn={};for(const xn of this._pages)xn.update(nn);this.update()}}fn=new WeakMap,gn=new WeakMap,vn=new WeakMap,pn=new WeakMap,On=new WeakMap,Hn=new WeakMap,Bn=new WeakMap,Ze=new WeakMap,Xe=new WeakSet,Cu=function(nn){const xn={annotationEditorMode:Nn(this,gn),annotationMode:Nn(this,pn),textLayerMode:this.textLayerMode};return nn&&(nn.includes(Ce.PermissionFlag.COPY)||this.viewer.classList.add(He),nn.includes(Ce.PermissionFlag.MODIFY_CONTENTS)||(xn.annotationEditorMode=Ce.AnnotationEditorType.DISABLE),!nn.includes(Ce.PermissionFlag.MODIFY_ANNOTATIONS)&&!nn.includes(Ce.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Nn(this,pn)===Ce.AnnotationMode.ENABLE_FORMS&&(xn.annotationMode=Ce.AnnotationMode.ENABLE)),xn},en=new WeakSet,Lu=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const nn=new Promise(xn=>{bi(this,Ze,()=>{document.visibilityState==="hidden"&&(xn(),document.removeEventListener("visibilitychange",Nn(this,Ze)),bi(this,Ze,null))}),document.addEventListener("visibilitychange",Nn(this,Ze))});return Promise.race([this._onePageRenderedCapability.promise,nn])},hn=new WeakSet,$a=function(){if(this._scrollMode!==Re.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const nn=this._currentPageNumber,xn=Nn(this,Bn),_n=this.viewer;if(_n.textContent="",xn.pages.length=0,this._spreadMode===Re.SpreadMode.NONE&&!this.isInPresentationMode){const zn=this._pages[nn-1];_n.append(zn.div),xn.pages.push(zn)}else{const zn=new Set,$n=this._spreadMode-1;$n===-1?zn.add(nn-1):nn%2!==$n?(zn.add(nn-1),zn.add(nn)):(zn.add(nn-2),zn.add(nn-1));const Yn=document.createElement("div");if(Yn.className="spread",this.isInPresentationMode){const jn=document.createElement("div");jn.className="dummyPage",Yn.append(jn)}for(const jn of zn){const Xn=this._pages[jn];!Xn||(Yn.append(Xn.div),xn.pages.push(Xn))}_n.append(Yn)}xn.scrollDown=nn>=xn.previousPageNumber,xn.previousPageNumber=nn},Ln=new WeakSet,Ho=function(nn,xn=null){const{div:_n,id:zn}=nn;if(this._scrollMode===Re.ScrollMode.PAGE&&(this._setCurrentPageNumber(zn),ii(this,hn,$a).call(this),this.update()),!xn&&!this.isInPresentationMode){const $n=_n.offsetLeft+_n.clientLeft,Yn=$n+_n.clientWidth,{scrollLeft:jn,clientWidth:Xn}=this.container;(this._scrollMode===Re.ScrollMode.HORIZONTAL||$n<jn||Yn>jn+Xn)&&(xn={left:0,top:0})}(0,Re.scrollIntoView)(_n,xn)},Wn=new WeakSet,Nu=function(nn){return nn===this._currentScale||Math.abs(nn-this._currentScale)<1e-15},mn=new WeakSet,hc=function(){const nn=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ii(this,Ln,Ho).call(this,nn)},tn=new WeakSet,Tu=async function(nn){var xn,_n;if(nn.pdfPage)return nn.pdfPage;try{const zn=await this.pdfDocument.getPage(nn.id);return nn.pdfPage||nn.setPdfPage(zn),(_n=(xn=this.linkService)._cachedPageNumber)!=null&&_n.call(xn,zn.ref)||this.linkService.cachePageRef(nn.id,zn.ref),zn}catch(zn){return console.error("Unable to get page for page view",zn),null}},yn=new WeakSet,ku=function(nn){var xn,_n;if(((xn=nn.first)==null?void 0:xn.id)===1)return!0;if(((_n=nn.last)==null?void 0:_n.id)===this.pagesCount)return!1;switch(this._scrollMode){case Re.ScrollMode.PAGE:return Nn(this,Bn).scrollDown;case Re.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},cn=new WeakSet,Ru=function(nn){for(const xn of nn){const _n=this._pages[xn-1];_n==null||_n.toggleLoadingIconSpinner(!0)}for(const xn of Nn(this,fn))nn.has(xn.id)||xn.toggleLoadingIconSpinner(!1)},xe.PDFViewer=an},(Ee,xe,Te)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.PDFRenderingQueue=void 0;var Ce=Te(3),Re=Te(7);const Ue=3e4;class De{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(Me){this.pdfViewer=Me}setThumbnailViewer(Me){this.pdfThumbnailViewer=Me}isHighestPriority(Me){return this.highestPriorityPage===Me.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(Me){var Oe;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(Me)&&(this.isThumbnailViewEnabled&&((Oe=this.pdfThumbnailViewer)==null?void 0:Oe.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Ue)))}getHighestPriority(Me,Oe,Be,Ie=!1){const qe=Me.views,je=qe.length;if(je===0)return null;for(let Je=0;Je<je;Je++){const dn=qe[Je].view;if(!this.isViewFinished(dn))return dn}const ze=Me.first.id,Ve=Me.last.id;if(Ve-ze+1>je){const Je=Me.ids;for(let dn=1,an=Ve-ze;dn<an;dn++){const Ke=Be?ze+dn:Ve-dn;if(Je.has(Ke))continue;const rn=Oe[Ke-1];if(!this.isViewFinished(rn))return rn}}let He=Be?Ve:ze-2,Qe=Oe[He];return Qe&&!this.isViewFinished(Qe)||Ie&&(He+=Be?1:-1,Qe=Oe[He],Qe&&!this.isViewFinished(Qe))?Qe:null}isViewFinished(Me){return Me.renderingState===Re.RenderingStates.FINISHED}renderView(Me){switch(Me.renderingState){case Re.RenderingStates.FINISHED:return!1;case Re.RenderingStates.PAUSED:this.highestPriorityPage=Me.renderingId,Me.resume();break;case Re.RenderingStates.RUNNING:this.highestPriorityPage=Me.renderingId;break;case Re.RenderingStates.INITIAL:this.highestPriorityPage=Me.renderingId,Me.draw().finally(()=>{this.renderHighestPriority()}).catch(Oe=>{Oe instanceof Ce.RenderingCancelledException||console.error(`renderView: "${Oe}"`)});break}return!0}}xe.PDFRenderingQueue=De},(Ee,xe)=>{Object.defineProperty(xe,"__esModule",{value:!0}),xe.TextHighlighter=void 0;class Te{constructor({findController:Re,eventBus:Ue,pageIndex:De}){this.findController=Re,this.matches=[],this.eventBus=Ue,this.pageIdx=De,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(Re,Ue){this.textDivs=Re,this.textContentItemsStr=Ue}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=Re=>{(Re.pageIndex===this.pageIdx||Re.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(Re,Ue){if(!Re)return[];const{textContentItemsStr:De}=this;let ke=0,Me=0;const Oe=De.length-1,Be=[];for(let Ie=0,qe=Re.length;Ie<qe;Ie++){let je=Re[Ie];for(;ke!==Oe&&je>=Me+De[ke].length;)Me+=De[ke].length,ke++;ke===De.length&&console.error("Could not find a matching mapping");const ze={begin:{divIdx:ke,offset:je-Me}};for(je+=Ue[Ie];ke!==Oe&&je>Me+De[ke].length;)Me+=De[ke].length,ke++;ze.end={divIdx:ke,offset:je-Me},Be.push(ze)}return Be}_renderMatches(Re){if(Re.length===0)return;const{findController:Ue,pageIdx:De}=this,{textContentItemsStr:ke,textDivs:Me}=this,Oe=De===Ue.selected.pageIdx,Be=Ue.selected.matchIdx,Ie=Ue.state.highlightAll;let qe=null;const je={divIdx:-1,offset:void 0};function ze(Je,dn){const an=Je.divIdx;return Me[an].textContent="",Ve(an,0,Je.offset,dn)}function Ve(Je,dn,an,Ke){let rn=Me[Je];if(rn.nodeType===Node.TEXT_NODE){const fn=document.createElement("span");rn.before(fn),fn.append(rn),Me[Je]=fn,rn=fn}const Cn=ke[Je].substring(dn,an),Sn=document.createTextNode(Cn);if(Ke){const fn=document.createElement("span");return fn.className=`${Ke} appended`,fn.append(Sn),rn.append(fn),Ke.includes("selected")?fn.offsetLeft:0}return rn.append(Sn),0}let He=Be,Qe=He+1;if(Ie)He=0,Qe=Re.length;else if(!Oe)return;for(let Je=He;Je<Qe;Je++){const dn=Re[Je],an=dn.begin,Ke=dn.end,rn=Oe&&Je===Be,Cn=rn?" selected":"";let Sn=0;if(!qe||an.divIdx!==qe.divIdx?(qe!==null&&Ve(qe.divIdx,qe.offset,je.offset),ze(an)):Ve(qe.divIdx,qe.offset,an.offset),an.divIdx===Ke.divIdx)Sn=Ve(an.divIdx,an.offset,Ke.offset,"highlight"+Cn);else{Sn=Ve(an.divIdx,an.offset,je.offset,"highlight begin"+Cn);for(let fn=an.divIdx+1,gn=Ke.divIdx;fn<gn;fn++)Me[fn].className="highlight middle"+Cn;ze(Ke,"highlight end"+Cn)}qe=Ke,rn&&Ue.scrollMatchIntoView({element:Me[an.divIdx],selectedLeft:Sn,pageIndex:De,matchIndex:Be})}qe&&Ve(qe.divIdx,qe.offset,je.offset)}_updateMatches(){if(!this.enabled)return;const{findController:Re,matches:Ue,pageIdx:De}=this,{textContentItemsStr:ke,textDivs:Me}=this;let Oe=-1;for(const qe of Ue){const je=Math.max(Oe,qe.begin.divIdx);for(let ze=je,Ve=qe.end.divIdx;ze<=Ve;ze++){const He=Me[ze];He.textContent=ke[ze],He.className=""}Oe=qe.end.divIdx+1}if(!(Re!=null&&Re.highlightMatches))return;const Be=Re.pageMatches[De]||null,Ie=Re.pageMatchesLength[De]||null;this.matches=this._convertMatches(Be,Ie),this._renderMatches(this.matches)}}xe.TextHighlighter=Te}],_e={};function Ae(Ee){var xe=_e[Ee];if(xe!==void 0)return xe.exports;var Te=_e[Ee]={exports:{}};return r[Ee](Te,Te.exports,Ae),Te.exports}var Se={};return(()=>{var Ee=Se;Object.defineProperty(Ee,"__esModule",{value:!0}),Object.defineProperty(Ee,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return Re.AnnotationLayerBuilder}}),Object.defineProperty(Ee,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return xe.DefaultAnnotationLayerFactory}}),Object.defineProperty(Ee,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return xe.DefaultStructTreeLayerFactory}}),Object.defineProperty(Ee,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return xe.DefaultTextLayerFactory}}),Object.defineProperty(Ee,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return xe.DefaultXfaLayerFactory}}),Object.defineProperty(Ee,"DownloadManager",{enumerable:!0,get:function(){return Ue.DownloadManager}}),Object.defineProperty(Ee,"EventBus",{enumerable:!0,get:function(){return De.EventBus}}),Object.defineProperty(Ee,"GenericL10n",{enumerable:!0,get:function(){return ke.GenericL10n}}),Object.defineProperty(Ee,"LinkTarget",{enumerable:!0,get:function(){return Te.LinkTarget}}),Object.defineProperty(Ee,"NullL10n",{enumerable:!0,get:function(){return Me.NullL10n}}),Object.defineProperty(Ee,"PDFFindController",{enumerable:!0,get:function(){return Oe.PDFFindController}}),Object.defineProperty(Ee,"PDFHistory",{enumerable:!0,get:function(){return Be.PDFHistory}}),Object.defineProperty(Ee,"PDFLinkService",{enumerable:!0,get:function(){return Te.PDFLinkService}}),Object.defineProperty(Ee,"PDFPageView",{enumerable:!0,get:function(){return Ie.PDFPageView}}),Object.defineProperty(Ee,"PDFScriptingManager",{enumerable:!0,get:function(){return qe.PDFScriptingManager}}),Object.defineProperty(Ee,"PDFSinglePageViewer",{enumerable:!0,get:function(){return je.PDFSinglePageViewer}}),Object.defineProperty(Ee,"PDFViewer",{enumerable:!0,get:function(){return ze.PDFViewer}}),Object.defineProperty(Ee,"ProgressBar",{enumerable:!0,get:function(){return Ce.ProgressBar}}),Object.defineProperty(Ee,"RenderingStates",{enumerable:!0,get:function(){return Ce.RenderingStates}}),Object.defineProperty(Ee,"ScrollMode",{enumerable:!0,get:function(){return Ce.ScrollMode}}),Object.defineProperty(Ee,"SimpleLinkService",{enumerable:!0,get:function(){return Te.SimpleLinkService}}),Object.defineProperty(Ee,"SpreadMode",{enumerable:!0,get:function(){return Ce.SpreadMode}}),Object.defineProperty(Ee,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return Ve.StructTreeLayerBuilder}}),Object.defineProperty(Ee,"TextLayerBuilder",{enumerable:!0,get:function(){return He.TextLayerBuilder}}),Object.defineProperty(Ee,"XfaLayerBuilder",{enumerable:!0,get:function(){return Qe.XfaLayerBuilder}}),Object.defineProperty(Ee,"parseQueryString",{enumerable:!0,get:function(){return Ce.parseQueryString}});var xe=Ae(1),Te=Ae(6),Ce=Ae(7),Re=Ae(5),Ue=Ae(11),De=Ae(12),ke=Ae(13),Me=Ae(4),Oe=Ae(15),Be=Ae(17),Ie=Ae(18),qe=Ae(21),je=Ae(23),ze=Ae(24),Ve=Ae(8),He=Ae(9),Qe=Ae(10)})(),Se})())})(pdf_viewer);const pdfview_vue_vue_type_style_index_0_scope_true_lang="",_sfc_main$3={data(){return{imgUrl:"",nowComponent:""}},components:{},methods:{getUrl(){var e=localStorage.getItem("file");this.imgUrl="data:image/png;base64,"+e},async pdfInit(){var e="/cdn.mozilla.net/pdfjs/helloworld.pdf";PDFJS.workerSrc="//mozilla.github.io/pdf.js/build/pdf.worker.js";var t=await PDFJS.getDocument(e);t.promise.then(function(r){console.log("pdf \u8F09\u5165\u4E2D");var _e=1;r.getPage(_e).then(function(Ae){console.log("page \u8F09\u5165\u5B8C\u6210");var Se=1.5,Ee=Ae.getViewport(Se),xe=document.getElementById("mypdf"),Te=xe.getContext("2d");xe.height=Ee.height,xe.width=Ee.width;var Ce={canvasContext:Te,viewport:Ee},Re=Ae.render(Ce);Re.then(function(){console.log("\u9801\u9762\u5DF2\u6E32\u67D3")})})},function(r){console.error(r)})}},mounted(){}},_hoisted_1$2={id:"mypdf"};function _sfc_render$3(e,t,r,_e,Ae,Se){return openBlock(),createElementBlock("div",_hoisted_1$2,"This is pdf view.")}const pdfview=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),pdfview$1=Object.freeze(Object.defineProperty({__proto__:null,default:pdfview},Symbol.toStringTag,{value:"Module"})),_imports_0="/assets/icon_arrows_left_n.2d541e66.svg",_imports_1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAAA8CAYAAAB//XTwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZQSURBVHgB7ZxPTFxFHMd/tLTYFi02QCQFhdAeBEmFSGMTTfdijDViPHDSpE281R7l5KG7V+vR9GasiafixRqb6AkOhgYa0VSwEQirYIossYCsQMHifOYx22VZ6L5lWKZlPsm67Hu7M/vmO7+/b23RyspKVEQuiscVYnvE4xxeFAfxojiIF8VBvCgO4kVxEC+Kg3hRHMSL4iBeFAfxojiIF8VBvCgO4kVxEC+Kg3hRHKRYLLK8+K8khnv130/XNMoTT1VIvpixiksOScWxVtlNWBNlYTYh/Z1R/Wx4/vXz8kxDRMIyMdglv353OfUacZvbo1sS+VHCmiijPZ3qv0Vq8S7q3c2iDnV9IWXVjfp1riwvJtXnrkhpRa00tX2oRb517ZIej7F3A9ZEmR4fUAtZp0WA2pfb5ZdvLsnojc5QO3xhJqFd1/HIWfW5Sv0orz+px98tWBOFxVuYndQLWlxyUJJTcX28quF0KEu5l5zW7isxfFMLzHgIUlxSKrsFa6LUtJzRbqbvyw4twlwiLtXNZ1KWkzPKqIhD4/3f6jHmEqNamKa2c7Jb2BuNRiPqOSJb5OCRoyrjapDZiWFZuf+fHD3xmtS/8q7kA9nWgcMV8nf8ZykpLZeGNy7IkdoXJSzj/dclefdPOaCseE/xvjXniFv3l5fkkPreuY41MzEke4v3y/5DZbKNdFtNibGKZ1vf1sG5RllJLuCa5lUcyUyhsZYlZSEcC21tEmSDLLyeo2Ewdby8vlW7VhZ5YrBbpkYepNtYOLEsEyzWjNXU1qFi53Opc8Zd28SqKGEhoyJ+GF54q8NaTUJ6DmRxUyO9OgkB5psa6dMC8OC1+TtbQsJ5IwjgojNhAx2PnLMmzo6JYgThgohHvI6rTM2GKIyFpTB2WXWD3P7+srYQxmaBsTwsgl2OeAiXmW5zbrTnqrYo4D2ZCYuJd8xl01p2RBQjCBeJ+6o71a536cLslNigqvG0Xih2r8iKmiOiXVD8xlW9iKTYzM1Ck4zMJX5f44buDHTJcPcVfQx4L24r3ZKCAndAn6NItknBe19GEOqY1vc+FgrOns8+0C6lvP4lsQGWwM5fXpyTsR+va/fFnLgwhEIg5uS78F4WPH2nY1FBfdSqrY2CFotKDPfp81iP6TggiO1OQ0EtJV0QrAMQgovk4s2xrcJ4iEHdBCww4rN4/0zG1XO5Fmx6fDAV07Aa49bY/bR1jFBkgnQsKIZ5H6ICgiCcbQomCr48UxBiiBHEpgtgoRAF12Ri1J2B7tR5RAqs5qx2n5zTGWPLg4wx3XKqm9/UVhLUTXH9eVpACLQdFEQULjjTGhCE3WdbEMAiTr3/qXJRF5TrurnmHHMZ14PLNODu0t0Q8YRAjmC4PxNfAMHo66WDW0xPlbdCQUS5Oxb0rQohSDq4L6yGBwIYEThuMrP04wZEyxQiHeO+0sEd2qIgolCk4afJavDjuIztFsSAlTJn+i2F4PikOi7rjgPZG0IFvbekFgFLylbE9nfGrDdLCyIKF8YDC+HC8r3PEhbmYEFZNOYlBuCiOB6IFXS2M2sQ3vvq+c/131hNNsvYTgoiCiknLqzi2EnrLYnNME1SBGD3m51u4gqi1KggXt2SW0uoUFgVhYv8o/dr7V9Z/KpVa2B3VjVGQo1FzMGF0Ejcp8YK0//CNRGgsUxjAbgZMj+yMTM2DKkicUx1pBnfFLHZ4POFwpoopIzk8aZSvs1OHBvMK26QPpOtMc695IxekDB9MdJhPm9cJWAZuNBb1z7RoiEQG4WNNNrzlU7Xg5Q4uyhBF2C9lW+WEORLka3/O5j7KMuL87pKD1LGYGFPvPORanUfznmcJbVwP63uanZuUE3HVgu63L+miSOZmMCeaRHEjWx1B0nC/Mzkhj8Eedj5PIhZsxR2S3A/PthN7GpE+eu3H0LfDoYnK2v1s+nehg22G7m7jb7LRoUgaTOPjefZ/Hw+WL0djJ9mh3LhFFcsaJ3a8WF/OIFLwO8zjklJ87mn8qhizX0FPzGKpfpNYO8nRpXrKu7HmFiR7X9xAmtZWkhuOf1FZNMJKHQqvcPErNcptrqm+aTRjwv+t8QO4kVxEC+Kg3hRHMSL4iBeFAfxojiIF8VBvCgO4kVxEC+Kg3hRHMSL4iBeFAfxojiIF8VB/gcNSTkaPl7/bQAAAABJRU5ErkJggg==",_imports_2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAAA8CAYAAAB//XTwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATASURBVHgB7ZtBTBNLGMc/Sl99aY0PePYFHxA0glGJiZho5CQXNdEznkw08aTx7FU4e/Ci3kw08cbRaKIexJNGjBgjaERiDajEoiBKRajF+c8ym1oo7G6n9jP7/ZINY7es7fz2++abmaVqYWGhm4jOksCFnggJ7BApDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDIlSGcl+z6hjRh9eiFTHKBL9i6JrEuqIU1ixLiWXnafP4y9penxYt4MCMWuTzfRP/RYtKkxYlYKIeD90T//8e12S4nX/05p4re5gL+R+zGmR3zOTNDudpqmxIfqafkMbtneGKnKsSvn45onuWHQipPjH6Xj8LiJkLjOlJPdReuShvmZYsDbQ487OfHpHdc07AwpZSixeQ+vqW/W1cYQFa1K+TX/QPxO1DWQTRAyY+fSWwoLVSIklaqwPyrgerpud81bB2eJrOkXvB/t0BQkmRvop/aqffgdWx5RItXch+ILJlt2e3huNxd3O8cPzW5c8v7e18/gvxQQ+X+pBL9U2tenXh/uu6NfxmUcHbtLY45tLrtG46xA1tR+iUrEmBZ3mdSyZGhukZ9fPUXvXWappbFv1/ZFojHKZz+SXcVUkeGVTR5cr5fX9Xh0ZYLjvqn7dmWtVadH4nrMqXTvzqYQ7F8vO2onmsk4eubD1wKmi517cXhpNTime0u0JVfnlA9Eb93bpdsu+Y7ShrVOnueWuE5RQSEHHFWO5zkQEI1qQvtBGZAz09uhzHScu6nPAmUsNugJtEQoppWBkgML0DGmpB2SdikoJMngHAXdzUFAAVKtC49W9K0vO1asJbU3jdp3u/Ixfq1ERKWuTG9Vd95+uaJy2nclmMfLvdr9Mjg4VXeJBJbZ+s1NB/vFSULEgV6OzBnq7Vbu7rGLqV1iiWa0zzXiBqC5cwxt9fEOXzrOLE2dbVCx9QUK+mN1Hz5Vt0XHbweLV13JS0Mlmu2HbwZO/DPT5ApC2iIbINhUdU4wYVDOcVoHvXz7ttgtTH/5t5lamMpsYeeROLm1Q8eoLX2qlO7kSmHSHktekVaQxjH9IYSalGTkoBGxiTQrWqLBsXw6QSkqJJL8DPW6SMbWUgtTWqJZNIANtDOqY+d89f0S9tonKhTUpQdenvJD7Me9rXa0QvyUxIgHpCBVi067DOlrG1eYd5iUmSrArivaXD6nFscUe9qSosM5MvtM7hzZXinG9uZkpPR8ISseJC0XP5Y8fBiybgNbOY276QvSYogDrYo6s9dR/7Yz7e14XWFejytZfByP/YpcQnVfrYZHRK7gb06oTguxmmghZadHTVFOIisL/F2lrOZzy2EmnEDSvFiKTLXtsFSs91iIFHYYDD0wk6hr0rmGpQDS2mLHXH2Qe42UFulCGoZgQkN/5ZvJoE6vVV1J9QDw48fbpHbcj8eAE0hkeH/ICBnU8OIGtZUhBWvy3uZ3ChFUp6MCGHft1tHxR4Y+ODQpEIg1ij14eMSoRdCDGFRzO5k9GV0+5rLdy2WwcycN45br4YgcL/pBniRkiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhjyExG/4OqwrkDSAAAAAElFTkSuQmCC",_imports_3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAAA8CAYAAAB//XTwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU6SURBVHgB7ZpNbBNHFMcfxjjBDsFJ48hpEiVVmqp1FKlBTVVOuIe2Eki5padKReqp9FroseHansutUitxS0+VqFS4JKcgIhEESkAERBCBWDGQDxIDJjjM/y0b+WPXWdtjM+D3k1aOvdn1en4z772d2T3b29tjRPQrCaZw2keCcYgUAxEpBiJSDESkGIhIMRCRYiAixUBEioGIFAMRKQYiUgxEpBiISDEQkWIgIsVA/FRFtp6n1LbJmxd8ewPk8+8jf0NIbUGqV7RLyWy9oLXETVpPzPPf5QIxTZEeOhj9iEXVE1qlYEQszU3ya2NzhIKt71NDsIUb2AuZl2kW+Ty1Qs/Wk7S6OEcbybvUEYvX1cjRKuXR3SvcsGhESCkdq+FxLEZIOrWqJE9Q8vYlPme9oC3Ro2enHj+g1p5PyxRSSCAYpuZoP58bW72gTcrT9WV+DbV0kk4wYsDm4/tUL2gLX+jJgVDYMSmjCkMY2lhecD0+3B2jSN/nBbkD58N5t9LeKrhirC7O0sq9OWpR3xXuGqBSwfHJW9P0weFvq5rjtOYU317nKml+4i9KKCmNze383i6T7fcA+xNdkzQ0WvgImj8QZLGVggZdnPlPNe6A+p7SpSzNTvJ14lo++eYEVQttUnChbrkEPaxNjYLBkZ933s+Mn1Y/7MedHnv9/zP8uRM+f4AyqTWqlMiHwyxlI7nA1+vW25dmJ+jG+TOu5+EOpLZ8Pv76BHUMxKlSqnrzmPNFNSxpr/37O5fS7tcSoumzpwo+D3fFckYARrKXosUqRJZJFzWR4uUOHfv9DU2kA4yCYo3ktu/Zeq6AaOyIyh+jtBsY5Ym5t0zK0OjYrlL648e15A3r+6y8hLw19edP6q89dPiHPwquAfvQy7Eve0TsPxhRQuJ0oL2Xw6xbWAW9X4xy4WAfp4MajRRvoUt3iMMIReMij9y7fC6n1yNvQAhyWn6Iwmd2rkNxkF2QgPyRhu+Iary5rVlOeVN0HzrGSRlikIQhADIWLo7z/o6BI0WPz6+ycB5UkxDeH/9eqwybd37qHhIgBqEMBQC4MzXOYkrt4TgOQpoivTT83W9VEQLe+ZECuoaOchhCKYyqC68ISW5JHI1vjyQncLyVq3JBfvFSGOxGXUhBqBkcOamEnOQGBRDlVu4iYTvd8dulr1up/FYl+jcNGhNla3Z1tzhzjvyNQcfZZ7ewZo8gr6VyuWiTgjkqTNu7gZg+ffaXnM8Q4+17k2I/FMeWU5mhlLWnRgB6OJLz/MTf3ONv4P5C7Y+qZG/S0oA2KV7mp9r6Psv6n1jOvmJDP/Pyheu8mhPo0Qm12GaXrghf3YeOqpB1jOW29Q1zj4cwiMN2SyXwaOxLlpYNwh3yEXh4e5pqgT4p6oenVh7wyqHTTLFVQh6nUsH50purPAXilX0qLEFIvoxskJQRoiDkztQ//P8H2nsKzoVKa2Z8bKcz4ZyYQ6sm2qSEWjt5XR7r8y1lTIu7kVqx1lH2593AFQMSkKjRoMVAsrbzh53AnRgcOUVP15aV7BCft9rzeNqk4AdigxgIwqphpSBBY4kZa/2lrmbuJiSfxiLSMUpLGamVorX6iqhYjQcn7l+9sNOQeHAC4QyPD3kBSR0PTmBpGVIQLt7rGaJ6QqsUNGDn4Fc8Wp6oBImGLReIRBjEGr08YlQhaEB7uFsrjCmunjJbaU/HW9P88jBe9U7+uoGF0pBniQ1EpBiISDEQkWIgIsVARIqBiBQDESkGIlIMRKQYiEgxEJFiICLFQESKgYgUAxEpBvIKYokRfcH/ZV4AAAAASUVORK5CYII=",_imports_4="/assets/icon_arrows_right_n.cba8e737.svg",Header_vue_vue_type_style_index_0_scoped_e9741c45_lang="";var canvas$1=null;const _sfc_main$2={components:{SelectSign},setup(e,t){const r=ref(!1),_e=ref("");return{isSelectSign:r,closeWarning:xe=>{r.value=xe},selectedSign:xe=>{fabric.Image.fromURL(xe,Te=>{Te.top=100,Te.left=100,Te.scaleX=.5,Te.scaleY=.5,canvas$1.add(Te)})},signUrl:_e,nextStep:function(){t.emit("nextStep")}}}},_withScopeId$1=e=>(pushScopeId("data-v-e9741c45"),e=e(),popScopeId(),e),_hoisted_1$1={class:"container_tab flex justify-between items-center px-1"},_hoisted_2$1=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_0,alt:"previcon"},null,-1)),_hoisted_3$1={class:"flex justify-between"},_hoisted_4$1=_withScopeId$1(()=>createBaseVNode("a",{class:"dateBtn flex flex-col items-center w-20 py-4 cursor-pointer"},[createBaseVNode("img",{src:_imports_2})],-1)),_hoisted_5$1=_withScopeId$1(()=>createBaseVNode("a",{class:"textBtn flex flex-col items-center w-20 py-4 cursor-pointer"},[createBaseVNode("img",{src:_imports_3})],-1)),_hoisted_6$1=_withScopeId$1(()=>createBaseVNode("img",{src:_imports_4,alt:"nexticon"},null,-1));function _sfc_render$2(e,t,r,_e,Ae,Se){const Ee=resolveComponent("SelectSign");return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("a",{onClick:t[0]||(t[0]=(...xe)=>e.prevPage&&e.prevPage(...xe)),class:"btn prevBtn flex items-center w-20 py-4 ml-4 cursor-pointer"},[_hoisted_2$1,createTextVNode(" Previous ")]),_e.isSelectSign?(openBlock(),createBlock(Ee,{key:0,onCloseWarning:_e.closeWarning,onSelectedSign:_e.selectedSign},null,8,["onCloseWarning","onSelectedSign"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("a",{class:"signBtn flex flex-col items-center w-20 py-4 cursor-pointer",onClick:t[2]||(t[2]=xe=>_e.isSelectSign=!0)},[createBaseVNode("img",{src:_imports_1,onClick:t[1]||(t[1]=(...xe)=>e.signModal&&e.signModal(...xe))})]),_hoisted_4$1,_hoisted_5$1]),createBaseVNode("div",{onClick:t[3]||(t[3]=(...xe)=>_e.nextStep&&_e.nextStep(...xe)),class:"btn nextBtn flex items-center w-20 py-4 cursor-not-allowed"},[createTextVNode(" Next"),_hoisted_6$1])])}const Header=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-e9741c45"]]),FileUpload_vue_vue_type_style_index_0_scoped_9dec1cf7_lang="";var canvas=null;const _sfc_main$1={components:{FileReview,ProgressLine,pdfview,Header},data(){return{filename:"",status:"",nextPage:"",arrStatus:[1,2,2],step:1,pageCount:1,fileExist:!1}},methods:{uploadFile(e){this.status=this.$refs["upload-file"].files.length||e.length,console.log(this.status);var t;this.status==1?(e?(this.filename=e[0].name,t=e[0]):(this.filename=this.$refs["upload-file"].files[0].name,t=this.$refs["upload-file"].files[0],bus.emit("fileUpload",this.$refs["upload-file"].files[0])),console.log(this.filename),this.pdfInit(t),this.fileExist=!0,this.step=2):(this.step=1,this.fileExist=!0)},pdfInit(e){const t="data:application/pdf;base64,";pdfjsLib.GlobalWorkerOptions.workerSrc="https://mozilla.github.io/pdf.js/build/pdf.worker.js";const r=Ee=>new Promise((xe,Te)=>{const Ce=new FileReader;Ce.addEventListener("load",()=>xe(Ce.result)),Ce.addEventListener("error",Te),Ce.readAsDataURL(Ee)}),_e=async(Ee,xe)=>{Ee=await r(Ee),localStorage.setItem("pdfData",JSON.stringify(Ee));const Te=atob(Ee.substring(t.length)),Ce=await pdfjsLib.getDocument({data:Te}).promise,Re=await Ce.getPage(xe!=null?xe:1);this.pageCount=Ce.numPages;const Ue=Re.getViewport({scale:1}),De=document.createElement("canvas"),ke=De.getContext("2d");De.height=Ue.height,De.width=Ue.width;const Me={canvasContext:ke,viewport:Ue};return Re.render(Me).promise.then(()=>De)},Ae=async Ee=>new fabric.Image(Ee,{scaleX:1,scaleY:1});canvas=new fabric.Canvas("canvas"),(async Ee=>{canvas.requestRenderAll();const xe=await _e(e,Ee),Te=await Ae(xe);canvas.setWidth(Te.width),canvas.setHeight(Te.height),canvas.setBackgroundImage(Te,canvas.renderAll.bind(canvas))})(1)},nextStep(){window.localStorage.getItem("pdfData")&&this.fileExist?this.nextPage=1:alert("\u8ACB\u5148\u4E0A\u50B3\u6A94\u6848")},prevPage(){console.log("\u4E0A\u4E00\u9801"),this.nextPage=""},dragleave(e){console.log("\u62D6\u51FA"),e.preventDefault()},ondragenter(e){e.preventDefault(),console.log("\u62D6\u5165")},ondragover(e){console.log("\u6B63\u5728\u62D6"),e.preventDefault()},ondrop(e){console.log("\u62D6\u66F3\u7D50\u675F"),e.preventDefault();const t=e.dataTransfer.files;if(!(t.length<1)){if(t.size>=2e6){alert("\u4E0D\u53EF\u8D85\u904E2mb");return}this.uploadFile(t)}}},create(){this.status=""}},_withScopeId=e=>(pushScopeId("data-v-9dec1cf7"),e=e(),popScopeId(),e),_hoisted_1={class:"container_sign"},_hoisted_2={class:"flex justify-center pt-10 pb-10"},_hoisted_3={key:0,class:"mb-2 upload mt-1"},_hoisted_4={key:1,class:"mb-2 reupload mt-1"},_hoisted_5={key:2,class:"mb-2 font-bold"},_hoisted_6=_withScopeId(()=>createBaseVNode("div",{class:"font-bold"},"\u6A94\u6848\u9650\u5236\u683C\u5F0F\uFF1Apdf\uFF0C\u5927\u5C0F200mb\u4EE5\u4E0B",-1)),_hoisted_7=_withScopeId(()=>createBaseVNode("p",{class:"text-left file_title"},"\u6587\u4EF6\u547D\u540D",-1));function _sfc_render$1(e,t,r,_e,Ae,Se){const Ee=resolveComponent("Header"),xe=resolveComponent("ProgressLine"),Te=resolveComponent("FileReview");return openBlock(),createElementBlock("div",null,[createVNode(Ee,{onNextStep:Se.nextStep,onPrevPage:Se.prevPage},null,8,["onNextStep","onPrevPage"]),createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(xe,{arrStatus:Ae.arrStatus},null,8,["arrStatus"])]),createBaseVNode("div",{class:normalizeClass([Ae.nextPage==""?"":"hidden","flex justify-center"])},[createBaseVNode("div",{class:"upload_content rounded-md flex items-center justify-center my-4 flex flex-col",onDrop:t[3]||(t[3]=(...Ce)=>Se.ondrop&&Se.ondrop(...Ce)),onDragleave:t[4]||(t[4]=(...Ce)=>Se.dragleave&&Se.dragleave(...Ce)),onDragenter:t[5]||(t[5]=(...Ce)=>Se.ondragenter&&Se.ondragenter(...Ce)),onDragover:t[6]||(t[6]=(...Ce)=>Se.ondragover&&Se.ondragover(...Ce))},[createBaseVNode("div",{class:normalizeClass(["border rounded-md border-dashed flex justify-center items-center flex-col",Ae.status==0?"upload_inneer1":"upload_inneer2"])},[createTextVNode(toDisplayString(Ae.status==1?Ae.filename:"")+" ",1),Ae.status==0?(openBlock(),createElementBlock("label",_hoisted_3,[createBaseVNode("input",{class:"form-control hidden",type:"file",ref:"upload-file",accept:"application/pdf",onChange:t[0]||(t[0]=Ce=>Se.uploadFile())},null,544)])):createCommentVNode("",!0),Ae.status==1?(openBlock(),createElementBlock("label",_hoisted_4,[createBaseVNode("input",{class:"form-control hidden",ref:"upload-file",type:"file",accept:"application/pdf",onChange:t[1]||(t[1]=Ce=>Se.uploadFile())},null,544)])):createCommentVNode("",!0),Ae.status==1?(openBlock(),createElementBlock("div",_hoisted_5," \u6216\u76F4\u63A5\u62D6\u653E\u6A94\u6848\u9032\u4F86 ")):createCommentVNode("",!0),_hoisted_6],2),Ae.step==2?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([Ae.nextPage==""?"":"hidden","mt-8 upload_inneer2 border rounded-md border-dashed flex justify-center items-center flex-col"])},[_hoisted_7,withDirectives(createBaseVNode("input",{type:"text",class:"file_name bg-white file_name_input","onUpdate:modelValue":t[2]||(t[2]=Ce=>Ae.filename=Ce)},null,512),[[vModelText,Ae.filename]])],2)):createCommentVNode("",!0)],32)],2),createBaseVNode("div",{class:normalizeClass(Ae.nextPage==""?"hidden":"")},[createVNode(Te)],2)])])}const FileUpload=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-9dec1cf7"]]),FileUpload$1=Object.freeze(Object.defineProperty({__proto__:null,default:FileUpload},Symbol.toStringTag,{value:"Module"})),App_vue_vue_type_style_index_0_lang="",_sfc_main={components:{FileUpload}};function _sfc_render(e,t,r,_e,Ae,Se){const Ee=resolveComponent("FileUpload");return openBlock(),createElementBlock("div",null,[createVNode(Ee)])}const App=_export_sfc(_sfc_main,[["render",_sfc_render]]),App$1=Object.freeze(Object.defineProperty({__proto__:null,default:App},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(e,t){const r={};for(const _e in t){const Ae=t[_e];r[_e]=isArray(Ae)?Ae.map(e):e(Ae)}return r}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,t,r="/"){let _e,Ae={},Se="",Ee="";const xe=t.indexOf("#");let Te=t.indexOf("?");return xe<Te&&xe>=0&&(Te=-1),Te>-1&&(_e=t.slice(0,Te),Se=t.slice(Te+1,xe>-1?xe:t.length),Ae=e(Se)),xe>-1&&(_e=_e||t.slice(0,xe),Ee=t.slice(xe,t.length)),_e=resolveRelativePath(_e!=null?_e:t,r),{fullPath:_e+(Se&&"?")+Se+Ee,path:_e,query:Ae,hash:Ee}}function stringifyURL(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,r){const _e=t.matched.length-1,Ae=r.matched.length-1;return _e>-1&&_e===Ae&&isSameRouteRecord(t.matched[_e],r.matched[Ae])&&isSameRouteLocationParams(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!isSameRouteLocationParamsValue(e[r],t[r]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray(e)?isEquivalentArray(e,t):isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray(t)?e.length===t.length&&e.every((r,_e)=>r===t[_e]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),_e=e.split("/");let Ae=r.length-1,Se,Ee;for(Se=0;Se<_e.length;Se++)if(Ee=_e[Se],Ee!==".")if(Ee==="..")Ae>1&&Ae--;else break;return r.slice(0,Ae).join("/")+"/"+_e.slice(Se-(Se===_e.length?1:0)).join("/")}var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const r=document.documentElement.getBoundingClientRect(),_e=e.getBoundingClientRect();return{behavior:t.behavior,left:_e.left-r.left-(t.left||0),top:_e.top-r.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let t;if("el"in e){const r=e.el,_e=typeof r=="string"&&r.startsWith("#"),Ae=typeof r=="string"?_e?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!Ae)return;t=getElementPosition(Ae,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:r,search:_e,hash:Ae}=t,Se=e.indexOf("#");if(Se>-1){let xe=Ae.includes(e.slice(Se))?e.slice(Se).length:1,Te=Ae.slice(xe);return Te[0]!=="/"&&(Te="/"+Te),stripBase(Te,"")}return stripBase(r,e)+_e+Ae}function useHistoryListeners(e,t,r,_e){let Ae=[],Se=[],Ee=null;const xe=({state:De})=>{const ke=createCurrentLocation(e,location),Me=r.value,Oe=t.value;let Be=0;if(De){if(r.value=ke,t.value=De,Ee&&Ee===Me){Ee=null;return}Be=Oe?De.position-Oe.position:0}else _e(ke);Ae.forEach(Ie=>{Ie(r.value,Me,{delta:Be,type:NavigationType.pop,direction:Be?Be>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function Te(){Ee=r.value}function Ce(De){Ae.push(De);const ke=()=>{const Me=Ae.indexOf(De);Me>-1&&Ae.splice(Me,1)};return Se.push(ke),ke}function Re(){const{history:De}=window;!De.state||De.replaceState(assign({},De.state,{scroll:computeScrollPosition()}),"")}function Ue(){for(const De of Se)De();Se=[],window.removeEventListener("popstate",xe),window.removeEventListener("beforeunload",Re)}return window.addEventListener("popstate",xe),window.addEventListener("beforeunload",Re),{pauseListeners:Te,listen:Ce,destroy:Ue}}function buildState(e,t,r,_e=!1,Ae=!1){return{back:e,current:t,forward:r,replaced:_e,position:window.history.length,scroll:Ae?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:r}=window,_e={value:createCurrentLocation(e,r)},Ae={value:t.state};Ae.value||Se(_e.value,{back:null,current:_e.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function Se(Te,Ce,Re){const Ue=e.indexOf("#"),De=Ue>-1?(r.host&&document.querySelector("base")?e:e.slice(Ue))+Te:createBaseLocation()+e+Te;try{t[Re?"replaceState":"pushState"](Ce,"",De),Ae.value=Ce}catch(ke){console.error(ke),r[Re?"replace":"assign"](De)}}function Ee(Te,Ce){const Re=assign({},t.state,buildState(Ae.value.back,Te,Ae.value.forward,!0),Ce,{position:Ae.value.position});Se(Te,Re,!0),_e.value=Te}function xe(Te,Ce){const Re=assign({},Ae.value,t.state,{forward:Te,scroll:computeScrollPosition()});Se(Re.current,Re,!0);const Ue=assign({},buildState(_e.value,Te,null),{position:Re.position+1},Ce);Se(Te,Ue,!1),_e.value=Te}return{location:_e,state:Ae,push:xe,replace:Ee}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),r=useHistoryListeners(e,t.state,t.location,t.replace);function _e(Se,Ee=!0){Ee||r.pauseListeners(),history.go(Se)}const Ae=assign({location:"",base:e,go:_e,createHref:createHref.bind(null,e)},t,r);return Object.defineProperty(Ae,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(Ae,"state",{enumerable:!0,get:()=>t.state.value}),Ae}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,t){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const r=assign({},BASE_PATH_PARSER_OPTIONS,t),_e=[];let Ae=r.start?"^":"";const Se=[];for(const Ce of e){const Re=Ce.length?[]:[90];r.strict&&!Ce.length&&(Ae+="/");for(let Ue=0;Ue<Ce.length;Ue++){const De=Ce[Ue];let ke=40+(r.sensitive?.25:0);if(De.type===0)Ue||(Ae+="/"),Ae+=De.value.replace(REGEX_CHARS_RE,"\\$&"),ke+=40;else if(De.type===1){const{value:Me,repeatable:Oe,optional:Be,regexp:Ie}=De;Se.push({name:Me,repeatable:Oe,optional:Be});const qe=Ie||BASE_PARAM_PATTERN;if(qe!==BASE_PARAM_PATTERN){ke+=10;try{new RegExp(`(${qe})`)}catch(ze){throw new Error(`Invalid custom RegExp for param "${Me}" (${qe}): `+ze.message)}}let je=Oe?`((?:${qe})(?:/(?:${qe}))*)`:`(${qe})`;Ue||(je=Be&&Ce.length<2?`(?:/${je})`:"/"+je),Be&&(je+="?"),Ae+=je,ke+=20,Be&&(ke+=-8),Oe&&(ke+=-20),qe===".*"&&(ke+=-50)}Re.push(ke)}_e.push(Re)}if(r.strict&&r.end){const Ce=_e.length-1;_e[Ce][_e[Ce].length-1]+=.7000000000000001}r.strict||(Ae+="/?"),r.end?Ae+="$":r.strict&&(Ae+="(?:/|$)");const Ee=new RegExp(Ae,r.sensitive?"":"i");function xe(Ce){const Re=Ce.match(Ee),Ue={};if(!Re)return null;for(let De=1;De<Re.length;De++){const ke=Re[De]||"",Me=Se[De-1];Ue[Me.name]=ke&&Me.repeatable?ke.split("/"):ke}return Ue}function Te(Ce){let Re="",Ue=!1;for(const De of e){(!Ue||!Re.endsWith("/"))&&(Re+="/"),Ue=!1;for(const ke of De)if(ke.type===0)Re+=ke.value;else if(ke.type===1){const{value:Me,repeatable:Oe,optional:Be}=ke,Ie=Me in Ce?Ce[Me]:"";if(isArray(Ie)&&!Oe)throw new Error(`Provided param "${Me}" is an array but it is not repeatable (* or + modifiers)`);const qe=isArray(Ie)?Ie.join("/"):Ie;if(!qe)if(Be)De.length<2&&(Re.endsWith("/")?Re=Re.slice(0,-1):Ue=!0);else throw new Error(`Missing required param "${Me}"`);Re+=qe}}return Re||"/"}return{re:Ee,score:_e,keys:Se,parse:xe,stringify:Te}}function compareScoreArray(e,t){let r=0;for(;r<e.length&&r<t.length;){const _e=t[r]-e[r];if(_e)return _e;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(e,t){let r=0;const _e=e.score,Ae=t.score;for(;r<_e.length&&r<Ae.length;){const Se=compareScoreArray(_e[r],Ae[r]);if(Se)return Se;r++}if(Math.abs(Ae.length-_e.length)===1){if(isLastScoreNegative(_e))return 1;if(isLastScoreNegative(Ae))return-1}return Ae.length-_e.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(ke){throw new Error(`ERR (${r})/"${Ce}": ${ke}`)}let r=0,_e=r;const Ae=[];let Se;function Ee(){Se&&Ae.push(Se),Se=[]}let xe=0,Te,Ce="",Re="";function Ue(){!Ce||(r===0?Se.push({type:0,value:Ce}):r===1||r===2||r===3?(Se.length>1&&(Te==="*"||Te==="+")&&t(`A repeatable param (${Ce}) must be alone in its segment. eg: '/:ids+.`),Se.push({type:1,value:Ce,regexp:Re,repeatable:Te==="*"||Te==="+",optional:Te==="*"||Te==="?"})):t("Invalid state to consume buffer"),Ce="")}function De(){Ce+=Te}for(;xe<e.length;){if(Te=e[xe++],Te==="\\"&&r!==2){_e=r,r=4;continue}switch(r){case 0:Te==="/"?(Ce&&Ue(),Ee()):Te===":"?(Ue(),r=1):De();break;case 4:De(),r=_e;break;case 1:Te==="("?r=2:VALID_PARAM_RE.test(Te)?De():(Ue(),r=0,Te!=="*"&&Te!=="?"&&Te!=="+"&&xe--);break;case 2:Te===")"?Re[Re.length-1]=="\\"?Re=Re.slice(0,-1)+Te:r=3:Re+=Te;break;case 3:Ue(),r=0,Te!=="*"&&Te!=="?"&&Te!=="+"&&xe--,Re="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${Ce}"`),Ue(),Ee(),Ae}function createRouteRecordMatcher(e,t,r){const _e=tokensToParser(tokenizePath(e.path),r),Ae=assign(_e,{record:e,parent:t,children:[],alias:[]});return t&&!Ae.record.aliasOf==!t.record.aliasOf&&t.children.push(Ae),Ae}function createRouterMatcher(e,t){const r=[],_e=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function Ae(Re){return _e.get(Re)}function Se(Re,Ue,De){const ke=!De,Me=normalizeRouteRecord(Re);Me.aliasOf=De&&De.record;const Oe=mergeOptions(t,Re),Be=[Me];if("alias"in Re){const je=typeof Re.alias=="string"?[Re.alias]:Re.alias;for(const ze of je)Be.push(assign({},Me,{components:De?De.record.components:Me.components,path:ze,aliasOf:De?De.record:Me}))}let Ie,qe;for(const je of Be){const{path:ze}=je;if(Ue&&ze[0]!=="/"){const Ve=Ue.record.path,He=Ve[Ve.length-1]==="/"?"":"/";je.path=Ue.record.path+(ze&&He+ze)}if(Ie=createRouteRecordMatcher(je,Ue,Oe),De?De.alias.push(Ie):(qe=qe||Ie,qe!==Ie&&qe.alias.push(Ie),ke&&Re.name&&!isAliasRecord(Ie)&&Ee(Re.name)),Me.children){const Ve=Me.children;for(let He=0;He<Ve.length;He++)Se(Ve[He],Ie,De&&De.children[He])}De=De||Ie,(Ie.record.components&&Object.keys(Ie.record.components).length||Ie.record.name||Ie.record.redirect)&&Te(Ie)}return qe?()=>{Ee(qe)}:noop}function Ee(Re){if(isRouteName(Re)){const Ue=_e.get(Re);Ue&&(_e.delete(Re),r.splice(r.indexOf(Ue),1),Ue.children.forEach(Ee),Ue.alias.forEach(Ee))}else{const Ue=r.indexOf(Re);Ue>-1&&(r.splice(Ue,1),Re.record.name&&_e.delete(Re.record.name),Re.children.forEach(Ee),Re.alias.forEach(Ee))}}function xe(){return r}function Te(Re){let Ue=0;for(;Ue<r.length&&comparePathParserScore(Re,r[Ue])>=0&&(Re.record.path!==r[Ue].record.path||!isRecordChildOf(Re,r[Ue]));)Ue++;r.splice(Ue,0,Re),Re.record.name&&!isAliasRecord(Re)&&_e.set(Re.record.name,Re)}function Ce(Re,Ue){let De,ke={},Me,Oe;if("name"in Re&&Re.name){if(De=_e.get(Re.name),!De)throw createRouterError(1,{location:Re});Oe=De.record.name,ke=assign(paramsFromLocation(Ue.params,De.keys.filter(qe=>!qe.optional).map(qe=>qe.name)),Re.params&&paramsFromLocation(Re.params,De.keys.map(qe=>qe.name))),Me=De.stringify(ke)}else if("path"in Re)Me=Re.path,De=r.find(qe=>qe.re.test(Me)),De&&(ke=De.parse(Me),Oe=De.record.name);else{if(De=Ue.name?_e.get(Ue.name):r.find(qe=>qe.re.test(Ue.path)),!De)throw createRouterError(1,{location:Re,currentLocation:Ue});Oe=De.record.name,ke=assign({},Ue.params,Re.params),Me=De.stringify(ke)}const Be=[];let Ie=De;for(;Ie;)Be.unshift(Ie.record),Ie=Ie.parent;return{name:Oe,path:Me,params:ke,matched:Be,meta:mergeMetaFields(Be)}}return e.forEach(Re=>Se(Re)),{addRoute:Se,resolve:Ce,removeRoute:Ee,getRoutes:xe,getRecordMatcher:Ae}}function paramsFromLocation(e,t){const r={};for(const _e of t)_e in e&&(r[_e]=e[_e]);return r}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function normalizeRecordProps(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const _e in e.components)t[_e]=typeof r=="boolean"?r:r[_e];return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,r)=>assign(t,r.meta),{})}function mergeOptions(e,t){const r={};for(const _e in e)r[_e]=_e in t?t[_e]:e[_e];return r}function isRecordChildOf(e,t){return t.children.some(r=>r===e||isRecordChildOf(e,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function parseQuery(e){const t={};if(e===""||e==="?")return t;const _e=(e[0]==="?"?e.slice(1):e).split("&");for(let Ae=0;Ae<_e.length;++Ae){const Se=_e[Ae].replace(PLUS_RE," "),Ee=Se.indexOf("="),xe=decode(Ee<0?Se:Se.slice(0,Ee)),Te=Ee<0?null:decode(Se.slice(Ee+1));if(xe in t){let Ce=t[xe];isArray(Ce)||(Ce=t[xe]=[Ce]),Ce.push(Te)}else t[xe]=Te}return t}function stringifyQuery(e){let t="";for(let r in e){const _e=e[r];if(r=encodeQueryKey(r),_e==null){_e!==void 0&&(t+=(t.length?"&":"")+r);continue}(isArray(_e)?_e.map(Se=>Se&&encodeQueryValue(Se)):[_e&&encodeQueryValue(_e)]).forEach(Se=>{Se!==void 0&&(t+=(t.length?"&":"")+r,Se!=null&&(t+="="+Se))})}return t}function normalizeQuery(e){const t={};for(const r in e){const _e=e[r];_e!==void 0&&(t[r]=isArray(_e)?_e.map(Ae=>Ae==null?null:""+Ae):_e==null?_e:""+_e)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(_e){return e.push(_e),()=>{const Ae=e.indexOf(_e);Ae>-1&&e.splice(Ae,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function guardToPromiseFn(e,t,r,_e,Ae){const Se=_e&&(_e.enterCallbacks[Ae]=_e.enterCallbacks[Ae]||[]);return()=>new Promise((Ee,xe)=>{const Te=Ue=>{Ue===!1?xe(createRouterError(4,{from:r,to:t})):Ue instanceof Error?xe(Ue):isRouteLocation(Ue)?xe(createRouterError(2,{from:t,to:Ue})):(Se&&_e.enterCallbacks[Ae]===Se&&typeof Ue=="function"&&Se.push(Ue),Ee())},Ce=e.call(_e&&_e.instances[Ae],t,r,Te);let Re=Promise.resolve(Ce);e.length<3&&(Re=Re.then(Te)),Re.catch(Ue=>xe(Ue))})}function extractComponentsGuards(e,t,r,_e){const Ae=[];for(const Se of e)for(const Ee in Se.components){let xe=Se.components[Ee];if(!(t!=="beforeRouteEnter"&&!Se.instances[Ee]))if(isRouteComponent(xe)){const Ce=(xe.__vccOpts||xe)[t];Ce&&Ae.push(guardToPromiseFn(Ce,r,_e,Se,Ee))}else{let Te=xe();Ae.push(()=>Te.then(Ce=>{if(!Ce)return Promise.reject(new Error(`Couldn't resolve component "${Ee}" at "${Se.path}"`));const Re=isESModule(Ce)?Ce.default:Ce;Se.components[Ee]=Re;const De=(Re.__vccOpts||Re)[t];return De&&guardToPromiseFn(De,r,_e,Se,Ee)()}))}}return Ae}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const t=inject(routerKey),r=inject(routeLocationKey),_e=computed(()=>t.resolve(unref(e.to))),Ae=computed(()=>{const{matched:Te}=_e.value,{length:Ce}=Te,Re=Te[Ce-1],Ue=r.matched;if(!Re||!Ue.length)return-1;const De=Ue.findIndex(isSameRouteRecord.bind(null,Re));if(De>-1)return De;const ke=getOriginalPath(Te[Ce-2]);return Ce>1&&getOriginalPath(Re)===ke&&Ue[Ue.length-1].path!==ke?Ue.findIndex(isSameRouteRecord.bind(null,Te[Ce-2])):De}),Se=computed(()=>Ae.value>-1&&includesParams(r.params,_e.value.params)),Ee=computed(()=>Ae.value>-1&&Ae.value===r.matched.length-1&&isSameRouteLocationParams(r.params,_e.value.params));function xe(Te={}){return guardEvent(Te)?t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop):Promise.resolve()}return{route:_e,href:computed(()=>_e.value.href),isActive:Se,isExactActive:Ee,navigate:xe}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:t}){const r=reactive(useLink(e)),{options:_e}=inject(routerKey),Ae=computed(()=>({[getLinkClass(e.activeClass,_e.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(e.exactActiveClass,_e.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const Se=t.default&&t.default(r);return e.custom?Se:h$1("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:Ae.value},Se)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const r in t){const _e=t[r],Ae=e[r];if(typeof _e=="string"){if(_e!==Ae)return!1}else if(!isArray(Ae)||Ae.length!==_e.length||_e.some((Se,Ee)=>Se!==Ae[Ee]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,r)=>e!=null?e:t!=null?t:r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const _e=inject(routerViewLocationKey),Ae=computed(()=>e.route||_e.value),Se=inject(viewDepthKey,0),Ee=computed(()=>{let Ce=unref(Se);const{matched:Re}=Ae.value;let Ue;for(;(Ue=Re[Ce])&&!Ue.components;)Ce++;return Ce}),xe=computed(()=>Ae.value.matched[Ee.value]);provide(viewDepthKey,computed(()=>Ee.value+1)),provide(matchedRouteKey,xe),provide(routerViewLocationKey,Ae);const Te=ref();return watch(()=>[Te.value,xe.value,e.name],([Ce,Re,Ue],[De,ke,Me])=>{Re&&(Re.instances[Ue]=Ce,ke&&ke!==Re&&Ce&&Ce===De&&(Re.leaveGuards.size||(Re.leaveGuards=ke.leaveGuards),Re.updateGuards.size||(Re.updateGuards=ke.updateGuards))),Ce&&Re&&(!ke||!isSameRouteRecord(Re,ke)||!De)&&(Re.enterCallbacks[Ue]||[]).forEach(Oe=>Oe(Ce))},{flush:"post"}),()=>{const Ce=Ae.value,Re=e.name,Ue=xe.value,De=Ue&&Ue.components[Re];if(!De)return normalizeSlot(r.default,{Component:De,route:Ce});const ke=Ue.props[Re],Me=ke?ke===!0?Ce.params:typeof ke=="function"?ke(Ce):ke:null,Be=h$1(De,assign({},Me,t,{onVnodeUnmounted:Ie=>{Ie.component.isUnmounted&&(Ue.instances[Re]=null)},ref:Te}));return normalizeSlot(r.default,{Component:Be,route:Ce})||Be}}});function normalizeSlot(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),r=e.parseQuery||parseQuery,_e=e.stringifyQuery||stringifyQuery,Ae=e.history,Se=useCallbacks(),Ee=useCallbacks(),xe=useCallbacks(),Te=shallowRef(START_LOCATION_NORMALIZED);let Ce=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const Re=applyToParams.bind(null,en=>""+en),Ue=applyToParams.bind(null,encodeParam),De=applyToParams.bind(null,decode);function ke(en,on){let hn,bn;return isRouteName(en)?(hn=t.getRecordMatcher(en),bn=on):bn=en,t.addRoute(bn,hn)}function Me(en){const on=t.getRecordMatcher(en);on&&t.removeRoute(on)}function Oe(){return t.getRoutes().map(en=>en.record)}function Be(en){return!!t.getRecordMatcher(en)}function Ie(en,on){if(on=assign({},on||Te.value),typeof en=="string"){const un=parseURL(r,en,on.path),mn=t.resolve({path:un.path},on),St=Ae.createHref(un.fullPath);return assign(un,mn,{params:De(mn.params),hash:decode(un.hash),redirectedFrom:void 0,href:St})}let hn;if("path"in en)hn=assign({},en,{path:parseURL(r,en.path,on.path).path});else{const un=assign({},en.params);for(const mn in un)un[mn]==null&&delete un[mn];hn=assign({},en,{params:Ue(en.params)}),on.params=Ue(on.params)}const bn=t.resolve(hn,on),Ln=en.hash||"";bn.params=Re(De(bn.params));const Vn=stringifyURL(_e,assign({},en,{hash:encodeHash(Ln),path:bn.path})),Wn=Ae.createHref(Vn);return assign({fullPath:Vn,hash:Ln,query:_e===stringifyQuery?normalizeQuery(en.query):en.query||{}},bn,{redirectedFrom:void 0,href:Wn})}function qe(en){return typeof en=="string"?parseURL(r,en,Te.value.path):assign({},en)}function je(en,on){if(Ce!==en)return createRouterError(8,{from:on,to:en})}function ze(en){return Qe(en)}function Ve(en){return ze(assign(qe(en),{replace:!0}))}function He(en){const on=en.matched[en.matched.length-1];if(on&&on.redirect){const{redirect:hn}=on;let bn=typeof hn=="function"?hn(en):hn;return typeof bn=="string"&&(bn=bn.includes("?")||bn.includes("#")?bn=qe(bn):{path:bn},bn.params={}),assign({query:en.query,hash:en.hash,params:"path"in bn?{}:en.params},bn)}}function Qe(en,on){const hn=Ce=Ie(en),bn=Te.value,Ln=en.state,Vn=en.force,Wn=en.replace===!0,un=He(hn);if(un)return Qe(assign(qe(un),{state:typeof un=="object"?assign({},Ln,un.state):Ln,force:Vn,replace:Wn}),on||hn);const mn=hn;mn.redirectedFrom=on;let St;return!Vn&&isSameRouteLocation(_e,bn,hn)&&(St=createRouterError(16,{to:mn,from:bn}),Hn(bn,bn,!0,!1)),(St?Promise.resolve(St):dn(mn,bn)).catch(tn=>isNavigationFailure(tn)?isNavigationFailure(tn,2)?tn:On(tn):vn(tn,mn,bn)).then(tn=>{if(tn){if(isNavigationFailure(tn,2))return Qe(assign({replace:Wn},qe(tn.to),{state:typeof tn.to=="object"?assign({},Ln,tn.to.state):Ln,force:Vn}),on||mn)}else tn=Ke(mn,bn,!0,Wn,Ln);return an(mn,bn,tn),tn})}function Je(en,on){const hn=je(en,on);return hn?Promise.reject(hn):Promise.resolve()}function dn(en,on){let hn;const[bn,Ln,Vn]=extractChangingRecords(en,on);hn=extractComponentsGuards(bn.reverse(),"beforeRouteLeave",en,on);for(const un of bn)un.leaveGuards.forEach(mn=>{hn.push(guardToPromiseFn(mn,en,on))});const Wn=Je.bind(null,en,on);return hn.push(Wn),runGuardQueue(hn).then(()=>{hn=[];for(const un of Se.list())hn.push(guardToPromiseFn(un,en,on));return hn.push(Wn),runGuardQueue(hn)}).then(()=>{hn=extractComponentsGuards(Ln,"beforeRouteUpdate",en,on);for(const un of Ln)un.updateGuards.forEach(mn=>{hn.push(guardToPromiseFn(mn,en,on))});return hn.push(Wn),runGuardQueue(hn)}).then(()=>{hn=[];for(const un of en.matched)if(un.beforeEnter&&!on.matched.includes(un))if(isArray(un.beforeEnter))for(const mn of un.beforeEnter)hn.push(guardToPromiseFn(mn,en,on));else hn.push(guardToPromiseFn(un.beforeEnter,en,on));return hn.push(Wn),runGuardQueue(hn)}).then(()=>(en.matched.forEach(un=>un.enterCallbacks={}),hn=extractComponentsGuards(Vn,"beforeRouteEnter",en,on),hn.push(Wn),runGuardQueue(hn))).then(()=>{hn=[];for(const un of Ee.list())hn.push(guardToPromiseFn(un,en,on));return hn.push(Wn),runGuardQueue(hn)}).catch(un=>isNavigationFailure(un,8)?un:Promise.reject(un))}function an(en,on,hn){for(const bn of xe.list())bn(en,on,hn)}function Ke(en,on,hn,bn,Ln){const Vn=je(en,on);if(Vn)return Vn;const Wn=on===START_LOCATION_NORMALIZED,un=isBrowser?history.state:{};hn&&(bn||Wn?Ae.replace(en.fullPath,assign({scroll:Wn&&un&&un.scroll},Ln)):Ae.push(en.fullPath,Ln)),Te.value=en,Hn(en,on,hn,Wn),On()}let rn;function Cn(){rn||(rn=Ae.listen((en,on,hn)=>{if(!Ye.listening)return;const bn=Ie(en),Ln=He(bn);if(Ln){Qe(assign(Ln,{replace:!0}),bn).catch(noop);return}Ce=bn;const Vn=Te.value;isBrowser&&saveScrollPosition(getScrollKey(Vn.fullPath,hn.delta),computeScrollPosition()),dn(bn,Vn).catch(Wn=>isNavigationFailure(Wn,12)?Wn:isNavigationFailure(Wn,2)?(Qe(Wn.to,bn).then(un=>{isNavigationFailure(un,20)&&!hn.delta&&hn.type===NavigationType.pop&&Ae.go(-1,!1)}).catch(noop),Promise.reject()):(hn.delta&&Ae.go(-hn.delta,!1),vn(Wn,bn,Vn))).then(Wn=>{Wn=Wn||Ke(bn,Vn,!1),Wn&&(hn.delta&&!isNavigationFailure(Wn,8)?Ae.go(-hn.delta,!1):hn.type===NavigationType.pop&&isNavigationFailure(Wn,20)&&Ae.go(-1,!1)),an(bn,Vn,Wn)}).catch(noop)}))}let Sn=useCallbacks(),fn=useCallbacks(),gn;function vn(en,on,hn){On(en);const bn=fn.list();return bn.length?bn.forEach(Ln=>Ln(en,on,hn)):console.error(en),Promise.reject(en)}function pn(){return gn&&Te.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((en,on)=>{Sn.add([en,on])})}function On(en){return gn||(gn=!en,Cn(),Sn.list().forEach(([on,hn])=>en?hn(en):on()),Sn.reset()),en}function Hn(en,on,hn,bn){const{scrollBehavior:Ln}=e;if(!isBrowser||!Ln)return Promise.resolve();const Vn=!hn&&getSavedScrollPosition(getScrollKey(en.fullPath,0))||(bn||!hn)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Ln(en,on,Vn)).then(Wn=>Wn&&scrollToPosition(Wn)).catch(Wn=>vn(Wn,en,on))}const Bn=en=>Ae.go(en);let Ze;const Xe=new Set,Ye={currentRoute:Te,listening:!0,addRoute:ke,removeRoute:Me,hasRoute:Be,getRoutes:Oe,resolve:Ie,options:e,push:ze,replace:Ve,go:Bn,back:()=>Bn(-1),forward:()=>Bn(1),beforeEach:Se.add,beforeResolve:Ee.add,afterEach:xe.add,onError:fn.add,isReady:pn,install(en){const on=this;en.component("RouterLink",RouterLink),en.component("RouterView",RouterView),en.config.globalProperties.$router=on,Object.defineProperty(en.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(Te)}),isBrowser&&!Ze&&Te.value===START_LOCATION_NORMALIZED&&(Ze=!0,ze(Ae.location).catch(Ln=>{}));const hn={};for(const Ln in START_LOCATION_NORMALIZED)hn[Ln]=computed(()=>Te.value[Ln]);en.provide(routerKey,on),en.provide(routeLocationKey,reactive(hn)),en.provide(routerViewLocationKey,Te);const bn=en.unmount;Xe.add(en),en.unmount=function(){Xe.delete(en),Xe.size<1&&(Ce=START_LOCATION_NORMALIZED,rn&&rn(),rn=null,Te.value=START_LOCATION_NORMALIZED,Ze=!1,gn=!1),bn()}}};return Ye}function runGuardQueue(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function extractChangingRecords(e,t){const r=[],_e=[],Ae=[],Se=Math.max(t.matched.length,e.matched.length);for(let Ee=0;Ee<Se;Ee++){const xe=t.matched[Ee];xe&&(e.matched.find(Ce=>isSameRouteRecord(Ce,xe))?_e.push(xe):r.push(xe));const Te=e.matched[Ee];Te&&(t.matched.find(Ce=>isSameRouteRecord(Ce,Te))||Ae.push(Te))}return[r,_e,Ae]}const routes=[{path:"/",name:"app",component:()=>__vitePreload(()=>Promise.resolve().then(()=>App$1),void 0)},{path:"/fileUpload",name:"FileUpload",component:()=>__vitePreload(()=>Promise.resolve().then(()=>FileUpload$1),void 0)},{path:"/FileReview",name:"FileReview",component:()=>__vitePreload(()=>Promise.resolve().then(()=>FileReview$1),void 0)},{path:"/pdfview",name:"pdfview",component:()=>__vitePreload(()=>Promise.resolve().then(()=>pdfview$1),void 0)}],router=createRouter({history:createWebHistory(),linkExactActiveClass:"active",routes}),app=createApp(App),emitter=mitt();app.config.globalProperties.$emitter=emitter;app.use(router).mount("#app");export{commonjsGlobal as c};
